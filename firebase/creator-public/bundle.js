var app=function(){"use strict";function t(){}const e=t=>t;function n(t,e){for(const n in e)t[n]=e[n];return t}function r(t){return t()}function o(){return Object.create(null)}function i(t){t.forEach(r)}function s(t){return"function"==typeof t}function a(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function c(e,...n){if(null==e)return t;const r=e.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(t,e,n){t.$$.on_destroy.push(c(e,n))}function u(t,e,n,r){if(t){const o=p(t,e,n,r);return t[0](o)}}function p(t,e,r,o){return t[1]&&o?n(r.ctx.slice(),t[1](o(e))):r.ctx}function d(t,e,n,r,o,i,s){const a=function(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let r=0;r<n;r+=1)t[r]=e.dirty[r]|o[r];return t}return e.dirty|o}return e.dirty}(e,r,o,i);if(a){const o=p(e,n,r,s);t.p(o,a)}}function f(t){const e={};for(const n in t)"$"!==n[0]&&(e[n]=t[n]);return e}function h(t,e,n=e){return t.set(n),e}function m(e){return e&&s(e.destroy)?e.destroy:t}const v="undefined"!=typeof window;let g=v?()=>window.performance.now():()=>Date.now(),y=v?t=>requestAnimationFrame(t):t;const _=new Set;function b(t){_.forEach((e=>{e.c(t)||(_.delete(e),e.f())})),0!==_.size&&y(b)}function $(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function x(t){t.parentNode.removeChild(t)}function k(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function S(t){return document.createElement(t)}function E(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function T(t){return document.createTextNode(t)}function C(){return T(" ")}function O(){return T("")}function I(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function R(t){return function(e){return e.preventDefault(),t.call(this,e)}}function z(t){return function(e){return e.stopPropagation(),t.call(this,e)}}function j(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function L(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function D(t,e){t.value=null==e?"":e}function N(t,e,n,r){t.style.setProperty(e,n,r?"important":"")}function q(t,e,n){t.classList[n?"add":"remove"](e)}function P(t,e){const n=document.createEvent("CustomEvent");return n.initCustomEvent(t,!1,!1,e),n}const U=new Set;let A,M=0;function F(t,e,n,r,o,i,s,a=0){const c=16.666/r;let l="{\n";for(let t=0;t<=1;t+=c){const r=e+(n-e)*i(t);l+=100*t+`%{${s(r,1-r)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,p=`__svelte_${function(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}(u)}_${a}`,d=t.ownerDocument;U.add(d);const f=d.__svelte_stylesheet||(d.__svelte_stylesheet=d.head.appendChild(S("style")).sheet),h=d.__svelte_rules||(d.__svelte_rules={});h[p]||(h[p]=!0,f.insertRule(`@keyframes ${p} ${u}`,f.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${p} ${r}ms linear ${o}ms 1 both`,M+=1,p}function B(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?t=>t.indexOf(e)<0:t=>-1===t.indexOf("__svelte")),o=n.length-r.length;o&&(t.style.animation=r.join(", "),M-=o,M||y((()=>{M||(U.forEach((t=>{const e=t.__svelte_stylesheet;let n=e.cssRules.length;for(;n--;)e.deleteRule(n);t.__svelte_rules={}})),U.clear())})))}function H(t){A=t}function W(){if(!A)throw new Error("Function called outside component initialization");return A}function X(t){W().$$.on_mount.push(t)}function Y(t){W().$$.on_destroy.push(t)}function G(t,e){W().$$.context.set(t,e)}function J(t){return W().$$.context.get(t)}function V(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach((t=>t(e)))}const K=[],Q=[],Z=[],tt=[],et=Promise.resolve();let nt=!1;function rt(t){Z.push(t)}function ot(t){tt.push(t)}let it=!1;const st=new Set;function at(){if(!it){it=!0;do{for(let t=0;t<K.length;t+=1){const e=K[t];H(e),ct(e.$$)}for(H(null),K.length=0;Q.length;)Q.pop()();for(let t=0;t<Z.length;t+=1){const e=Z[t];st.has(e)||(st.add(e),e())}Z.length=0}while(K.length);for(;tt.length;)tt.pop()();nt=!1,it=!1,st.clear()}}function ct(t){if(null!==t.fragment){t.update(),i(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(rt)}}let lt;function ut(t,e,n){t.dispatchEvent(P(`${e?"intro":"outro"}${n}`))}const pt=new Set;let dt;function ft(){dt={r:0,c:[],p:dt}}function ht(){dt.r||i(dt.c),dt=dt.p}function mt(t,e){t&&t.i&&(pt.delete(t),t.i(e))}function vt(t,e,n,r){if(t&&t.o){if(pt.has(t))return;pt.add(t),dt.c.push((()=>{pt.delete(t),r&&(n&&t.d(1),r())})),t.o(e)}}const gt={duration:0};function yt(n,r,o,a){let c=r(n,o),l=a?0:1,u=null,p=null,d=null;function f(){d&&B(n,d)}function h(t,e){const n=t.b-l;return e*=Math.abs(n),{a:l,b:t.b,d:n,duration:e,start:t.start,end:t.start+e,group:t.group}}function m(r){const{delay:o=0,duration:s=300,easing:a=e,tick:m=t,css:v}=c||gt,$={start:g()+o,b:r};r||($.group=dt,dt.r+=1),u||p?p=$:(v&&(f(),d=F(n,l,r,s,o,a,v)),r&&m(0,1),u=h($,s),rt((()=>ut(n,r,"start"))),function(t){let e;0===_.size&&y(b),new Promise((n=>{_.add(e={c:t,f:n})}))}((t=>{if(p&&t>p.start&&(u=h(p,s),p=null,ut(n,u.b,"start"),v&&(f(),d=F(n,l,u.b,u.duration,0,a,c.css))),u)if(t>=u.end)m(l=u.b,1-l),ut(n,u.b,"end"),p||(u.b?f():--u.group.r||i(u.group.c)),u=null;else if(t>=u.start){const e=t-u.start;l=u.a+u.d*a(e/u.duration),m(l,1-l)}return!(!u&&!p)})))}return{run(t){s(c)?(lt||(lt=Promise.resolve(),lt.then((()=>{lt=null}))),lt).then((()=>{c=c(),m(t)})):m(t)},end(){f(),u=p=null}}}function _t(t,e){const n=e.token={};function r(t,r,o,i){if(e.token!==n)return;e.resolved=i;let s=e.ctx;void 0!==o&&(s=s.slice(),s[o]=i);const a=t&&(e.current=t)(s);let c=!1;e.block&&(e.blocks?e.blocks.forEach(((t,n)=>{n!==r&&t&&(ft(),vt(t,1,1,(()=>{e.blocks[n]===t&&(e.blocks[n]=null)})),ht())})):e.block.d(1),a.c(),mt(a,1),a.m(e.mount(),e.anchor),c=!0),e.block=a,e.blocks&&(e.blocks[r]=a),c&&at()}if((o=t)&&"object"==typeof o&&"function"==typeof o.then){const n=W();if(t.then((t=>{H(n),r(e.then,1,e.value,t),H(null)}),(t=>{if(H(n),r(e.catch,2,e.error,t),H(null),!e.hasCatch)throw t})),e.current!==e.pending)return r(e.pending,0),!0}else{if(e.current!==e.then)return r(e.then,1,e.value,t),!0;e.resolved=t}var o}function bt(t,e){vt(t,1,1,(()=>{e.delete(t.key)}))}function $t(t){return"object"==typeof t&&null!==t?t:{}}function wt(t,e,n){const r=t.$$.props[e];void 0!==r&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function xt(t){t&&t.c()}function kt(t,e,n){const{fragment:o,on_mount:a,on_destroy:c,after_update:l}=t.$$;o&&o.m(e,n),rt((()=>{const e=a.map(r).filter(s);c?c.push(...e):i(e),t.$$.on_mount=[]})),l.forEach(rt)}function St(t,e){const n=t.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Et(t,e){-1===t.$$.dirty[0]&&(K.push(t),nt||(nt=!0,et.then(at)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Tt(e,n,r,s,a,c,l=[-1]){const u=A;H(e);const p=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:l,skip_bound:!1};let d=!1;if(p.ctx=r?r(e,n.props||{},((t,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&a(p.ctx[t],p.ctx[t]=o)&&(!p.skip_bound&&p.bound[t]&&p.bound[t](o),d&&Et(e,t)),n})):[],p.update(),d=!0,i(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const t=function(t){return Array.from(t.childNodes)}(n.target);p.fragment&&p.fragment.l(t),t.forEach(x)}else p.fragment&&p.fragment.c();n.intro&&mt(e.$$.fragment),kt(e,n.target,n.anchor),at()}H(u)}class Ct{$destroy(){St(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const Ot=[];function It(e,n=t){let r;const o=[];function i(t){if(a(e,t)&&(e=t,r)){const t=!Ot.length;for(let t=0;t<o.length;t+=1){const n=o[t];n[1](),Ot.push(n,e)}if(t){for(let t=0;t<Ot.length;t+=2)Ot[t][0](Ot[t+1]);Ot.length=0}}}return{set:i,update:function(t){i(t(e))},subscribe:function(s,a=t){const c=[s,a];return o.push(c),1===o.length&&(r=n(i)||t),s(e),()=>{const t=o.indexOf(c);-1!==t&&o.splice(t,1),0===o.length&&(r(),r=null)}}}}function Rt(e,n,r){const o=!Array.isArray(e),a=o?[e]:e,l=n.length<2;return{subscribe:It(r,(e=>{let r=!1;const u=[];let p=0,d=t;const f=()=>{if(p)return;d();const r=n(o?u[0]:u,e);l?e(r):d=s(r)?r:t},h=a.map(((t,e)=>c(t,(t=>{u[e]=t,p&=~(1<<e),r&&f()}),(()=>{p|=1<<e}))));return r=!0,f(),function(){i(h),d()}})).subscribe}}const zt={},jt={};function Lt(t){return{...t.location,state:t.history.state,key:t.history.state&&t.history.state.key||"initial"}}const Dt=function(t,e){const n=[];let r=Lt(t);return{get location(){return r},listen(e){n.push(e);const o=()=>{r=Lt(t),e({location:r,action:"POP"})};return t.addEventListener("popstate",o),()=>{t.removeEventListener("popstate",o);const r=n.indexOf(e);n.splice(r,1)}},navigate(e,{state:o,replace:i=!1}={}){o={...o,key:Date.now()+""};try{i?t.history.replaceState(o,null,e):t.history.pushState(o,null,e)}catch(n){t.location[i?"replace":"assign"](e)}r=Lt(t),n.forEach((t=>t({location:r,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(t="/"){let e=0;const n=[{pathname:t,search:""}],r=[];return{get location(){return n[e]},addEventListener(t,e){},removeEventListener(t,e){},history:{get entries(){return n},get index(){return e},get state(){return r[e]},pushState(t,o,i){const[s,a=""]=i.split("?");e++,n.push({pathname:s,search:a}),r.push(t)},replaceState(t,o,i){const[s,a=""]=i.split("?");n[e]={pathname:s,search:a},r[e]=t}}}}()),{navigate:Nt}=Dt,qt=/^:(.+)/;function Pt(t){return"*"===t[0]}function Ut(t){return t.replace(/(^\/+|\/+$)/g,"").split("/")}function At(t){return t.replace(/(^\/+|\/+$)/g,"")}function Mt(t,e){return{route:t,score:t.default?0:Ut(t.path).reduce(((t,e)=>(t+=4,!function(t){return""===t}(e)?!function(t){return qt.test(t)}(e)?Pt(e)?t-=5:t+=3:t+=2:t+=1,t)),0),index:e}}function Ft(t,e){let n,r;const[o]=e.split("?"),i=Ut(o),s=""===i[0],a=function(t){return t.map(Mt).sort(((t,e)=>t.score<e.score?1:t.score>e.score?-1:t.index-e.index))}(t);for(let t=0,o=a.length;t<o;t++){const o=a[t].route;let c=!1;if(o.default){r={route:o,params:{},uri:e};continue}const l=Ut(o.path),u={},p=Math.max(i.length,l.length);let d=0;for(;d<p;d++){const t=l[d],e=i[d];if(void 0!==t&&Pt(t)){u["*"===t?"*":t.slice(1)]=i.slice(d).map(decodeURIComponent).join("/");break}if(void 0===e){c=!0;break}let n=qt.exec(t);if(n&&!s){const t=decodeURIComponent(e);u[n[1]]=t}else if(t!==e){c=!0;break}}if(!c){n={route:o,params:u,uri:"/"+i.slice(0,d).join("/")};break}}return n||r||null}function Bt(t,e){return`${At("/"===e?t:`${At(t)}/${At(e)}`)}/`}function Ht(t){let e;const n=t[10].default,r=u(n,t,t[9],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,[e]){r&&r.p&&512&e&&d(r,n,t,t[9],e,null,null)},i(t){e||(mt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Wt(t,e,n){let r,o,i,{$$slots:s={},$$scope:a}=e,{basepath:c="/"}=e,{url:u=null}=e;const p=J(zt),d=J(jt),f=It([]);l(t,f,(t=>n(8,i=t)));const h=It(null);let m=!1;const v=p||It(u?{pathname:u}:Dt.location);l(t,v,(t=>n(7,o=t)));const g=d?d.routerBase:It({path:c,uri:c});l(t,g,(t=>n(6,r=t)));const y=Rt([g,h],(([t,e])=>{if(null===e)return t;const{path:n}=t,{route:r,uri:o}=e;return{path:r.default?n:r.path.replace(/\*.*$/,""),uri:o}}));return p||(X((()=>Dt.listen((t=>{v.set(t.location)})))),G(zt,v)),G(jt,{activeRoute:h,base:g,routerBase:y,registerRoute:function(t){const{path:e}=r;let{path:n}=t;if(t._path=n,t.path=Bt(e,n),"undefined"==typeof window){if(m)return;const e=function(t,e){return Ft([t],e)}(t,o.pathname);e&&(h.set(e),m=!0)}else f.update((e=>(e.push(t),e)))},unregisterRoute:function(t){f.update((e=>{const n=e.indexOf(t);return e.splice(n,1),e}))}}),t.$$set=t=>{"basepath"in t&&n(3,c=t.basepath),"url"in t&&n(4,u=t.url),"$$scope"in t&&n(9,a=t.$$scope)},t.$$.update=()=>{if(64&t.$$.dirty){const{path:t}=r;f.update((e=>(e.forEach((e=>e.path=Bt(t,e._path))),e)))}if(384&t.$$.dirty){const t=Ft(i,o.pathname);h.set(t)}},[f,v,g,c,u,h,r,o,i,a,s]}class Xt extends Ct{constructor(t){super(),Tt(this,t,Wt,Ht,a,{basepath:3,url:4,activeRoute:5})}get activeRoute(){return this.$$.ctx[5]}}const Yt=t=>({params:4&t,location:16&t}),Gt=t=>({params:t[2],location:t[4]});function Jt(t){let e,n,r,o;const i=[Kt,Vt],s=[];function a(t,e){return null!==t[0]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),w(t,r,n),o=!0},p(t,o){let c=e;e=a(t),e===c?s[e].p(t,o):(ft(),vt(s[c],1,1,(()=>{s[c]=null})),ht(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),mt(n,1),n.m(r.parentNode,r))},i(t){o||(mt(n),o=!0)},o(t){vt(n),o=!1},d(t){s[e].d(t),t&&x(r)}}}function Vt(t){let e;const n=t[10].default,r=u(n,t,t[9],Gt);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&532&e&&d(r,n,t,t[9],e,Yt,Gt)},i(t){e||(mt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function Kt(t){let e,r,o;const i=[{location:t[4]},t[2],t[3]];var s=t[0];function a(t){let e={};for(let t=0;t<i.length;t+=1)e=n(e,i[t]);return{props:e}}return s&&(e=new s(a())),{c(){e&&xt(e.$$.fragment),r=O()},m(t,n){e&&kt(e,t,n),w(t,r,n),o=!0},p(t,n){const o=28&n?function(t,e){const n={},r={},o={$$scope:1};let i=t.length;for(;i--;){const s=t[i],a=e[i];if(a){for(const t in s)t in a||(r[t]=1);for(const t in a)o[t]||(n[t]=a[t],o[t]=1);t[i]=a}else for(const t in s)o[t]=1}for(const t in r)t in n||(n[t]=void 0);return n}(i,[16&n&&{location:t[4]},4&n&&$t(t[2]),8&n&&$t(t[3])]):{};if(s!==(s=t[0])){if(e){ft();const t=e;vt(t.$$.fragment,1,0,(()=>{St(t,1)})),ht()}s?(e=new s(a()),xt(e.$$.fragment),mt(e.$$.fragment,1),kt(e,r.parentNode,r)):e=null}else s&&e.$set(o)},i(t){o||(e&&mt(e.$$.fragment,t),o=!0)},o(t){e&&vt(e.$$.fragment,t),o=!1},d(t){t&&x(r),e&&St(e,t)}}}function Qt(t){let e,n,r=null!==t[1]&&t[1].route===t[7]&&Jt(t);return{c(){r&&r.c(),e=O()},m(t,o){r&&r.m(t,o),w(t,e,o),n=!0},p(t,[n]){null!==t[1]&&t[1].route===t[7]?r?(r.p(t,n),2&n&&mt(r,1)):(r=Jt(t),r.c(),mt(r,1),r.m(e.parentNode,e)):r&&(ft(),vt(r,1,1,(()=>{r=null})),ht())},i(t){n||(mt(r),n=!0)},o(t){vt(r),n=!1},d(t){r&&r.d(t),t&&x(e)}}}function Zt(t,e,r){let o,i,{$$slots:s={},$$scope:a}=e,{path:c=""}=e,{component:u=null}=e;const{registerRoute:p,unregisterRoute:d,activeRoute:h}=J(jt);l(t,h,(t=>r(1,o=t)));const m=J(zt);l(t,m,(t=>r(4,i=t)));const v={path:c,default:""===c};let g={},y={};return p(v),"undefined"!=typeof window&&Y((()=>{d(v)})),t.$$set=t=>{r(13,e=n(n({},e),f(t))),"path"in t&&r(8,c=t.path),"component"in t&&r(0,u=t.component),"$$scope"in t&&r(9,a=t.$$scope)},t.$$.update=()=>{2&t.$$.dirty&&o&&o.route===v&&r(2,g=o.params);{const{path:t,component:n,...o}=e;r(3,y=o)}},e=f(e),[u,o,g,y,i,h,m,v,c,a,s]}class te extends Ct{constructor(t){super(),Tt(this,t,Zt,Qt,a,{path:8,component:0})}}function ee(t){function e(t){const e=t.currentTarget;""===e.target&&function(t){const e=location.host;return t.host==e||0===t.href.indexOf(`https://${e}`)||0===t.href.indexOf(`http://${e}`)}(e)&&function(t){return!t.defaultPrevented&&0===t.button&&!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}(t)&&(t.preventDefault(),Nt(e.pathname+e.search,{replace:e.hasAttribute("replace")}))}return t.addEventListener("click",e),{destroy(){t.removeEventListener("click",e)}}}const ne=It("#46b978");const re=function(){let t=Boolean(localStorage.getItem("sideNav"))||!1;const{subscribe:e,set:n,update:r}=It(t);return{subscribe:e,set:t=>{localStorage.setItem("sideNav",t),n(t)}}}(),oe=It(!0);if("undefined"!=typeof navigator&&"ReactNative"===navigator.product&&"undefined"==typeof crypto)throw new Error("React Native does not have a built-in secure random generator. If you donâ€™t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID. If you use Expo, install `expo-random` and use `nanoid/async`.");if("undefined"!=typeof msCrypto&&"undefined"==typeof crypto)throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if("undefined"==typeof crypto)throw new Error("Your browser does not have secure random generator. If you donâ€™t need unpredictable IDs, you can use nanoid/non-secure.");let ie=t=>crypto.getRandomValues(new Uint8Array(t));const se={black:"#000000",grey:"#e5e5e5",red:"#941E1E",white:"#ffffff",green:"#3B922D"},ae=t=>null!=se[t.toLowerCase()]?se[t.toLowerCase()]:se.black,ce=t=>Object.entries(t).reduce(((t,[e,n])=>t+e+": "+n+";"),""),le=(t,e)=>"https://firebasestorage.googleapis.com/v0/b/unify-tn.appspot.com/o/"+encodeURIComponent(e)+"?alt=media&token="+t,ue=((t,e)=>((t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*r*e/t.length);return()=>{let i="";for(;;){let s=n(o),a=o;for(;a--;)if(i+=t[s[a]&r]||"",i.length===e)return i}}})(t,e,ie))("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",6),pe=It(0),de=It({}),fe={Delivered:"34bf65",Printing:"2985d4",Delivering:"ffb100","In Progress":"34bf65"},he=({cost:t,profit:e,delivery:n,taxRate:r,clicToPay:o,ceil:i})=>{null==r&&(r=.19),null==o&&(o=.025),console.log(t);let s=(e*(1+r)+n+t)*(1+o);return console.log(s),i&&(s=Math.ceil(s)),s};firebase.initializeApp({apiKey:"AIzaSyDucnhtBFM0HOg8dxk3lUIRcV8pHmifzXc",authDomain:"unify-tn.firebaseapp.com",databaseURL:"https://unify-tn.firebaseio.com",projectId:"unify-tn",storageBucket:"unify-tn.appspot.com",messagingSenderId:"393516846997",appId:"1:393516846997:web:616a0b2f63d1ab7d82b09c"});const me=firebase.firestore(),ve=firebase.auth(),ge=It("init"),ye=firebase.storage();function _e(e){let n,r,o;return{c(){n=E("svg"),r=E("circle"),j(r,"class","path svelte-bzpqu"),j(r,"fill","none"),j(r,"stroke-width","6"),j(r,"stroke-linecap","round"),j(r,"cx","33"),j(r,"cy","33"),j(r,"r","30"),j(n,"class","spinner svelte-bzpqu"),j(n,"style",o="height:"+e[0]+"; width:"+e[1]+";"),j(n,"viewBox","0 0 66 66"),j(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){w(t,n,e),$(n,r)},p(t,[e]){3&e&&o!==(o="height:"+t[0]+"; width:"+t[1]+";")&&j(n,"style",o)},i:t,o:t,d(t){t&&x(n)}}}function be(t,e,n){let{height:r="65px"}=e,{width:o="65px"}=e;return t.$$set=t=>{"height"in t&&n(0,r=t.height),"width"in t&&n(1,o=t.width)},[r,o]}ve.onAuthStateChanged((async function(t){if(t){console.log(t);let e=await t.getIdTokenResult();if(console.log(e),t.claims=e.claims,null==t.claims.username)return pe.set({accentColor:"error",title:"Error",content:"This is user account, not a content creator account"}),void await firebase.auth().signOut();console.log(e),t.docData=(await me.collection("creators").doc(e.claims.username).get()).data(),t.docData&&t.docData.accentColor&&ne.set(t.docData.accentColor),console.log("the kuser"),console.log(t),ge.set(t)}else ge.set(0)}));class $e extends Ct{constructor(t){super(),Tt(this,t,be,_e,a,{height:0,width:1})}}function we(e){let n,r,o;return r=new $e({props:{width:"75px",height:"75px"}}),{c(){n=S("div"),xt(r.$$.fragment),j(n,"class","u-center-area svelte-xka8c7")},m(t,e){w(t,n,e),kt(r,n,null),o=!0},p:t,i(t){o||(mt(r.$$.fragment,t),o=!0)},o(t){vt(r.$$.fragment,t),o=!1},d(t){t&&x(n),St(r)}}}function xe(t){return X((()=>{Nt("/",{replace:!0})})),[]}class ke extends Ct{constructor(t){super(),Tt(this,t,xe,we,a,{})}}function Se(e){let n,r,o,i,s,a,c;return{c(){n=S("header"),r=S("a"),o=S("img"),s=T(" Create a Merch"),o.src!==(i="/imgs/misc/merch.png")&&j(o,"src","/imgs/misc/merch.png"),j(o,"alt",""),j(o,"class","svelte-1utf3vu"),j(r,"href","/merch/create"),j(r,"class","u-button svelte-1utf3vu"),N(r,"background",e[0]),j(n,"class","svelte-1utf3vu")},m(t,e){w(t,n,e),$(n,r),$(r,o),$(r,s),a||(c=m(ee.call(null,r)),a=!0)},p(t,[e]){1&e&&N(r,"background",t[0])},i:t,o:t,d(t){t&&x(n),a=!1,c()}}}function Ee(t,e,n){let r;return l(t,ne,(t=>n(0,r=t))),[r]}class Te extends Ct{constructor(t){super(),Tt(this,t,Ee,Se,a,{})}}function Ce(e){let n,r,o;return{c(){n=E("svg"),r=E("circle"),j(r,"class","path svelte-bzpqu"),j(r,"fill","none"),j(r,"stroke-width","6"),j(r,"stroke-linecap","round"),j(r,"cx","33"),j(r,"cy","33"),j(r,"r","30"),j(n,"class","spinner svelte-bzpqu"),j(n,"style",o="height:"+e[0]+"; width:"+e[1]+";"),j(n,"viewBox","0 0 66 66"),j(n,"xmlns","http://www.w3.org/2000/svg")},m(t,e){w(t,n,e),$(n,r)},p(t,[e]){3&e&&o!==(o="height:"+t[0]+"; width:"+t[1]+";")&&j(n,"style",o)},i:t,o:t,d(t){t&&x(n)}}}function Oe(t,e,n){let{height:r="100%"}=e,{width:o="100%"}=e;return t.$$set=t=>{"height"in t&&n(0,r=t.height),"width"in t&&n(1,o=t.width)},[r,o]}class Ie extends Ct{constructor(t){super(),Tt(this,t,Oe,Ce,a,{height:0,width:1})}}function Re(t,e,n){const r=t.slice();return r[6]=e[n],r}function ze(t,e,n){const r=t.slice();return r[9]=e[n][0],r[10]=e[n][1],r}function je(e){let n,r=e[0],o=[];for(let t=0;t<r.length;t+=1)o[t]=qe(Re(e,r,t));let i=null;return r.length||(i=De()),{c(){for(let t=0;t<o.length;t+=1)o[t].c();n=O(),i&&i.c()},m(t,e){for(let n=0;n<o.length;n+=1)o[n].m(t,e);w(t,n,e),i&&i.m(t,e)},p(t,e){if(11&e){let s;for(r=t[0],s=0;s<r.length;s+=1){const i=Re(t,r,s);o[s]?o[s].p(i,e):(o[s]=qe(i),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length,r.length?i&&(i.d(1),i=null):i||(i=De(),i.c(),i.m(n.parentNode,n))}},i:t,o:t,d(t){k(o,t),t&&x(n),i&&i.d(t)}}}function Le(e){let n,r,o;return r=new Ie({props:{width:"75px",height:"75px"}}),{c(){n=S("div"),xt(r.$$.fragment),j(n,"class","u-center-area svelte-znmklq")},m(t,e){w(t,n,e),kt(r,n,null),o=!0},p:t,i(t){o||(mt(r.$$.fragment,t),o=!0)},o(t){vt(r.$$.fragment,t),o=!1},d(t){t&&x(n),St(r)}}}function De(t){let e;return{c(){e=S("div"),e.textContent="No orders\n\n                    ",j(e,"class","u-center-area svelte-znmklq")},m(t,n){w(t,e,n)},d(t){t&&x(e)}}}function Ne(t){let e,n,r,o,s,a,c,l,u,p,d,f,h,v,g,y,_,b,k,E,O,I,R,z,D,q,P,U,A,M,F,B,H,W,X,Y,G,J,V,K,Q,Z,tt,et,nt,rt,ot,it,st,at,ct,lt,ut,pt,dt,ft,ht,mt,vt=t[6].cartID+"",gt=t[6].name+"",yt=(t[10].name.length>15?t[10].name.substr(0,15)+"...":t[10].name)+"",_t=t[10].id+"",bt=t[10].creator+"",$t=t[10].size+"",wt=t[10].quantity+"",xt=t[10].price+"",kt=t[3](t[6].timestamp)+"",St=t[10].status+"";return{c(){e=S("div"),n=S("div"),r=S("a"),o=S("img"),c=C(),l=S("div"),u=S("div"),p=T("#"),d=T(vt),f=C(),h=S("div"),v=T(gt),g=C(),y=S("div"),_=S("a"),b=S("img"),O=C(),I=S("div"),R=S("div"),z=T(yt),D=T("#"),q=T(_t),P=C(),U=S("div"),A=T(bt),M=C(),F=S("div"),B=S("div"),H=T("Color:\n                                        "),W=S("div"),X=C(),Y=S("div"),G=T("Size:\n                                        "),J=S("div"),V=T($t),K=C(),Q=S("div"),Z=S("div"),Z.textContent="Quantity: ",tt=T(wt),et=C(),nt=S("div"),rt=S("div"),rt.textContent="Price: ",ot=T(xt),it=T(" TND"),st=C(),at=S("div"),ct=S("div"),ct.textContent="Date: ",lt=T(kt),ut=C(),pt=S("div"),dt=T(St),ft=C(),j(o,"class","product_img svelte-znmklq"),o.src!==(s=t[10].img)&&j(o,"src",s),j(o,"alt","product"),j(r,"href",a="/"+t[1].userid+"/merch/"+t[10].id),j(r,"class","p_img svelte-znmklq"),j(n,"class","right_part svelte-znmklq"),j(u,"class","id svelte-znmklq"),j(h,"class","name-area svelte-znmklq"),j(b,"class","product_img svelte-znmklq"),b.src!==(k=t[10].img)&&j(b,"src",k),j(b,"alt","product"),j(_,"href",E="/"+t[1].userid+"/merch/"+t[10].id),j(_,"class","p_img svelte-znmklq"),j(R,"class","p_title svelte-znmklq"),j(U,"class","p_content_creator svelte-znmklq"),j(W,"class","shape svelte-znmklq"),N(W,"background-color","#"+t[10].color),j(B,"class","color svelte-znmklq"),j(J,"class","shape svelte-znmklq"),j(Y,"class","size svelte-znmklq"),j(F,"class","color_size svelte-znmklq"),j(I,"class","p_info svelte-znmklq"),j(y,"class","product svelte-znmklq"),j(Z,"class","reference svelte-znmklq"),j(Q,"class","quantity svelte-znmklq"),j(rt,"class","reference svelte-znmklq"),j(nt,"class","total_price svelte-znmklq"),j(ct,"class","reference svelte-znmklq"),j(at,"class","date svelte-znmklq"),j(pt,"class","status svelte-znmklq"),N(pt,"background-color","#"+fe[t[10].status]),j(l,"class","left_part svelte-znmklq"),j(e,"class","single_product svelte-znmklq")},m(t,i){w(t,e,i),$(e,n),$(n,r),$(r,o),$(e,c),$(e,l),$(l,u),$(u,p),$(u,d),$(l,f),$(l,h),$(h,v),$(l,g),$(l,y),$(y,_),$(_,b),$(y,O),$(y,I),$(I,R),$(R,z),$(R,D),$(R,q),$(I,P),$(I,U),$(U,A),$(I,M),$(I,F),$(F,B),$(B,H),$(B,W),$(F,X),$(F,Y),$(Y,G),$(Y,J),$(J,V),$(l,K),$(l,Q),$(Q,Z),$(Q,tt),$(l,et),$(l,nt),$(nt,rt),$(nt,ot),$(nt,it),$(l,st),$(l,at),$(at,ct),$(at,lt),$(l,ut),$(l,pt),$(pt,dt),$(e,ft),ht||(mt=[m(ee.call(null,r)),m(ee.call(null,_))],ht=!0)},p(t,e){1&e&&o.src!==(s=t[10].img)&&j(o,"src",s),3&e&&a!==(a="/"+t[1].userid+"/merch/"+t[10].id)&&j(r,"href",a),1&e&&vt!==(vt=t[6].cartID+"")&&L(d,vt),1&e&&gt!==(gt=t[6].name+"")&&L(v,gt),1&e&&b.src!==(k=t[10].img)&&j(b,"src",k),3&e&&E!==(E="/"+t[1].userid+"/merch/"+t[10].id)&&j(_,"href",E),1&e&&yt!==(yt=(t[10].name.length>15?t[10].name.substr(0,15)+"...":t[10].name)+"")&&L(z,yt),1&e&&_t!==(_t=t[10].id+"")&&L(q,_t),1&e&&bt!==(bt=t[10].creator+"")&&L(A,bt),1&e&&N(W,"background-color","#"+t[10].color),1&e&&$t!==($t=t[10].size+"")&&L(V,$t),1&e&&wt!==(wt=t[10].quantity+"")&&L(tt,wt),1&e&&xt!==(xt=t[10].price+"")&&L(ot,xt),1&e&&kt!==(kt=t[3](t[6].timestamp)+"")&&L(lt,kt),1&e&&St!==(St=t[10].status+"")&&L(dt,St),1&e&&N(pt,"background-color","#"+fe[t[10].status])},d(t){t&&x(e),ht=!1,i(mt)}}}function qe(t){let e,n=Object.entries(t[6].items),r=[];for(let e=0;e<n.length;e+=1)r[e]=Ne(ze(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=O()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,o){if(11&o){let i;for(n=Object.entries(t[6].items),i=0;i<n.length;i+=1){const s=ze(t,n,i);r[i]?r[i].p(s,o):(r[i]=Ne(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){k(r,t),t&&x(e)}}}function Pe(t){let e,n,r,o,i,s,a,c,l,u,p,d,f,h,m,v;const g=[Le,je],y=[];function _(t,e){return t[2]?0:1}return d=_(t),f=y[d]=g[d](t),{c(){e=S("div"),n=S("div"),n.textContent="My Orders",r=C(),o=S("hr"),i=C(),s=S("div"),a=S("div"),a.innerHTML='<div class="id_title svelte-znmklq">ID</div> \n            <div class="name-area_title svelte-znmklq">Name</div> \n            <div class="Product_title svelte-znmklq">Product</div> \n            <div class="Quantity_title svelte-znmklq">Quantity</div> \n            <div class="Price_title svelte-znmklq">Price</div> \n            <div class="Date_title svelte-znmklq">Date</div> \n            <div class="Status_title svelte-znmklq">Status</div>',c=C(),l=S("hr"),u=C(),p=S("div"),f.c(),h=C(),m=S("hr"),j(n,"class","big_title svelte-znmklq"),j(o,"class","hr_to_remove svelte-znmklq"),j(a,"class","titles svelte-znmklq"),j(l,"class","hr_to_remove svelte-znmklq"),j(m,"class","svelte-znmklq"),j(p,"class","u_products svelte-znmklq"),j(s,"class","product_container svelte-znmklq"),j(e,"class","profile_container svelte-znmklq")},m(t,f){w(t,e,f),$(e,n),$(e,r),$(e,o),$(e,i),$(e,s),$(s,a),$(s,c),$(s,l),$(s,u),$(s,p),y[d].m(p,null),$(p,h),$(p,m),v=!0},p(t,[e]){let n=d;d=_(t),d===n?y[d].p(t,e):(ft(),vt(y[n],1,1,(()=>{y[n]=null})),ht(),f=y[d],f?f.p(t,e):(f=y[d]=g[d](t),f.c()),mt(f,1),f.m(p,h))},i(t){v||(mt(f),v=!0)},o(t){vt(f),v=!1},d(t){t&&x(e),y[d].d()}}}function Ue(t,e,n){let{carts:r=[]}=e,{params:o={}}=e,{first:i=!0}=e;return t.$$set=t=>{"carts"in t&&n(0,r=t.carts),"params"in t&&n(1,o=t.params),"first"in t&&n(2,i=t.first)},[r,o,i,t=>{const e=new Date(1e3*t),n=e.getFullYear(),r=e.getMonth()+1;return e.getDate()+1+"/"+r+"/"+n}]}class Ae extends Ct{constructor(t){super(),Tt(this,t,Ue,Pe,a,{carts:0,params:1,first:2})}}function Me(t,e,n){const r=t.slice();return r[12]=e[n][0],r[13]=e[n][1],r}function Fe(e){let n;return{c(){n=S("p"),n.textContent="XXXX"},m(t,e){w(t,n,e)},p:t,d(t){t&&x(n)}}}function Be(t){let e,n,r=t[16]+"";return{c(){e=S("p"),n=T(r)},m(t,r){w(t,e,r),$(e,n)},p(t,e){1&e&&r!==(r=t[16]+"")&&L(n,r)},d(t){t&&x(e)}}}function He(e){let n;return{c(){n=T("loading...")},m(t,e){w(t,n,e)},p:t,d(t){t&&x(n)}}}function We(t){let e,n,r,o,i,s,a,c,l,u,p,d,f,h=t[13].desc+"",m={ctx:t,current:null,token:null,hasCatch:!0,pending:He,then:Be,catch:Fe,value:16,error:17};return _t(l=t[13].value,m),{c(){e=S("div"),n=S("div"),r=S("img"),s=C(),a=S("div"),c=S("div"),m.block.c(),u=C(),p=S("div"),d=T(h),f=C(),r.src!==(o=t[13].img)&&j(r,"src",o),j(r,"alt",i=t[12]),j(r,"class","svelte-16h8pwq"),j(n,"class","u-image svelte-16h8pwq"),j(c,"class","u-number svelte-16h8pwq"),j(p,"class","u-description svelte-16h8pwq"),j(a,"class","u-content svelte-16h8pwq"),j(e,"class","kpi-card svelte-16h8pwq")},m(t,o){w(t,e,o),$(e,n),$(n,r),$(e,s),$(e,a),$(a,c),m.block.m(c,m.anchor=null),m.mount=()=>c,m.anchor=null,$(a,u),$(a,p),$(p,d),$(e,f)},p(e,n){if(t=e,1&n&&r.src!==(o=t[13].img)&&j(r,"src",o),1&n&&i!==(i=t[12])&&j(r,"alt",i),m.ctx=t,1&n&&l!==(l=t[13].value)&&_t(l,m));else{const e=t.slice();e[16]=e[17]=m.resolved,m.block.p(e,n)}1&n&&h!==(h=t[13].desc+"")&&L(d,h)},d(t){t&&x(e),m.block.d(),m.token=null,m=null}}}function Xe(t){let e,n,r,o,i,s,a,c,l,u,p,d,f,h,m,v,g,y,_,b;n=new Te({});let E=Object.entries(t[0]),T=[];for(let e=0;e<E.length;e+=1)T[e]=We(Me(t,E,e));return _=new Ae({props:{first:t[2],carts:t[1]}}),{c(){e=S("div"),xt(n.$$.fragment),r=C(),o=S("section"),i=S("div"),s=S("div"),s.textContent="Analytics Overview",a=C(),c=S("div"),l=S("i"),u=C(),p=S("select"),d=S("option"),d.textContent="Active",f=S("option"),f.textContent="Past week",h=S("option"),h.textContent="Past Month",m=S("option"),m.textContent="Past Year",v=C(),g=S("div");for(let t=0;t<T.length;t+=1)T[t].c();y=C(),xt(_.$$.fragment),j(s,"class","kpi-header-title svelte-16h8pwq"),j(l,"class","far fa-calendar-alt"),d.__value="Active",d.value=d.__value,f.__value="Past week",f.value=f.__value,h.__value="Past Month",h.value=h.__value,m.__value="Past Year",m.value=m.__value,N(p,"background-color",t[3]),j(p,"class","svelte-16h8pwq"),j(c,"class","analytics-filter svelte-16h8pwq"),j(i,"class","kpi-header svelte-16h8pwq"),j(g,"class","kpi-cards svelte-16h8pwq"),j(o,"class","kpi-section svelte-16h8pwq"),j(e,"class","u-view svelte-16h8pwq")},m(t,x){w(t,e,x),kt(n,e,null),$(e,r),$(e,o),$(o,i),$(i,s),$(i,a),$(i,c),$(c,l),$(c,u),$(c,p),$(p,d),$(p,f),$(p,h),$(p,m),$(o,v),$(o,g);for(let t=0;t<T.length;t+=1)T[t].m(g,null);$(e,y),kt(_,e,null),b=!0},p(t,[e]){if((!b||8&e)&&N(p,"background-color",t[3]),1&e){let n;for(E=Object.entries(t[0]),n=0;n<E.length;n+=1){const r=Me(t,E,n);T[n]?T[n].p(r,e):(T[n]=We(r),T[n].c(),T[n].m(g,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=E.length}const n={};4&e&&(n.first=t[2]),2&e&&(n.carts=t[1]),_.$set(n)},i(t){b||(mt(n.$$.fragment,t),mt(_.$$.fragment,t),b=!0)},o(t){vt(n.$$.fragment,t),vt(_.$$.fragment,t),b=!1},d(t){t&&x(e),St(n),k(T,t),St(_)}}}function Ye(t,e,n){let r,o;l(t,ge,(t=>n(10,r=t))),l(t,ne,(t=>n(3,o=t))),document.title="Unify Creator - Overview";let i,s,a={orders:{img:"/imgs/misc/receipt.png",value:"Loading...",desc:"Number of orders"},profit:{img:"/imgs/misc/profit.png",value:"Loading...",desc:"Profit"},pay:{img:"imgs/misc/pay.png",value:0,desc:"Money to be paid out"}},c=[],u=!0,p=()=>{};var d,f;X((async()=>{"denied"!==Notification.permission&&"granted"!=Notification.permission&&Notification.requestPermission(),document.addEventListener(f,m,!1);let t=(await me.doc("/creators/"+r.claims.username+"/merch/all").get()).data();p=me.doc("creators/"+r.claims.username+"/orders/all").onSnapshot((e=>{n(2,u=!1);let o=e.data();if(null==o)return n(1,c=[]),n(0,a.profit.value=0,a),void n(0,a.orders.value=0,a);let l=o.orders;n(1,c=Object.entries(l).map((([e,n])=>{n.cartID=e,n.timestamp=n.timestamp.seconds;for(let[e,o]of Object.entries(n.items)){let e=t[o.id],n=e.imgs[o.color][e.featuredFace],i="creators/"+r.claims.username+"/merch/"+o.id+"/"+e.featuredFace+"-"+o.color;o.img=le(n,i),o.name=e.name,null==o.status&&(o.status="In Progress")}return n}))),c.sort(((t,e)=>e.timestamp-t.timestamp)),n(1,c);let p={orders:{secured:0,escrow:0},profit:{secured:0,escrow:0}};for(let t of c)for(let[e,n]of Object.entries(t.items))[void 0,"In Progress","Printig","In Delivery"].some((t=>n.status==t))?(p.profit.escrow+=n.profit*n.quantity,p.orders.escrow+=1):"Delivered"==n.status&&(p.profit.secured+=n.profit*n.quantity);if(n(0,a.orders.value=String(p.orders.secured)+" ("+p.orders.escrow+")",a),n(0,a.profit.value=String(p.profit.secured)+" ("+p.profit.escrow+")",a),n(0,a),document[d]){if(!u){let t=c.filter((t=>!h.some((e=>e.cartID==t.cartID))));document.title="("+String(t.length)+") Orders",new Notification("Unify",{body:"("+String(t.length)+") Orders",icon:"./imgs/icon.png"}),setTimeout((()=>{i&&clearInterval(i),i=setInterval((()=>{document.title="("+String(t.length)+") Orders"}),2e3)}),1e3),s&&clearInterval(s),s=setInterval((()=>{document.title="Unify Creator - Overview"}),2e3)}}else h=c;console.log(c),n(2,u=!1)}))})),void 0!==document.hidden?(d="hidden",f="visibilitychange"):void 0!==document.msHidden?(d="msHidden",f="msvisibilitychange"):void 0!==document.webkitHidden&&(d="webkitHidden",f="webkitvisibilitychange");let h=[];const m=()=>{document[d]?h=c:(document.title.includes("Orders")&&(document.title="Unify Creator - Overview"),clearInterval(i),clearInterval(s))};return Y((()=>{p(),document.removeEventListener(f,m)})),[a,c,u,o]}class Ge extends Ct{constructor(t){super(),Tt(this,t,Ye,Xe,a,{})}}function Je(e){let n,r,o;return r=new $e({props:{height:"100px",width:"100px"}}),{c(){n=S("div"),xt(r.$$.fragment),j(n,"class","u-loading svelte-iof362")},m(t,e){w(t,n,e),kt(r,n,null),o=!0},p:t,i(t){o||(mt(r.$$.fragment,t),o=!0)},o(t){vt(r.$$.fragment,t),o=!1},d(t){t&&x(n),St(r)}}}function Ve(t){let e,n,r,o,s,a,c,l,u,p,d,f,h,v,g,y,_,b,k,E,O,z,L,N,q,P,U,A,M,F,B,H,W,X,Y,G,J,V,K,Q,Z,tt,et,nt=t[3]&&Ke(t);const rt=[Ze,Qe],ot=[];function it(t,e){return t[4]?0:1}return K=it(t),Q=ot[K]=rt[K](t),{c(){e=S("div"),n=S("div"),r=S("div"),o=S("a"),o.innerHTML='<img src="./imgs/icons/logo.png" alt="logo" class="svelte-iof362"/>Unify',s=C(),a=S("div"),a.textContent="Welcome Back ðŸ˜€",c=C(),l=S("div"),l.textContent="Your universe is waiting for you",u=C(),p=S("div"),d=S("div"),d.textContent="Sign in to Unify",f=C(),h=S("div"),h.textContent="use your email account",v=C(),g=S("div"),y=T("Don't have an account ? "),_=S("a"),_.textContent="Sign up here",b=C(),k=S("form"),nt&&nt.c(),E=C(),O=S("div"),z=S("div"),L=S("img"),q=C(),P=S("input"),U=C(),A=S("div"),M=S("img"),B=C(),H=S("input"),W=C(),X=S("div"),Y=S("a"),Y.textContent="Forget Your Password?",G=C(),J=S("div"),V=S("button"),Q.c(),j(o,"href","/"),j(o,"class","u_logo svelte-iof362"),j(a,"class","title svelte-iof362"),j(l,"class","desc svelte-iof362"),j(r,"class","left_side svelte-iof362"),j(d,"class","title svelte-iof362"),j(h,"class","orEmailText svelte-iof362"),j(_,"href","/register"),j(_,"class","svelte-iof362"),j(g,"class","no-have-acc svelte-iof362"),L.src!==(N="/imgs/misc/login_register/envelope.png")&&j(L,"src","/imgs/misc/login_register/envelope.png"),j(L,"alt","email"),j(L,"class","svelte-iof362"),j(P,"class","input email svelte-iof362"),j(P,"name","email"),j(P,"type","text"),j(P,"placeholder","Email"),j(z,"class","input svelte-iof362"),M.src!==(F="/imgs/misc/login_register/unlock.png")&&j(M,"src","/imgs/misc/login_register/unlock.png"),j(M,"alt","password"),j(M,"class","svelte-iof362"),j(H,"class","input password svelte-iof362"),j(H,"name","password"),j(H,"type","password"),j(H,"placeholder","Password"),j(A,"class","input svelte-iof362"),j(O,"class","inputContainer svelte-iof362"),j(Y,"href","/forgotpassword"),j(X,"class","forget svelte-iof362"),j(V,"class","signup_btn svelte-iof362"),j(V,"type","submit"),j(J,"class","signup svelte-iof362"),j(k,"class","svelte-iof362"),j(p,"class","right_side svelte-iof362"),j(n,"class","signUp_container svelte-iof362"),j(e,"class","container svelte-iof362")},m(i,x){w(i,e,x),$(e,n),$(n,r),$(r,o),$(r,s),$(r,a),$(r,c),$(r,l),$(n,u),$(n,p),$(p,d),$(p,f),$(p,h),$(p,v),$(p,g),$(g,y),$(g,_),$(p,b),$(p,k),nt&&nt.m(k,null),$(k,E),$(k,O),$(O,z),$(z,L),$(z,q),$(z,P),D(P,t[1]),$(O,U),$(O,A),$(A,M),$(A,B),$(A,H),D(H,t[2]),$(k,W),$(k,X),$(X,Y),$(k,G),$(k,J),$(J,V),ot[K].m(V,null),Z=!0,tt||(et=[m(ee.call(null,o)),m(ee.call(null,_)),I(P,"input",t[6]),I(H,"input",t[7]),m(ee.call(null,Y)),I(k,"submit",R(t[5]))],tt=!0)},p(t,e){t[3]?nt?nt.p(t,e):(nt=Ke(t),nt.c(),nt.m(k,E)):nt&&(nt.d(1),nt=null),2&e&&P.value!==t[1]&&D(P,t[1]),4&e&&H.value!==t[2]&&D(H,t[2]);let n=K;K=it(t),K!==n&&(ft(),vt(ot[n],1,1,(()=>{ot[n]=null})),ht(),Q=ot[K],Q||(Q=ot[K]=rt[K](t),Q.c()),mt(Q,1),Q.m(V,null))},i(t){Z||(mt(Q),Z=!0)},o(t){vt(Q),Z=!1},d(t){t&&x(e),nt&&nt.d(),ot[K].d(),tt=!1,i(et)}}}function Ke(t){let e,n;return{c(){e=S("div"),n=T(t[3]),j(e,"class","notification is-danger svelte-iof362")},m(t,r){w(t,e,r),$(e,n)},p(t,e){8&e&&L(n,t[3])},d(t){t&&x(e)}}}function Qe(e){let n;return{c(){n=T("Submit")},m(t,e){w(t,n,e)},i:t,o:t,d(t){t&&x(n)}}}function Ze(t){let e,n;return e=new $e({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function tn(t){let e,n,r,o;const i=[Ve,Je],s=[];function a(t,e){return t[0]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),w(t,r,n),o=!0},p(t,[o]){let c=e;e=a(t),e===c?s[e].p(t,o):(ft(),vt(s[c],1,1,(()=>{s[c]=null})),ht(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),mt(n,1),n.m(r.parentNode,r))},i(t){o||(mt(n),o=!0)},o(t){vt(n),o=!1},d(t){s[e].d(t),t&&x(r)}}}function en(t,e,n){let r;const o=ge.subscribe((t=>{"init"!=t&&(0!=t&&Nt("/",{replace:!1}),0==t&&n(0,r=!0))}));Y((()=>{o()}));let i="",s="",a="",c=!1;return[r,i,s,a,c,async()=>{c||(n(4,c=!0),await firebase.auth().signInWithEmailAndPassword(i,s).catch((function(t){t.code,n(3,a=t.message)})),n(4,c=!1))},function(){i=this.value,n(1,i)},function(){s=this.value,n(2,s)}]}class nn extends Ct{constructor(t){super(),Tt(this,t,en,tn,a,{})}}function rn(e){let n,r,o;return r=new $e({props:{height:"100px",width:"100px"}}),{c(){n=S("div"),xt(r.$$.fragment),j(n,"class","u-loading svelte-1ctyt9f")},m(t,e){w(t,n,e),kt(r,n,null),o=!0},p:t,i(t){o||(mt(r.$$.fragment,t),o=!0)},o(t){vt(r.$$.fragment,t),o=!1},d(t){t&&x(n),St(r)}}}function on(t){let e;const n=t[2].default,r=u(n,t,t[1],null);return{c(){r&&r.c()},m(t,n){r&&r.m(t,n),e=!0},p(t,e){r&&r.p&&2&e&&d(r,n,t,t[1],e,null,null)},i(t){e||(mt(r,t),e=!0)},o(t){vt(r,t),e=!1},d(t){r&&r.d(t)}}}function sn(t){let e,n,r,o;const i=[on,rn],s=[];function a(t,e){return t[0]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),w(t,r,n),o=!0},p(t,[o]){let c=e;e=a(t),e===c?s[e].p(t,o):(ft(),vt(s[c],1,1,(()=>{s[c]=null})),ht(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),mt(n,1),n.m(r.parentNode,r))},i(t){o||(mt(n),o=!0)},o(t){vt(n),o=!1},d(t){s[e].d(t),t&&x(r)}}}function an(t,e,n){let{$$slots:r={},$$scope:o}=e,i=!1;const s=ge.subscribe((t=>{"init"!==t&&(0===t?(console.error("unauthorized"),setTimeout((()=>{Nt("/login",{replace:!0})}),100)):n(0,i=!0))}));return Y((()=>{s()})),t.$$set=t=>{"$$scope"in t&&n(1,o=t.$$scope)},[i,o,r]}class cn extends Ct{constructor(t){super(),Tt(this,t,an,sn,a,{})}}function ln(e){let n,r,o,i,s,a,c;return{c(){n=S("div"),r=S("div"),i=C(),s=S("img"),j(r,"style",o=ce({"background-color":e[0]})),j(r,"class","background svelte-6ssml8"),j(s,"crossorigin","anonymous"),s.src!==(a=e[1])&&j(s,"src",a),j(s,"alt","imag"),j(s,"class","svelte-6ssml8"),j(n,"style",c=ce({height:e[2],width:e[3]})),j(n,"class","image-wrapper svelte-6ssml8")},m(t,e){w(t,n,e),$(n,r),$(n,i),$(n,s)},p(t,[e]){1&e&&o!==(o=ce({"background-color":t[0]}))&&j(r,"style",o),2&e&&s.src!==(a=t[1])&&j(s,"src",a),12&e&&c!==(c=ce({height:t[2],width:t[3]}))&&j(n,"style",c)},i:t,o:t,d(t){t&&x(n)}}}function un(t,e,n){let{bgColor:r="#000000"}=e,{img:o}=e,{height:i="300px"}=e,{width:s="300px"}=e;return t.$$set=t=>{"bgColor"in t&&n(0,r=t.bgColor),"img"in t&&n(1,o=t.img),"height"in t&&n(2,i=t.height),"width"in t&&n(3,s=t.width)},[r,o,i,s]}class pn extends Ct{constructor(t){super(),Tt(this,t,un,ln,a,{bgColor:0,img:1,height:2,width:3})}}function dn(t,e,n){const r=t.slice();return r[5]=e[n][0],r[6]=e[n][1],r}function fn(t){let e,n,r,o,i;const s=[mn,hn],a=[];function c(t,n){return 1&n&&(e=!!(Object.keys(t[0]).length>0)),e?0:1}return n=c(t,-1),r=a[n]=s[n](t),{c(){r.c(),o=O()},m(t,e){a[n].m(t,e),w(t,o,e),i=!0},p(t,e){let i=n;n=c(t,e),n===i?a[n].p(t,e):(ft(),vt(a[i],1,1,(()=>{a[i]=null})),ht(),r=a[n],r?r.p(t,e):(r=a[n]=s[n](t),r.c()),mt(r,1),r.m(o.parentNode,o))},i(t){i||(mt(r),i=!0)},o(t){vt(r),i=!1},d(t){a[n].d(t),t&&x(o)}}}function hn(e){let n;return{c(){n=S("div"),n.textContent="No merch",j(n,"class","u-empty")},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function mn(t){let e,n,r,o,i=Object.entries(t[0]),s=[];for(let e=0;e<i.length;e+=1)s[e]=vn(dn(t,i,e));const a=t=>vt(s[t],1,1,(()=>{s[t]=null}));return{c(){e=S("div"),e.textContent="Your current active merch",n=C(),r=S("div");for(let t=0;t<s.length;t+=1)s[t].c();j(e,"class","u-section-title svelte-9359ge"),j(r,"class","active-products svelte-9359ge")},m(t,i){w(t,e,i),w(t,n,i),w(t,r,i);for(let t=0;t<s.length;t+=1)s[t].m(r,null);o=!0},p(t,e){if(5&e){let n;for(i=Object.entries(t[0]),n=0;n<i.length;n+=1){const o=dn(t,i,n);s[n]?(s[n].p(o,e),mt(s[n],1)):(s[n]=vn(o),s[n].c(),mt(s[n],1),s[n].m(r,null))}for(ft(),n=i.length;n<s.length;n+=1)a(n);ht()}},i(t){if(!o){for(let t=0;t<i.length;t+=1)mt(s[t]);o=!0}},o(t){s=s.filter(Boolean);for(let t=0;t<s.length;t+=1)vt(s[t]);o=!1},d(t){t&&x(e),t&&x(n),t&&x(r),k(s,t)}}}function vn(t){let e,n,r,o,i,s,a,c,l,u,p,d,f,h,v,g,y,_,b,k,E=t[6].name+"",O=t[6].price+"";return r=new pn({props:{img:t[6].imgs[t[6].featuredColor][t[6].featuredFace],bgColor:ae(t[6].color)}}),{c(){e=S("div"),n=S("div"),xt(r.$$.fragment),o=C(),i=S("div"),s=S("div"),a=T(E),c=C(),l=S("div"),u=S("div"),p=T(O),d=T("\n                                        TND"),f=C(),h=S("a"),v=T("Modify"),y=C(),j(n,"class","u-image-area svelte-9359ge"),j(s,"class","u-name svelte-9359ge"),j(u,"class","u-price svelte-9359ge"),j(h,"href",g="/merch/modify/"+t[5]),j(h,"class","u-modify svelte-9359ge"),j(l,"class","actions svelte-9359ge"),j(i,"class","u-informations svelte-9359ge"),N(i,"background",t[2]),j(e,"class","prod-card svelte-9359ge")},m(t,g){w(t,e,g),$(e,n),kt(r,n,null),$(e,o),$(e,i),$(i,s),$(s,a),$(i,c),$(i,l),$(l,u),$(u,p),$(u,d),$(l,f),$(l,h),$(h,v),$(e,y),_=!0,b||(k=m(ee.call(null,h)),b=!0)},p(t,e){const n={};1&e&&(n.img=t[6].imgs[t[6].featuredColor][t[6].featuredFace]),1&e&&(n.bgColor=ae(t[6].color)),r.$set(n),(!_||1&e)&&E!==(E=t[6].name+"")&&L(a,E),(!_||1&e)&&O!==(O=t[6].price+"")&&L(p,O),(!_||1&e&&g!==(g="/merch/modify/"+t[5]))&&j(h,"href",g),(!_||4&e)&&N(i,"background",t[2])},i(t){_||(mt(r.$$.fragment,t),_=!0)},o(t){vt(r.$$.fragment,t),_=!1},d(t){t&&x(e),St(r),b=!1,k()}}}function gn(t){let e,n,r,o,i;n=new Te({});let s=t[1]&&fn(t);return{c(){e=S("div"),xt(n.$$.fragment),r=C(),o=S("section"),s&&s.c(),j(o,"class","active-section svelte-9359ge"),j(e,"class","u-view svelte-9359ge")},m(t,a){w(t,e,a),kt(n,e,null),$(e,r),$(e,o),s&&s.m(o,null),i=!0},p(t,[e]){t[1]?s?(s.p(t,e),2&e&&mt(s,1)):(s=fn(t),s.c(),mt(s,1),s.m(o,null)):s&&(ft(),vt(s,1,1,(()=>{s=null})),ht())},i(t){i||(mt(n.$$.fragment,t),mt(s),i=!0)},o(t){vt(n.$$.fragment,t),vt(s),i=!1},d(t){t&&x(e),St(n),s&&s.d()}}}function yn(t,e,n){let r,o;l(t,ge,(t=>n(4,r=t))),l(t,ne,(t=>n(2,o=t)));let i=[],s=!1,a=()=>{};return a=me.doc("/creators/"+r.claims.username+"/merch/all").onSnapshot((t=>{n(1,s=!0);let e=t.data();if(console.log(e),null!=e){for(let[t,n]of Object.entries(e)){console.log(n);for(let[e,o]of Object.entries(n.imgs)){console.log(o);for(let[i,s]of Object.entries(o)){let o="creators/"+r.claims.username+"/merch/"+t+"/"+i+"-"+e;n.imgs[e][i]=le(s,o),console.log(n.imgs[e][i])}}}n(0,i=e),console.log(i),console.log(i.length)}else n(0,i=[])})),Y((()=>{a()})),[i,s,o]}class _n extends Ct{constructor(t){super(),Tt(this,t,yn,gn,a,{})}}const bn=.19,$n=.025;let wn={front:{top:50,width:310,height:310},back:{top:300,width:210,height:300}};const xn={EUJHU3:{type:"hoodie",name:"Eco Unisex Hoodie",cost:32,print:{front:5,back:6},profit:7,delivery:7,material:"80% Certified Organic Cotton, 20% Recycled Polyester",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/hoodies/normal-front.png",back:"/imgs/clothes/hoodies/normal-back.png"},colors:["Black","Red","Green","White"],printable:{front:{top:150,width:280,height:190},back:{top:140,width:270,height:360}}},X8E7FC:{type:"hoodie",name:"Premium Unisex Hoodie",cost:36,profit:7,print:{front:5,back:6},delivery:7,material:"Regular fit, premium poly/cotton blend, white drawcords, unisex",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/hoodies/premium-front.png",back:"/imgs/clothes/hoodies/premium-back.png"},colors:["Red","Green"],printable:{front:{top:140,width:280,height:220},back:{top:170,width:230,height:350}}},EF7CEX:{type:"hoodie",name:"Zip Hoodie",cost:32,profit:7,delivery:7,print:{front:5,back:6},material:"Regular fit, premium poly/cotton blend, white drawcords, unisex",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/hoodies/ziphoodie-front.png",back:"/imgs/clothes/hoodies/ziphoodie-back.png"},colors:["Red","Green"],printable:{front:{top:160,width:280,height:210},back:{top:140,width:265,height:360}}},"25X8E7":{type:"sweatshirt",name:"Premium Unisex Sweatshirt",cost:17,profit:7,delivery:7,print:{front:5,back:6},material:"Slim fit, premium soft cotton, unisex",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/sweatshirts/normal-front.png",back:"/imgs/clothes/sweatshirts/normal-back.png"},colors:["Black","Red","Green","White"],printable:{front:{top:130,width:255,height:330},back:{top:120,width:220,height:360}}},NV7ECZ:{type:"long-tee",name:"Classic Long Sleeve Tee",disabled:!0,cost:14,profit:7,delivery:7,print:{front:5,back:6},material:"Regular fit, 100% cotton, unisex",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/hoodies/premium-front.png",back:"/imgs/clothes/hoodies/premium-back.png"},colors:["Black","White","Green"],printable:wn},REXE7C:{type:"long-tee",name:"Premium Long Sleeve Tee",disabled:!0,cost:17,profit:7,delivery:7,print:{front:5,back:6},material:"Slim fit, premium soft cotton, unisex",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/long-tee/premium-front.png",back:"/imgs/clothes/long-tee/premium-back.png"},colors:["Black","Red","Green","White"],printable:wn}};function kn(t,e,n){const r=t.slice();return r[1]=e[n][0],r[2]=e[n][1],r}function Sn(t,e,n){const r=t.slice();return r[1]=e[n][0],r[5]=e[n][1],r}function En(t){let e,n,r,o,i,s,a,c,l,u,p=t[2].title+"",d=Object.entries(t[2].items),f=[];for(let e=0;e<d.length;e+=1)f[e]=Tn(Sn(t,d,e));const h=t=>vt(f[t],1,1,(()=>{f[t]=null}));return{c(){e=S("section"),n=S("div"),r=T(p),o=C(),i=S("hr"),s=C(),a=S("div");for(let t=0;t<f.length;t+=1)f[t].c();c=C(),j(n,"class","cat-title svelte-o79vnd"),N(i,"width","100%"),j(a,"class","u-items svelte-o79vnd"),j(e,"id",l=t[1]),j(e,"class","cat-section svelte-o79vnd")},m(t,l){w(t,e,l),$(e,n),$(n,r),$(e,o),$(e,i),$(e,s),$(e,a);for(let t=0;t<f.length;t+=1)f[t].m(a,null);$(e,c),u=!0},p(t,n){if((!u||1&n)&&p!==(p=t[2].title+"")&&L(r,p),1&n){let e;for(d=Object.entries(t[2].items),e=0;e<d.length;e+=1){const r=Sn(t,d,e);f[e]?(f[e].p(r,n),mt(f[e],1)):(f[e]=Tn(r),f[e].c(),mt(f[e],1),f[e].m(a,null))}for(ft(),e=d.length;e<f.length;e+=1)h(e);ht()}(!u||1&n&&l!==(l=t[1]))&&j(e,"id",l)},i(t){if(!u){for(let t=0;t<d.length;t+=1)mt(f[t]);u=!0}},o(t){f=f.filter(Boolean);for(let t=0;t<f.length;t+=1)vt(f[t]);u=!1},d(t){t&&x(e),k(f,t)}}}function Tn(t){let e,n,r,o,i,s,a,c,l,u,p,d,f,h,v,g,y,_,b,k,E,O,I,R,z,D,N=t[5].name+"",q=he({cost:t[5].cost,delivery:t[5].delivery,profit:t[5].profit,ceil:!0})+"",P=t[5].material+"",U=t[5].sizes[0]+"",A=t[5].sizes[t[5].sizes.length-1]+"";return r=new pn({props:{img:t[5].imgs.front,bgColor:ae(t[5].colors[0])}}),{c(){e=S("a"),n=S("div"),xt(r.$$.fragment),o=C(),i=S("div"),s=S("div"),a=T(N),c=C(),l=S("p"),u=T("Base Cost: "),p=T(q),d=T(" TND"),f=C(),h=S("p"),v=T(P),g=C(),y=S("p"),_=T(U),b=T(" - "),k=T(A),E=C(),j(n,"class","u-image-area svelte-o79vnd"),j(s,"class","u-name svelte-o79vnd"),j(l,"class","u-price svelte-o79vnd"),j(h,"class","svelte-o79vnd"),j(y,"class","svelte-o79vnd"),j(i,"class","u-informations svelte-o79vnd"),j(e,"href",O="/merch/create/"+t[1]),j(e,"id",I=t[1]),j(e,"class","prod-card svelte-o79vnd")},m(t,x){w(t,e,x),$(e,n),kt(r,n,null),$(e,o),$(e,i),$(i,s),$(s,a),$(i,c),$(i,l),$(l,u),$(l,p),$(l,d),$(i,f),$(i,h),$(h,v),$(i,g),$(i,y),$(y,_),$(y,b),$(y,k),$(e,E),R=!0,z||(D=m(ee.call(null,e)),z=!0)},p(t,n){const o={};1&n&&(o.img=t[5].imgs.front),1&n&&(o.bgColor=ae(t[5].colors[0])),r.$set(o),(!R||1&n)&&N!==(N=t[5].name+"")&&L(a,N),(!R||1&n)&&q!==(q=he({cost:t[5].cost,delivery:t[5].delivery,profit:t[5].profit,ceil:!0})+"")&&L(p,q),(!R||1&n)&&P!==(P=t[5].material+"")&&L(v,P),(!R||1&n)&&U!==(U=t[5].sizes[0]+"")&&L(_,U),(!R||1&n)&&A!==(A=t[5].sizes[t[5].sizes.length-1]+"")&&L(k,A),(!R||1&n&&O!==(O="/merch/create/"+t[1]))&&j(e,"href",O),(!R||1&n&&I!==(I=t[1]))&&j(e,"id",I)},i(t){R||(mt(r.$$.fragment,t),R=!0)},o(t){vt(r.$$.fragment,t),R=!1},d(t){t&&x(e),St(r),z=!1,D()}}}function Cn(t){let e,n,r=0!=Object.keys(t[2].items).length,o=r&&En(t);return{c(){o&&o.c(),e=O()},m(t,r){o&&o.m(t,r),w(t,e,r),n=!0},p(t,n){1&n&&(r=0!=Object.keys(t[2].items).length),r?o?(o.p(t,n),1&n&&mt(o,1)):(o=En(t),o.c(),mt(o,1),o.m(e.parentNode,e)):o&&(ft(),vt(o,1,1,(()=>{o=null})),ht())},i(t){n||(mt(o),n=!0)},o(t){vt(o),n=!1},d(t){o&&o.d(t),t&&x(e)}}}function On(t){let e,n,r,o,i,s,a,c=Object.entries(t[0]),l=[];for(let e=0;e<c.length;e+=1)l[e]=Cn(kn(t,c,e));const u=t=>vt(l[t],1,1,(()=>{l[t]=null}));return{c(){e=S("div"),n=S("header"),r=C(),o=S("div"),i=S("div"),i.textContent="Select a product to design",s=C();for(let t=0;t<l.length;t+=1)l[t].c();j(n,"class","svelte-o79vnd"),j(i,"class","view-title svelte-o79vnd"),j(o,"class","u-categories svelte-o79vnd"),j(e,"class","u-view svelte-o79vnd")},m(t,c){w(t,e,c),$(e,n),$(e,r),$(e,o),$(o,i),$(o,s);for(let t=0;t<l.length;t+=1)l[t].m(o,null);a=!0},p(t,[e]){if(1&e){let n;for(c=Object.entries(t[0]),n=0;n<c.length;n+=1){const r=kn(t,c,n);l[n]?(l[n].p(r,e),mt(l[n],1)):(l[n]=Cn(r),l[n].c(),mt(l[n],1),l[n].m(o,null))}for(ft(),n=c.length;n<l.length;n+=1)u(n);ht()}},i(t){if(!a){for(let t=0;t<c.length;t+=1)mt(l[t]);a=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)vt(l[t]);a=!1},d(t){t&&x(e),k(l,t)}}}function In(t,e,n){const r={hoodie:{title:"Hoodies",items:{}},"long-tee":{title:"Long Sleeve Tee",items:{}},sweatshirt:{title:"Sweatshirts",items:{}}};return Object.entries(xn).filter((([t,e])=>!0!==e.disabled)).reduce(((t,[e,o])=>{o.id=e,n(0,r[o.type].items[e]=o,r)}),{}),console.log(r),[r]}class Rn extends Ct{constructor(t){super(),Tt(this,t,In,On,a,{})}}function zn(e){let n;return{c(){n=S("canvas"),j(n,"class","c-canva"),j(n,"id","front")},m(t,r){w(t,n,r),e[9](n)},p:t,i:t,o:t,d(t){t&&x(n),e[9](null)}}}function jn(e,n,r){let o,i,s=t,a=()=>(s(),s=c(f,(t=>r(10,o=t))),f),l=t,u=()=>(l(),l=c(y,(t=>r(11,i=t))),y);e.$$.on_destroy.push((()=>s())),e.$$.on_destroy.push((()=>l()));let{hash:p={}}=n,{facade:d}=n,{selectedColor:f}=n;a();let{mockupURL:m}=n,{showBoundaries:v}=n,{boundaryData:g}=n,{printarea:y}=n;u();let _,{mockup:b}=n;return X((async()=>{r(3,p.canva=new fabric.Canvas(_,{width:600,height:600}),p),r(3,p.canva.stateful=!0,p),r(3,p.background=new fabric.Rect({id:"color-box",fill:se[o.toLocaleLowerCase()],width:600,height:600,selectable:!1,evented:!1}),p),p.background.center(),p.canva.add(p.background);var t=new fabric.Rect({id:"boundary",top:g.top,width:g.width,height:g.height,selectable:!1,evented:!1,strokeDashArray:[5,2],strokeWidth:2,stroke:"blue",fill:se[o.toLocaleLowerCase()],absolutePositioned:!0});t.center(),p.canva.add(t),t.center(),t.set({top:g.top}),t.setCoords(),t.saveState(),r(3,p.boundary=t,p),await fabric.Image.fromURL(m,(function(t){r(3,p.mockup=t,p),t.id="mockup",t.scaleToWidth(600,!1),t.set("selectable",!1),t.set("evented",!1),p.canva.add(t)})),v.subscribe((e=>{t.opacity=1==e?1:0,p.canva.renderAll()})),f.subscribe((t=>{p.background.set("fill",se[t.toLocaleLowerCase()]),p.boundary.set("fill",se[t.toLocaleLowerCase()]),p.canva.renderAll()})),console.log(t.top);let e=!1;const n=()=>{let n=p.canva.getObjects().filter((t=>!["color-box","boundary","mockup"].includes(t.id)));if(console.log(n),0==n.length)return void(e&&(console.log("had objects"),h(y,i={...i,[d.toLocaleLowerCase()]:{...i[d.toLocaleLowerCase()],price:0,area:0}},i),e=!1));e=!0;let r=[],o=[],s=t.aCoords,a=s.tl.x,c=s.tr.x,l=s.br.y,u=s.tr.y;for(let t of n){let e=[],n=[];Object.values(t.aCoords).map((t=>{e.push(t.x),n.push(t.y)}));const i=e.every((t=>t>c)),s=e.every((t=>t<a)),p=n.every((t=>t>l)),d=n.every((t=>t<u));console.log("right out of view : "+i),console.log("left out of view : "+s),console.log("bottom out of view : "+p),console.log("top out of view : "+d),console.log(n),console.log(u),i||s||p||d?console.log("item out of view not taking into account"):(r.push(...e),o.push(...n))}if(console.log("xs, ys"),o.sort(((t,e)=>t-e)),r.sort(((t,e)=>t-e)),console.log(o),console.log(r),0==o.length&&0==r.length)return console.log("no print"),void h(y,i={...i,[d.toLocaleLowerCase()]:{...i[d.toLocaleLowerCase()],price:0,area:0}},i);let f=.00146028037,m=r[r.length-1];m>c&&(console.log("price right out"),m=c);let v=r[0];v<a&&(console.log("price left out"),v=a);let g=o[o.length-1];g>l&&(console.log("price bottom out"),g=l);let _=o[0];_<u&&(console.log("price top out"),_=u),console.log("min Y: "+_+" max Y: "+g),console.log("min X : "+v+" max X "+m),console.log(Math.abs(g-_)*f);let b=((g-g)**2+(m-v)**2)**.5*f*((m-m)**2+(g-_)**2)**.5*f;console.log("covered area :"+b);let $=120*b;$<i[d.toLocaleLowerCase()].minPrice&&($=i[d.toLocaleLowerCase()].minPrice),h(y,i={...i,[d.toLocaleLowerCase()]:{...i[d.toLocaleLowerCase()],price:$,area:b}},i)};p.canva.on("object:added",(()=>{setTimeout((()=>{n()}),100)})),p.canva.on("object:removed",(()=>{console.log("running removed"),setTimeout((()=>{n()}),100)})),p.canva.on("object:moved",(function(t){a&&(a=!1,setTimeout((()=>{n()}),100))})),p.canva.on("object:scaled",(t=>{setTimeout((()=>{n()}),100)}));let s=!0,a=!1;p.canva.on("object:moving",(function(t){a=!0})),p.canva.on("mouse:move",(function(t){0!=s&&(console.log("x: "+t.e.layerX+"; y: "+t.e.layerY),s=!1,setTimeout((()=>{s=!0}),300))}))})),e.$$set=t=>{"hash"in t&&r(3,p=t.hash),"facade"in t&&r(4,d=t.facade),"selectedColor"in t&&a(r(0,f=t.selectedColor)),"mockupURL"in t&&r(5,m=t.mockupURL),"showBoundaries"in t&&r(6,v=t.showBoundaries),"boundaryData"in t&&r(7,g=t.boundaryData),"printarea"in t&&u(r(1,y=t.printarea)),"mockup"in t&&r(8,b=t.mockup)},[f,y,_,p,d,m,v,g,b,function(t){Q[t?"unshift":"push"]((()=>{_=t,r(2,_)}))}]}class Ln extends Ct{constructor(t){super(),Tt(this,t,jn,zn,a,{hash:3,facade:4,selectedColor:0,mockupURL:5,showBoundaries:6,boundaryData:7,printarea:1,mockup:8})}}function Dn(e){let n;return{c(){n=T("no profit")},m(t,e){w(t,n,e)},p:t,d(t){t&&x(n)}}}function Nn(t){let e,n,r;return{c(){e=T("TND "),n=T(t[3]),r=T(" profit/sale")},m(t,o){w(t,e,o),w(t,n,o),w(t,r,o)},p(t,e){8&e&&L(n,t[3])},d(t){t&&x(e),t&&x(n),t&&x(r)}}}function qn(e){let n,r,o,i,s,a,c,l,u;function p(t,e){return t[4].profitable?Nn:Dn}let d=p(e),f=d(e);return{c(){n=S("div"),r=S("div"),o=S("div"),o.textContent="TND",i=C(),s=S("input"),a=C(),c=S("div"),f.c(),j(o,"class","u-currency svelte-rzzikl"),q(o,"red",!e[4].profitable),s.value=e[0],j(s,"class","price-input svelte-rzzikl"),j(s,"type","number"),q(s,"red",!e[4].profitable),j(r,"class","u-price-wrapper svelte-rzzikl"),q(r,"red",!e[4].profitable),j(c,"class","u-profit svelte-rzzikl"),q(c,"red",!e[4].profitable),j(n,"class","u-price-calculator svelte-rzzikl")},m(t,p){w(t,n,p),$(n,r),$(r,o),$(r,i),$(r,s),e[12](s),$(n,a),$(n,c),f.m(c,null),l||(u=I(s,"input",e[5]),l=!0)},p(t,[e]){16&e&&q(o,"red",!t[4].profitable),1&e&&(s.value=t[0]),16&e&&q(s,"red",!t[4].profitable),16&e&&q(r,"red",!t[4].profitable),d===(d=p(t))&&f?f.p(t,e):(f.d(1),f=d(t),f&&(f.c(),f.m(c,null))),16&e&&q(c,"red",!t[4].profitable)},i:t,o:t,d(t){t&&x(n),e[12](null),f.d(),l=!1,u()}}}function Pn(e,n,r){let o,i=t,s=()=>(i(),i=c(u,(t=>r(4,o=t))),u);e.$$.on_destroy.push((()=>i())),function(){const t=W()}();let{cost:a}=n,{unifyProfit:l}=n,{priceCalculatorData:u}=n;s();let p,{delivery:d}=n,{printarea:f}=n,{frontCost:m=0}=n,{backCost:v=0}=n,{price:g=Math.ceil((l*(1+bn)+d+a+m+v)*(1+$n))+2}=n,y=!1;f?.subscribe&&f.subscribe((t=>{if(!1!==y||0!=t.front.price||0!=t.back.price)if(!0===y&&0==t.front.price&&0==t.back.price){y=!1;let e=Math.floor((g/(1+$n)-a-d-m-v)/(1+bn)-l);console.log("creatorPorift: "+e),r(6,m=t.front.price),r(7,v=t.back.price),r(0,g=Math.ceil(((l+e)*(1+bn)+d+a+m+v)*(1+$n))),b=!(e<1),r(2,p.value=g,p),h(u,o={profit:e,price:g,profitable:b},o)}else{y=!0,console.log(t);let e=Math.floor((o.price/(1+$n)-a-d-m-v)/(1+bn)-l);console.log("creatorPorift: "+e),r(6,m=t.front.price),r(7,v=t.back.price),r(0,g=Math.ceil(((l+e)*(1+bn)+d+a+m+v)*(1+$n))),b=!(e<1),r(2,p.value=g,p),h(u,o={profit:e,price:g,profitable:b},o)}}));let _=Math.floor((g/(1+$n)-a-d-m-v)/(1+bn)-l),b=!(_<1);console.log(b),h(u,o={profit:_,price:g,profitable:b},o),console.log(o);return e.$$set=t=>{"cost"in t&&r(8,a=t.cost),"unifyProfit"in t&&r(9,l=t.unifyProfit),"priceCalculatorData"in t&&s(r(1,u=t.priceCalculatorData)),"delivery"in t&&r(10,d=t.delivery),"printarea"in t&&r(11,f=t.printarea),"frontCost"in t&&r(6,m=t.frontCost),"backCost"in t&&r(7,v=t.backCost),"price"in t&&r(0,g=t.price)},[g,u,p,_,o,t=>{let e=t.target.value;console.log("input price:"+e),console.log("itemcost:"+a),console.log("unify profit:"+l),r(3,_=Math.floor((e/(1+$n)-a-d-m-v)/(1+bn)-l)),b=!(_<1),h(u,o={profit:_,price:e,profitable:b},o),console.log(o),console.log("profit:"+_)},m,v,a,l,d,f,function(t){Q[t?"unshift":"push"]((()=>{p=t,r(2,p)}))}]}class Un extends Ct{constructor(t){super(),Tt(this,t,Pn,qn,a,{cost:8,unifyProfit:9,priceCalculatorData:1,delivery:10,printarea:11,frontCost:6,backCost:7,price:0})}}function An(t,e,n){const r=t.slice();return r[43]=e[n],r}function Mn(t,e,n){const r=t.slice();return r[43]=e[n],r}function Fn(t,e,n){const r=t.slice();return r[48]=e[n],r}function Bn(t){let e,n,r;return n=new $e({}),{c(){e=S("div"),xt(n.$$.fragment),j(e,"class","u-spinner-area svelte-1ef5fzl")},m(t,o){w(t,e,o),kt(n,e,null),r=!0},i(t){r||(mt(n.$$.fragment,t),r=!0)},o(t){vt(n.$$.fragment,t),r=!1},d(t){t&&x(e),St(n)}}}function Hn(t){let e,n=t[2].colors,r=[];for(let e=0;e<n.length;e+=1)r[e]=Wn(Fn(t,n,e));return{c(){for(let t=0;t<r.length;t+=1)r[t].c();e=O()},m(t,n){for(let e=0;e<r.length;e+=1)r[e].m(t,n);w(t,e,n)},p(t,o){if(1048708&o[0]){let i;for(n=t[2].colors,i=0;i<n.length;i+=1){const s=Fn(t,n,i);r[i]?r[i].p(s,o):(r[i]=Wn(s),r[i].c(),r[i].m(e.parentNode,e))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(t){k(r,t),t&&x(e)}}}function Wn(t){let e,n,r,o,i,s,a;function c(){return t[26](t[48])}return{c(){e=S("abbr"),n=S("div"),o=C(),j(n,"style",r=ce({"background-color":se[t[48].toLocaleLowerCase()]})),j(n,"class","color-circle svelte-1ef5fzl"),q(n,"active",t[7].includes(t[48])),j(e,"class","color-circle-container svelte-1ef5fzl"),j(e,"title",i=t[48])},m(t,r){w(t,e,r),$(e,n),$(e,o),s||(a=I(n,"click",c),s=!0)},p(o,s){t=o,4&s[0]&&r!==(r=ce({"background-color":se[t[48].toLocaleLowerCase()]}))&&j(n,"style",r),132&s[0]&&q(n,"active",t[7].includes(t[48])),4&s[0]&&i!==(i=t[48])&&j(e,"title",i)},d(t){t&&x(e),s=!1,a()}}}function Xn(t){let e,n;return e=new Un({props:{unifyProfit:t[2].profit,cost:t[2].cost,delivery:t[2].delivery,priceCalculatorData:t[9],printarea:t[11]}}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};4&n[0]&&(r.unifyProfit=t[2].profit),4&n[0]&&(r.cost=t[2].cost),4&n[0]&&(r.delivery=t[2].delivery),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Yn(t){let e,n,r,o;function i(){return t[29](t[43])}return{c(){e=S("div"),n=T(t[43]),j(e,"class","facade svelte-1ef5fzl"),q(e,"active",t[6]==t[43])},m(t,s){w(t,e,s),$(e,n),r||(o=I(e,"click",i),r=!0)},p(n,r){t=n,64&r[0]&&q(e,"active",t[6]==t[43])},d(t){t&&x(e),r=!1,o()}}}function Gn(t){let e,n,r;function o(e){t[30](e)}let i={facade:"Front",selectedColor:t[14],mockupURL:t[2].imgs.front,showBoundaries:t[10],boundaryData:t[2].printable.front,mockup:t[2],printarea:t[11]};return void 0!==t[4].front&&(i.hash=t[4].front),e=new Ln({props:i}),Q.push((()=>wt(e,"hash",o))),{c(){xt(e.$$.fragment)},m(t,n){kt(e,t,n),r=!0},p(t,r){const o={};4&r[0]&&(o.mockupURL=t[2].imgs.front),4&r[0]&&(o.boundaryData=t[2].printable.front),4&r[0]&&(o.mockup=t[2]),!n&&16&r[0]&&(n=!0,o.hash=t[4].front,ot((()=>n=!1))),e.$set(o)},i(t){r||(mt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){St(e,t)}}}function Jn(t){let e,n,r;function o(e){t[31](e)}let i={facade:"Back",selectedColor:t[14],mockupURL:t[2].imgs.back,showBoundaries:t[10],mockup:t[2],boundaryData:t[2].printable.back,printarea:t[11]};return void 0!==t[4].back&&(i.hash=t[4].back),e=new Ln({props:i}),Q.push((()=>wt(e,"hash",o))),{c(){xt(e.$$.fragment)},m(t,n){kt(e,t,n),r=!0},p(t,r){const o={};4&r[0]&&(o.mockupURL=t[2].imgs.back),4&r[0]&&(o.mockup=t[2]),4&r[0]&&(o.boundaryData=t[2].printable.back),!n&&16&r[0]&&(n=!0,o.hash=t[4].back,ot((()=>n=!1))),e.$set(o)},i(t){r||(mt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){St(e,t)}}}function Vn(t){let e,n,r,o;function i(){return t[32](t[43])}return{c(){e=S("div"),n=T(t[43]),j(e,"class","action svelte-1ef5fzl"),q(e,"active",t[8]==t[43])},m(t,s){w(t,e,s),$(e,n),r||(o=I(e,"click",i),r=!0)},p(n,r){t=n,256&r[0]&&q(e,"active",t[8]==t[43])},d(t){t&&x(e),r=!1,o()}}}function Kn(t){let e,n,r,o,s,a,c,l,u,p,d,f,h,m,v,g,y,_,b,E,T,O,L,N,P,U,A,M,F,B,H,W,X,Y,G,J,V,K,Q,Z,tt,et,nt,rt,ot,it,st,at,ct,lt,ut,pt,dt,gt,yt,_t,bt,$t=t[1]&&Bn(),wt=t[2]&&t[2].colors&&Hn(t),xt=t[0]&&Xn(t),kt=["Front","Back"],St=[];for(let e=0;e<2;e+=1)St[e]=Yn(Mn(t,kt,e));let Et=t[2].imgs.front&&Gn(t),Tt=t[2].imgs.back&&Jn(t),Ct=["Design","Preview"],Ot=[];for(let e=0;e<2;e+=1)Ot[e]=Vn(An(t,Ct,e));return{c(){e=S("div"),$t&&$t.c(),n=C(),r=S("div"),o=S("div"),o.textContent="Create Your Merch",s=C(),a=S("div"),c=S("div"),c.textContent="Merch Name",l=C(),u=S("input"),p=C(),d=S("div"),f=S("div"),f.textContent="Design your product",h=C(),m=S("div"),v=S("label"),g=S("input"),y=C(),_=S("img"),E=C(),T=S("span"),T.textContent="Add Image",O=C(),L=S("div"),N=S("div"),N.textContent="Select Product Color",P=C(),U=S("div"),wt&&wt.c(),A=C(),M=S("div"),F=S("div"),F.textContent="Which face customers see first",B=C(),H=S("div"),W=S("div"),W.textContent="Front",X=C(),Y=S("div"),Y.textContent="Back",G=C(),J=S("div"),V=S("div"),V.textContent="Set Your Price",K=C(),xt&&xt.c(),Q=C(),Z=S("div"),tt=S("div"),tt.textContent="CREATE",et=C(),nt=S("div"),rt=S("div");for(let t=0;t<2;t+=1)St[t].c();ot=C(),it=S("div"),st=S("div"),at=S("div"),Et&&Et.c(),ct=C(),lt=S("div"),Tt&&Tt.c(),ut=C(),pt=S("div");for(let t=0;t<2;t+=1)Ot[t].c();dt=C(),gt=S("div"),gt.textContent="pictures",j(o,"class","u-title svelte-1ef5fzl"),j(c,"class","control-title svelte-1ef5fzl"),j(u,"placeholder","Merch Name"),j(u,"type","text"),j(u,"class","merch-name svelte-1ef5fzl"),q(u,"border-error",t[5]),j(a,"class","control-container svelte-1ef5fzl"),j(f,"class","control-title svelte-1ef5fzl"),j(g,"accept","image/png, image/jpeg"),j(g,"id","img-uploader"),j(g,"type","file"),j(g,"class","svelte-1ef5fzl"),_.src!==(b="/imgs/misc/designer/picture.png")&&j(_,"src","/imgs/misc/designer/picture.png"),j(_,"alt","im"),j(_,"class","svelte-1ef5fzl"),j(v,"for","img-uploader"),j(v,"class","option svelte-1ef5fzl"),j(m,"class","options svelte-1ef5fzl"),j(d,"class","control-container svelte-1ef5fzl"),j(N,"class","control-title svelte-1ef5fzl"),j(U,"class","colors-container svelte-1ef5fzl"),j(L,"class","control-container svelte-1ef5fzl"),j(F,"class","control-title svelte-1ef5fzl"),j(W,"class","one-face svelte-1ef5fzl"),q(W,"active","front"==t[3].featuredFace),j(Y,"class","one-face svelte-1ef5fzl"),q(Y,"active","back"==t[3].featuredFace),j(H,"class","show-faces svelte-1ef5fzl"),j(M,"class","control-container svelte-1ef5fzl"),j(V,"class","control-title svelte-1ef5fzl"),j(J,"class","control-container svelte-1ef5fzl"),j(tt,"class","u-finalize svelte-1ef5fzl"),j(Z,"class","control-container flexed svelte-1ef5fzl"),j(r,"class","controls svelte-1ef5fzl"),j(rt,"class","facades svelte-1ef5fzl"),j(at,"class","u-canva-container svelte-1ef5fzl"),q(at,"active","Front"==t[6]),j(lt,"class","u-canva-container svelte-1ef5fzl"),q(lt,"active","Back"==t[6]),j(st,"class","design-area svelte-1ef5fzl"),j(gt,"class","action svelte-1ef5fzl"),j(pt,"class","actions svelte-1ef5fzl"),j(it,"class","u-box svelte-1ef5fzl"),j(nt,"class","design-container svelte-1ef5fzl"),j(e,"class","u-view svelte-1ef5fzl")},m(i,b){w(i,e,b),$t&&$t.m(e,null),$(e,n),$(e,r),$(r,o),$(r,s),$(r,a),$(a,c),$(a,l),$(a,u),D(u,t[3].name),$(r,p),$(r,d),$(d,f),$(d,h),$(d,m),$(m,v),$(v,g),$(v,y),$(v,_),$(v,E),$(v,T),$(r,O),$(r,L),$(L,N),$(L,P),$(L,U),wt&&wt.m(U,null),$(r,A),$(r,M),$(M,F),$(M,B),$(M,H),$(H,W),$(H,X),$(H,Y),$(r,G),$(r,J),$(J,V),$(J,K),xt&&xt.m(J,null),$(r,Q),$(r,Z),$(Z,tt),$(e,et),$(e,nt),$(nt,rt);for(let t=0;t<2;t+=1)St[t].m(rt,null);$(nt,ot),$(nt,it),$(it,st),$(st,at),Et&&Et.m(at,null),$(st,ct),$(st,lt),Tt&&Tt.m(lt,null),$(it,ut),$(it,pt);for(let t=0;t<2;t+=1)Ot[t].m(pt,null);$(pt,dt),$(pt,gt),yt=!0,_t||(bt=[I(u,"input",t[24]),I(u,"click",t[25]),I(g,"change",t[17]),I(W,"click",t[27]),I(Y,"click",t[28]),I(tt,"click",t[19]),I(gt,"click",t[21]),I(nt,"keyup",t[16]),I(e,"drop",R(t[18])),I(e,"dragover",z(R(t[23])))],_t=!0)},p(t,r){if(t[1]?$t?2&r[0]&&mt($t,1):($t=Bn(),$t.c(),mt($t,1),$t.m(e,n)):$t&&(ft(),vt($t,1,1,(()=>{$t=null})),ht()),8&r[0]&&u.value!==t[3].name&&D(u,t[3].name),32&r[0]&&q(u,"border-error",t[5]),t[2]&&t[2].colors?wt?wt.p(t,r):(wt=Hn(t),wt.c(),wt.m(U,null)):wt&&(wt.d(1),wt=null),8&r[0]&&q(W,"active","front"==t[3].featuredFace),8&r[0]&&q(Y,"active","back"==t[3].featuredFace),t[0]?xt?(xt.p(t,r),1&r[0]&&mt(xt,1)):(xt=Xn(t),xt.c(),mt(xt,1),xt.m(J,null)):xt&&(ft(),vt(xt,1,1,(()=>{xt=null})),ht()),64&r[0]){let e;for(kt=["Front","Back"],e=0;e<2;e+=1){const n=Mn(t,kt,e);St[e]?St[e].p(n,r):(St[e]=Yn(n),St[e].c(),St[e].m(rt,null))}for(;e<2;e+=1)St[e].d(1)}if(t[2].imgs.front?Et?(Et.p(t,r),4&r[0]&&mt(Et,1)):(Et=Gn(t),Et.c(),mt(Et,1),Et.m(at,null)):Et&&(ft(),vt(Et,1,1,(()=>{Et=null})),ht()),64&r[0]&&q(at,"active","Front"==t[6]),t[2].imgs.back?Tt?(Tt.p(t,r),4&r[0]&&mt(Tt,1)):(Tt=Jn(t),Tt.c(),mt(Tt,1),Tt.m(lt,null)):Tt&&(ft(),vt(Tt,1,1,(()=>{Tt=null})),ht()),64&r[0]&&q(lt,"active","Back"==t[6]),256&r[0]){let e;for(Ct=["Design","Preview"],e=0;e<2;e+=1){const n=An(t,Ct,e);Ot[e]?Ot[e].p(n,r):(Ot[e]=Vn(n),Ot[e].c(),Ot[e].m(pt,dt))}for(;e<2;e+=1)Ot[e].d(1)}},i(t){yt||(mt($t),mt(xt),mt(Et),mt(Tt),yt=!0)},o(t){vt($t),vt(xt),vt(Et),vt(Tt),yt=!1},d(t){t&&x(e),$t&&$t.d(),wt&&wt.d(),xt&&xt.d(),k(St,t),Et&&Et.d(),Tt&&Tt.d(),k(Ot,t),_t=!1,i(bt)}}}function Qn(t,e,n){let r,o,i,s,a,c,u,p,d,f;l(t,oe,(t=>n(35,i=t))),l(t,re,(t=>n(36,s=t))),l(t,ge,(t=>n(39,p=t)));let{params:m}=e;console.log(m),console.log(xn);let v=!1;const g=It({});l(t,g,(t=>n(38,u=t)));const y=It(!0);l(t,y,(t=>n(40,d=t)));let _=!1,b={imgs:{front:"",back:""},profit:1,cost:10};const $={id:ue(),name:"",featuredFace:"front",mockup:m.itemid,imgs:{front:"",back:""},price:0},w=It({front:{area:0,price:0},back:{area:0,price:0}});l(t,w,(t=>n(34,o=t)));const x=It("Design");l(t,x,(t=>n(8,f=t)));const k=It("Front");l(t,k,(t=>n(6,r=t)));const S=It("Blue");l(t,S,(t=>n(37,a=t)));const E=It([]);l(t,E,(t=>n(7,c=t)));const T=t=>{if(t=t||window.event,console.log(t.code),"Delete"==t.code&&C[r.toLocaleLowerCase()].canva.getActiveObjects().length>0)for(let t of C[r.toLocaleLowerCase()].canva.getActiveObjects())C[r.toLocaleLowerCase()].canva.remove(t)};let C={front:{canva:"",background:"",mockup:"",items:[]},back:{canva:"",background:"",mockup:"",items:[]}};X((async()=>{console.log(xn[m.itemid]),null==xn[m.itemid]&&(console.log("navigating"),Nt("/merch/create")),n(2,b=xn[m.itemid]),h(w,o={front:{area:0,price:0,minPrice:b.print.front},back:{area:0,price:0,minPrice:b.print.back}},o),n(0,v=!0),h(oe,i=!1,i),h(re,s=!0,s),h(S,a=b.colors[0],a),h(E,c=[b.colors[0]],c),document.addEventListener("keyup",T)})),Y((()=>{h(oe,i=!0,i),document.removeEventListener("keyup",T)}));const O=async t=>{console.log("adding image to "+r.toLocaleLowerCase());let e=C[r.toLocaleLowerCase()];await fabric.Image.fromURL(URL.createObjectURL(t),(function(t){t.clipPath=C[r.toLocaleLowerCase()].boundary;let n=ue();t.originalGID=n,e.items.push(t),t.scaleToWidth(100,!1),t.center(),e.canva.add(t),t.center(),t.set({top:b.printable[r.toLocaleLowerCase()].top+5}),t.setCoords(),t.saveState(),console.log(t._originalElement.currentSrc)})),setTimeout((()=>{(()=>{let t=C[r.toLocaleLowerCase()];t.canva.sendToBack(t.background),t.canva.bringToFront(t.mockup),t.canva.renderAll()})()}),1e3)};let I=!1;const R=t=>{c.includes(t)?(h(E,c=c.filter((e=>e!=t)),c),0==c.length?(h(E,c=[b.colors[0]],c),h(S,a=b.colors[0],a)):h(S,a=c[0],a)):(h(E,c=[...c,t],c),h(S,a=t,a))};return t.$$set=t=>{"params"in t&&n(22,m=t.params)},[v,_,b,$,C,I,r,c,f,g,y,w,x,k,S,E,T,async t=>{let e=t.target.files[0];null!=e&&(e.size>6291456?pe.set({accentColor:"alert",title:"Image size",content:"Image size should not exceed 6 MBs"}):O(e))},t=>{let e=t.dataTransfer.files[0];null!=e&&(e.size>6291456?pe.set({accentColor:"alert",title:"Image size",content:"Image size should not exceed 6 MBs"}):O(e))},async()=>{if(console.log($),0==$.name.length)return n(5,I=!0),void pe.set({accentColor:"alert",title:"Merch name",content:"Input merch name"});if(C.front.items.length+C.back.items.length==0)return void pe.set({accentColor:"alert",title:"Add customizations",content:"Atleast 1 customization is needed to create merch"});if(u.profit<2)return void pe.set({accentColor:"alert",title:"Profit",content:"A merch should generate atleast a profit of 2 tnd"});n(1,_=!0),n(3,$.creator=p.claims.username,$),n(3,$.price=u.price,$),n(3,$.profit=u.profit,$),n(3,$.sizes=b.sizes,$);let t=(t,e)=>new Promise((async(n,r)=>{let o,i="creators/"+e,s=ye.ref().child(i);o="string"==typeof t?s.putString(t,"data_url"):s.put(t);o.on("state_changed",(t=>{Math.round(t.bytesTransferred/t.totalBytes*100)}),(t=>{console.log(t),r(t)}),(async()=>{n(await o.snapshot.ref.getDownloadURL())}))}));h(y,d=!1,d),n(3,$.colors=c,$);let e=a;n(3,$.featuredColor=e,$);for(let e of $.colors){h(S,a=e,a);let r=p.claims.username+"/merch/"+$.id+"/front-"+e,o=p.claims.username+"/merch/"+$.id+"/back-"+e;n(3,$.imgs[e]=$.imgs[e]||{},$),n(3,$.imgs[e].front=(await t(C.front.canva.toDataURL({format:"jpeg",quality:.9}),r)).split("token=",2)[1],$),n(3,$.imgs[e].back=(await t(C.back.canva.toDataURL({format:"jpeg",quality:.9}),o)).split("token=",2)[1],$)}h(y,d=!0,d),h(S,a=e,a),n(3,$.print={front:"",back:""},$);for(let e of["front","back"]){if(C[e].canva.getObjects().filter((t=>!["color-box","boundary","mockup"].includes(t.id))).length>0){let r=p.claims.username+"/merch/"+$.id+"/"+e+"-print.png";C[e].mockup.set("opacity",0),C[e].background.set("opacity",0),C[e].boundary.set("opacity",0);const o=C[e].canva.toDataURL({top:C[e].boundary.top+C[e].boundary.strokeWidth,left:C[e].boundary.left+C[e].boundary.strokeWidth,width:C[e].boundary.width-C[e].boundary.strokeWidth,height:C[e].boundary.height-C[e].boundary.strokeWidth,multiplier:7,quality:1,format:"png"});C[e].mockup.set("opacity",1),C[e].background.set("opacity",1),C[e].boundary.set("opacity",1);let i=(await t(o,r)).split("token=",2)[1];n(3,$.print[e]=i,$)}}n(3,$.color=a,$),console.log($),n(3,$.timestamp=firebase.firestore.FieldValue.serverTimestamp(),$);const r=me.batch();r.set(me.doc("/creators/"+p.claims.username+"/merch/all"),{[$.id]:$},{merge:!0}),r.set(me.doc("/creators/"+p.claims.username+"/merch/"+$.id),$),await r.commit(),n(1,_=!1),pe.set({accentColor:"success",title:"Success",content:"Merch created"}),Nt("/merch/all",{replace:!0})},R,()=>{var t=document.createElement("a");C.front.mockup.set("opacity",0),C.front.background.set("opacity",0),C.front.boundary.set("opacity",0);var e=C.front.canva.toDataURL({top:C.front.boundary.top+C.front.boundary.strokeWidth,left:C.front.boundary.left+C.front.boundary.strokeWidth,width:C.front.boundary.width-C.front.boundary.strokeWidth,height:C.front.boundary.height-C.front.boundary.strokeWidth,multiplier:7,format:"png"});C.front.mockup.set("opacity",1),C.front.background.set("opacity",1),C.front.boundary.set("opacity",1),e.substr(22,e.length);var n=function(t){for(var e=t.split(","),n=e[0].match(/:(.*?);/)[1],r=atob(e[1]),o=r.length,i=new Uint8Array(o);o--;)i[o]=r.charCodeAt(o);return new Blob([i],{type:n})}(e),r=URL.createObjectURL(n);t.download="helloWorld.png",t.href=r,t.click()},m,function(e){V(t,e)},function(){$.name=this.value,n(3,$)},()=>{n(5,I=!1)},t=>{R(t)},()=>{n(3,$.featuredFace="front",$)},()=>{n(3,$.featuredFace="back",$)},t=>{r!=t&&h(k,r=t,r)},function(e){t.$$.not_equal(C.front,e)&&(C.front=e,n(4,C))},function(e){t.$$.not_equal(C.back,e)&&(C.back=e,n(4,C))},t=>{f!=t&&h(x,f=t,f)}]}class Zn extends Ct{constructor(t){super(),Tt(this,t,Qn,Kn,a,{params:22},[-1,-1])}}function tr(e){let n,r;return n=new $e({}),{c(){xt(n.$$.fragment)},m(t,e){kt(n,t,e),r=!0},p:t,i(t){r||(mt(n.$$.fragment,t),r=!0)},o(t){vt(n.$$.fragment,t),r=!1},d(t){St(n,t)}}}function er(t){let e,n,r,o,s,a,c,l,u,p,d,f,h,m,v,g,y,_,b,k,E,T,O,R,z,L,D,q,P,U,A,M,F;const B=[rr,nr],H=[];function W(t,e){return t[2]?0:1}r=W(t),o=H[r]=B[r](t),L=new Un({props:{priceCalculatorData:t[8],cost:t[1].cost,unifyProfit:t[1].profit,price:t[1].price,delivery:t[1].delivery}});const X=[ir,or],Y=[];function G(t,e){return t[3]?0:1}return P=G(t),U=Y[P]=X[P](t),{c(){e=S("header"),n=S("div"),o.c(),s=C(),a=S("div"),c=S("div"),l=S("div"),u=S("img"),d=C(),f=S("div"),h=S("img"),v=C(),g=S("div"),y=S("div"),_=S("label"),_.textContent="Merch Name",b=C(),k=S("input"),T=C(),O=S("div"),R=S("label"),R.textContent="Price",z=C(),xt(L.$$.fragment),D=C(),q=S("div"),U.c(),j(n,"href","/merch/create"),j(n,"class","u-button svelte-or7ce"),j(e,"class","svelte-or7ce"),u.src!==(p=t[1].imgs[t[1].featuredColor].front)&&j(u,"src",p),j(u,"alt","front"),j(u,"class","svelte-or7ce"),j(l,"class","image-container svelte-or7ce"),h.src!==(m=t[1].imgs[t[1].featuredColor].back)&&j(h,"src",m),j(h,"alt","back"),j(h,"class","svelte-or7ce"),j(f,"class","image-container svelte-or7ce"),j(c,"class","u-image-section svelte-or7ce"),j(_,"for","name"),j(_,"class","svelte-or7ce"),k.value=E=t[1].name,j(k,"class","input-text svelte-or7ce"),j(k,"type","text"),j(k,"id","name"),j(y,"class","input-container svelte-or7ce"),j(R,"for","name"),j(R,"class","svelte-or7ce"),j(O,"class","input-container svelte-or7ce"),j(q,"class","u-update svelte-or7ce"),N(q,"background",t[6]),N(q,"color",t[5]),N(q,"border","1px solid "+t[7]),j(g,"class","u-info-section svelte-or7ce"),j(a,"class","u-content svelte-or7ce")},m(o,i){w(o,e,i),$(e,n),H[r].m(n,null),w(o,s,i),w(o,a,i),$(a,c),$(c,l),$(l,u),$(c,d),$(c,f),$(f,h),$(a,v),$(a,g),$(g,y),$(y,_),$(y,b),$(y,k),t[14](k),$(g,T),$(g,O),$(O,R),$(O,z),kt(L,O,null),$(g,D),$(g,q),Y[P].m(q,null),A=!0,M||(F=[I(n,"click",t[9]),I(q,"click",t[10]),I(q,"mouseover",t[11]),I(q,"mouseout",t[12])],M=!0)},p(t,e){let i=r;r=W(t),r!==i&&(ft(),vt(H[i],1,1,(()=>{H[i]=null})),ht(),o=H[r],o||(o=H[r]=B[r](t),o.c()),mt(o,1),o.m(n,null)),(!A||2&e&&u.src!==(p=t[1].imgs[t[1].featuredColor].front))&&j(u,"src",p),(!A||2&e&&h.src!==(m=t[1].imgs[t[1].featuredColor].back))&&j(h,"src",m),(!A||2&e&&E!==(E=t[1].name)&&k.value!==E)&&(k.value=E);const s={};2&e&&(s.cost=t[1].cost),2&e&&(s.unifyProfit=t[1].profit),2&e&&(s.price=t[1].price),2&e&&(s.delivery=t[1].delivery),L.$set(s);let a=P;P=G(t),P!==a&&(ft(),vt(Y[a],1,1,(()=>{Y[a]=null})),ht(),U=Y[P],U||(U=Y[P]=X[P](t),U.c()),mt(U,1),U.m(q,null)),(!A||64&e)&&N(q,"background",t[6]),(!A||32&e)&&N(q,"color",t[5]),(!A||128&e)&&N(q,"border","1px solid "+t[7])},i(t){A||(mt(o),mt(L.$$.fragment,t),mt(U),A=!0)},o(t){vt(o),vt(L.$$.fragment,t),vt(U),A=!1},d(n){n&&x(e),H[r].d(),n&&x(s),n&&x(a),t[14](null),St(L),Y[P].d(),M=!1,i(F)}}}function nr(e){let n;return{c(){n=T("Delete")},m(t,e){w(t,n,e)},i:t,o:t,d(t){t&&x(n)}}}function rr(t){let e,n;return e=new $e({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function or(e){let n;return{c(){n=T("Update")},m(t,e){w(t,n,e)},i:t,o:t,d(t){t&&x(n)}}}function ir(t){let e,n;return e=new $e({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function sr(t){let e,n,r,o;const i=[er,tr],s=[];function a(t,e){return t[0]&&t[1]?0:1}return n=a(t),r=s[n]=i[n](t),{c(){e=S("div"),r.c(),j(e,"class","u-view svelte-or7ce"),q(e,"center",!t[0])},m(t,r){w(t,e,r),s[n].m(e,null),o=!0},p(t,[o]){let c=n;n=a(t),n===c?s[n].p(t,o):(ft(),vt(s[c],1,1,(()=>{s[c]=null})),ht(),r=s[n],r?r.p(t,o):(r=s[n]=i[n](t),r.c()),mt(r,1),r.m(e,null)),1&o&&q(e,"center",!t[0])},i(t){o||(mt(r),o=!0)},o(t){vt(r),o=!1},d(t){t&&x(e),s[n].d()}}}function ar(t,e,n){let r,o,i,s;l(t,ge,(t=>n(15,r=t))),l(t,de,(t=>n(16,o=t))),l(t,ne,(t=>n(18,s=t)));let{params:a={}}=e;const c=It({});l(t,c,(t=>n(17,i=t)));let u,p=!1;X((async()=>{let t=(await me.doc("/creators/"+r.claims.username+"/merch/"+a.itemid).get()).data();null==t&&Nt("/merch/all");for(let[e,n]of Object.entries(t.imgs)){console.log(n);for(let[o,i]of Object.entries(n)){let n="creators/"+r.claims.username+"/merch/"+a.itemid+"/"+o+"-"+e;t.imgs[e][o]=le(i,n),console.log(t.imgs[e][o])}}console.log(t),t.cost=xn[t.mockup].cost,t.profit=xn[t.mockup].profit,t.delivery=xn[t.mockup].delivery,n(1,u=t),n(0,p=!0)}));let d=!1;let f=!1;let h,m="white",v=s,g=s;return t.$$set=t=>{"params"in t&&n(13,a=t.params)},[p,u,d,f,h,m,v,g,c,async()=>{if(d)return;if(n(2,d=!0),"true"==await o({title:"Delete Merch "+u.name,desc:"Are you sure you want to delete item "+u.id,buttons:[{name:"Confirm",value:!0,color:"ok"},{name:"Decline",value:!1,color:"danger"}]})){let t=me.batch();t.update(me.doc("/creators/"+r.claims.username+"/merch/"+a.itemid),{deleted:!0}),t.update(me.doc("/creators/"+r.claims.username+"/merch/all"),{[a.itemid+"."+deleted]:!0}),await t.commit(),pe.set({accentColor:"success",title:"Success",content:"Merch Deleted"}),setTimeout((()=>{Nt("/merch/all")}),800)}n(2,d=!1)},async()=>{if(1==f)return;if(n(3,f=!0),i.profit<2)return pe.set({accentColor:"alert",title:"Profit",content:"Item should generate at least 2tnd profit"}),void n(3,f=!1);if(0==h.value.length)return pe.set({accentColor:"alert",title:"Merch Name",content:"Merch must have a name"}),void n(3,f=!1);let t={},e={};if(h.value!=u.name&&(t.name=h.value,e[a.itemid+".name"]=h.value),i.price!=u.price&&(t.price=i.price,e[a.itemid+".price"]=i.price),0!=Object.keys(t).length){let n=me.batch();n.update(me.doc("/creators/"+r.claims.username+"/merch/"+a.itemid),t),n.update(me.doc("/creators/"+r.claims.username+"/merch/all"),e),await n.commit(),pe.set({accentColor:"success",title:"Success",content:"Merch Updated"})}else pe.set({accentColor:"alert",title:"No Modification",content:"Nothing to Update"});setTimeout((()=>{n(3,f=!1)}),8e3)},t=>{n(5,m=s),n(6,v="white"),n(7,g=s)},t=>{n(5,m="white"),n(6,v=s),n(7,g=s)},a,function(t){Q[t?"unshift":"push"]((()=>{h=t,n(4,h)}))}]}class cr extends Ct{constructor(t){super(),Tt(this,t,ar,sr,a,{params:13})}}function lr(t){let e,n;return e=new _n({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function ur(t){let e,n;return e=new Rn({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function pr(t){let e,n;return e=new Zn({props:{params:t[0]}}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.params=t[0]),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function dr(t){let e,n;return e=new cr({props:{params:t[0]}}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};1&n&&(r.params=t[0]),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function fr(t){let e,n,r,o,i,s,a,c;return e=new te({props:{path:"/all",$$slots:{default:[lr]},$$scope:{ctx:t}}}),r=new te({props:{path:"/create",$$slots:{default:[ur]},$$scope:{ctx:t}}}),i=new te({props:{path:"/create/:itemid",$$slots:{default:[pr,({params:t})=>({0:t}),({params:t})=>t?1:0]},$$scope:{ctx:t}}}),a=new te({props:{path:"/modify/:itemid",$$slots:{default:[dr,({params:t})=>({0:t}),({params:t})=>t?1:0]},$$scope:{ctx:t}}}),{c(){xt(e.$$.fragment),n=C(),xt(r.$$.fragment),o=C(),xt(i.$$.fragment),s=C(),xt(a.$$.fragment)},m(t,l){kt(e,t,l),w(t,n,l),kt(r,t,l),w(t,o,l),kt(i,t,l),w(t,s,l),kt(a,t,l),c=!0},p(t,n){const o={};2&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const s={};2&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s);const c={};3&n&&(c.$$scope={dirty:n,ctx:t}),i.$set(c);const l={};3&n&&(l.$$scope={dirty:n,ctx:t}),a.$set(l)},i(t){c||(mt(e.$$.fragment,t),mt(r.$$.fragment,t),mt(i.$$.fragment,t),mt(a.$$.fragment,t),c=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(i.$$.fragment,t),vt(a.$$.fragment,t),c=!1},d(t){St(e,t),t&&x(n),St(r,t),t&&x(o),St(i,t),t&&x(s),St(a,t)}}}function hr(t){let e,n;return e=new Xt({props:{$$slots:{default:[fr]},$$scope:{ctx:t}}}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}class mr extends Ct{constructor(t){super(),Tt(this,t,null,hr,a,{})}}function vr(e){let n,r,o,i,s,a,c,l,u,p;return{c(){n=S("div"),r=S("label"),o=T(e[1]),s=C(),a=S("div"),c=S("input"),j(r,"for",i=e[2]?e[2]:e[1]),j(r,"required","required"),j(r,"class","input-label svelte-1rpjl5r"),N(r,"color",e[4]),j(c,"id",l=e[2]?e[2]:e[1]),j(c,"type","text"),c.required="required",j(c,"tabindex","1"),j(c,"placeholder",e[3]),j(c,"class","input-text svelte-1rpjl5r"),j(a,"class","input-wrapper-container svelte-1rpjl5r"),j(n,"class","input-wrapper svelte-1rpjl5r")},m(t,i){w(t,n,i),$(n,r),$(r,o),$(n,s),$(n,a),$(a,c),D(c,e[0]),u||(p=I(c,"input",e[5]),u=!0)},p(t,[e]){2&e&&L(o,t[1]),6&e&&i!==(i=t[2]?t[2]:t[1])&&j(r,"for",i),16&e&&N(r,"color",t[4]),6&e&&l!==(l=t[2]?t[2]:t[1])&&j(c,"id",l),8&e&&j(c,"placeholder",t[3]),1&e&&c.value!==t[0]&&D(c,t[0])},i:t,o:t,d(t){t&&x(n),u=!1,p()}}}function gr(t,e,n){let r;l(t,ne,(t=>n(4,r=t)));let{title:o=""}=e,{id:i}=e,{text:s=""}=e,{placeholder:a=""}=e;return t.$$set=t=>{"title"in t&&n(1,o=t.title),"id"in t&&n(2,i=t.id),"text"in t&&n(0,s=t.text),"placeholder"in t&&n(3,a=t.placeholder)},[s,o,i,a,r,function(){s=this.value,n(0,s)}]}class yr extends Ct{constructor(t){super(),Tt(this,t,gr,vr,a,{title:1,id:2,text:0,placeholder:3})}}function _r(e){let n,r,o,s,a,c,l,u,p,d,f,h;return{c(){n=S("div"),r=S("label"),o=T(e[1]),a=C(),c=S("div"),l=S("input"),u=C(),p=S("input"),N(r,"color",e[3]),j(r,"for",s=e[2]?e[2]:e[1]),j(r,"required","required"),j(r,"class","input-label svelte-1ez622k"),j(l,"class","color-selector svelte-1ez622k"),j(l,"type","color"),p.disabled=!0,j(p,"id",d=e[2]?e[2]:e[1]),j(p,"type","text"),p.required="required",j(p,"tabindex","1"),j(p,"class","input-text svelte-1ez622k"),j(c,"class","input-wrapper-container svelte-1ez622k"),j(n,"class","input-wrapper svelte-1ez622k")},m(t,i){w(t,n,i),$(n,r),$(r,o),$(n,a),$(n,c),$(c,l),D(l,e[0]),$(c,u),$(c,p),D(p,e[0]),f||(h=[I(l,"input",e[4]),I(p,"input",e[5])],f=!0)},p(t,[e]){2&e&&L(o,t[1]),8&e&&N(r,"color",t[3]),6&e&&s!==(s=t[2]?t[2]:t[1])&&j(r,"for",s),1&e&&D(l,t[0]),6&e&&d!==(d=t[2]?t[2]:t[1])&&j(p,"id",d),1&e&&p.value!==t[0]&&D(p,t[0])},i:t,o:t,d(t){t&&x(n),f=!1,i(h)}}}function br(t,e,n){let r;l(t,ne,(t=>n(3,r=t)));let{title:o=""}=e,{id:i}=e,{text:s=""}=e;return t.$$set=t=>{"title"in t&&n(1,o=t.title),"id"in t&&n(2,i=t.id),"text"in t&&n(0,s=t.text)},[s,o,i,r,function(){s=this.value,n(0,s)},function(){s=this.value,n(0,s)}]}class $r extends Ct{constructor(t){super(),Tt(this,t,br,_r,a,{title:1,id:2,text:0})}}function wr(e){let n;return{c(){n=S("div"),j(n,"class","banner-image svelte-1kxzeau")},m(t,e){w(t,n,e)},p:t,d(t){t&&x(n)}}}function xr(t){let e;return{c(){e=S("div"),j(e,"class","banner-image svelte-1kxzeau"),N(e,"background-image","url("+URL.createObjectURL(t[0].banner)+")")},m(t,n){w(t,e,n)},p(t,n){1&n[0]&&N(e,"background-image","url("+URL.createObjectURL(t[0].banner)+")")},d(t){t&&x(e)}}}function kr(t){let e;return{c(){e=S("div"),j(e,"crossorigin","anonymous"),j(e,"class","banner-image svelte-1kxzeau"),N(e,"background-image","url("+le(t[0].logo,"creators/"+t[3].claims?.username+"/banner")+")")},m(t,n){w(t,e,n)},p(t,n){9&n[0]&&N(e,"background-image","url("+le(t[0].logo,"creators/"+t[3].claims?.username+"/banner")+")")},d(t){t&&x(e)}}}function Sr(t){let e,n,r;return{c(){e=S("img"),j(e,"class","logo-image svelte-1kxzeau"),e.src!==(n="/imgs/defaultUser.png")&&j(e,"src","/imgs/defaultUser.png"),j(e,"alt",r=t[0].logo)},m(t,n){w(t,e,n)},p(t,n){1&n[0]&&r!==(r=t[0].logo)&&j(e,"alt",r)},d(t){t&&x(e)}}}function Er(t){let e,n;return{c(){e=S("img"),j(e,"class","logo-image svelte-1kxzeau"),e.src!==(n=URL.createObjectURL(t[0].logo))&&j(e,"src",n),j(e,"alt","logo")},m(t,n){w(t,e,n)},p(t,r){1&r[0]&&e.src!==(n=URL.createObjectURL(t[0].logo))&&j(e,"src",n)},d(t){t&&x(e)}}}function Tr(t){let e,n;return{c(){e=S("img"),j(e,"crossorigin","anonymous"),j(e,"class","logo-image svelte-1kxzeau"),e.src!==(n=le(t[0].logo,"creators/"+t[3].claims?.username+"/logo"))&&j(e,"src",n),j(e,"alt","logo")},m(t,n){w(t,e,n)},p(t,r){9&r[0]&&e.src!==(n=le(t[0].logo,"creators/"+t[3].claims?.username+"/logo"))&&j(e,"src",n)},d(t){t&&x(e)}}}function Cr(t){let e,n,r,o,s=t[0].name+"";return{c(){e=S("div"),n=T(s),j(e,"class","creator_name svelte-1kxzeau"),j(e,"contenteditable","true")},m(i,s){w(i,e,s),$(e,n),r||(o=[I(e,"click",z(R(t[12]))),I(e,"input",t[17])],r=!0)},p(t,e){1&e[0]&&s!==(s=t[0].name+"")&&L(n,s)},d(t){t&&x(e),r=!1,i(o)}}}function Or(t){let e,n,r,o,s=t[3].claims?.username+"";return{c(){e=S("div"),n=T(s),j(e,"class","creator_name svelte-1kxzeau"),j(e,"contenteditable","true")},m(i,s){w(i,e,s),$(e,n),r||(o=[I(e,"click",z(R(t[11]))),I(e,"input",t[16])],r=!0)},p(t,e){8&e[0]&&s!==(s=t[3].claims?.username+"")&&L(n,s)},d(t){t&&x(e),r=!1,i(o)}}}function Ir(e){let n;return{c(){n=T("Save")},m(t,e){w(t,n,e)},i:t,o:t,d(t){t&&x(n)}}}function Rr(t){let e,n;return e=new $e({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function zr(t){let e,n,r,o,s,a,c,l,u,p,d,f,h,v,g,y,_,b,k,E,O,L,P,U,A,M,F,B,H,W,X,Y,G,J,V,K,Z,tt,et,nt,rt,it,st,at,ct,lt,ut,pt,dt,gt,yt,_t,bt,$t,Et,Tt,Ct,Ot,It,Rt,zt,jt,Lt,Dt,Nt,qt,Pt,Ut,At,Mt,Ft,Bt,Ht,Wt,Xt,Yt,Gt,Jt,Vt,Kt,Qt,Zt,te,ne,re,oe,ie,se,ae,ce,le,ue,pe,de,fe,he,me,ve,ge,ye,_e,be,$e,we,xe,ke,Se,Ee,Ce,Oe,Ie,Re,ze,je,Le,De;function Ne(t,e){return"string"==typeof t[0].banner&&t[0].banner.length>0?kr:"string"!=typeof t[0].banner?xr:wr}n=new Te({});let qe=Ne(t),Pe=qe(t);function Ue(t,e){return"string"==typeof t[0].logo&&t[0].logo.length>0?Tr:"string"!=typeof t[0].logo?Er:Sr}let Ae=Ue(t),Me=Ae(t);function Fe(t,e){return""==t[0].name?Or:Cr}let Be=Fe(t),He=Be(t);function We(e){t[19](e)}function Xe(e){t[20](e)}let Ye={title:"Store Name"};function Ge(e){t[21](e)}void 0!==t[0].name&&(Ye.value=t[0].name),void 0!==t[0].name&&(Ye.text=t[0].name),qt=new yr({props:Ye}),Q.push((()=>wt(qt,"value",We))),Q.push((()=>wt(qt,"text",Xe)));let Je={title:"Accent Color"};function Ve(e){t[23](e)}void 0!==t[0].accentColor&&(Je.text=t[0].accentColor),Mt=new $r({props:Je}),Q.push((()=>wt(Mt,"text",Ge)));let Ke={placeholder:"Link",title:"Youtube"};function Qe(e){t[24](e)}void 0!==t[0].youtube&&(Ke.text=t[0].youtube),Zt=new yr({props:Ke}),Q.push((()=>wt(Zt,"text",Ve)));let Ze={placeholder:"Link",title:"Facebook"};function tn(e){t[25](e)}void 0!==t[0].facebook&&(Ze.text=t[0].facebook),re=new yr({props:Ze}),Q.push((()=>wt(re,"text",Qe)));let en={placeholder:"Link",title:"Instagram"};function nn(e){t[26](e)}void 0!==t[0].instagram&&(en.text=t[0].instagram),se=new yr({props:en}),Q.push((()=>wt(se,"text",tn)));let rn={placeholder:"Link",title:"Twitch"};function on(e){t[27](e)}void 0!==t[0].twitch&&(rn.text=t[0].twitch),le=new yr({props:rn}),Q.push((()=>wt(le,"text",nn)));let sn={placeholder:"Link",title:"Nimo"};function an(e){t[28](e)}void 0!==t[0].nimo&&(sn.text=t[0].nimo),de=new yr({props:sn}),Q.push((()=>wt(de,"text",on)));let cn={placeholder:"Link",title:"Twitter"};function ln(e){t[29](e)}void 0!==t[0].twitter&&(cn.text=t[0].twitter),me=new yr({props:cn}),Q.push((()=>wt(me,"text",an)));let un={placeholder:"Link",title:"Baaz"};function pn(e){t[30](e)}void 0!==t[0].baaz&&(un.text=t[0].baaz),ye=new yr({props:un}),Q.push((()=>wt(ye,"text",ln)));let dn={placeholder:"Link",title:"Tiktok"};function fn(e){t[31](e)}void 0!==t[0].Tiktok&&(dn.text=t[0].Tiktok),$e=new yr({props:dn}),Q.push((()=>wt($e,"text",pn)));let hn={placeholder:"Link",title:"pinterest"};void 0!==t[0].pinterest&&(hn.text=t[0].pinterest),ke=new yr({props:hn}),Q.push((()=>wt(ke,"text",fn)));const mn=[Rr,Ir],vn=[];function gn(t,e){return t[2]?0:1}return Oe=gn(t),Ie=vn[Oe]=mn[Oe](t),{c(){e=S("div"),xt(n.$$.fragment),r=C(),o=S("section"),s=S("label"),a=S("input"),c=C(),Pe.c(),l=C(),u=S("div"),u.innerHTML='<img src="/imgs/misc/camera.svg" alt="camera" class="camera svelte-1kxzeau"/>\n                Edit Cover Photo',p=C(),d=S("label"),f=S("input"),h=C(),v=S("div"),Me.c(),g=C(),y=S("div"),y.innerHTML='<img src="/imgs/misc/camera.svg" alt="camera" class="camera svelte-1kxzeau"/>',_=C(),He.c(),b=C(),k=S("section"),E=S("div"),O=S("div"),L=S("input"),U=C(),A=S("div"),A.innerHTML='<img src="/imgs/misc/copy.png" alt="copy" class="svelte-1kxzeau"/>',M=C(),F=S("div"),B=S("div"),H=S("div"),W=T("Account Data"),X=C(),Y=S("div"),G=S("div"),J=T("Email"),V=C(),K=S("input"),tt=C(),et=S("div"),nt=S("a"),nt.innerHTML='<img class="u-edit svelte-1kxzeau" src="/imgs/misc/edit.svg" alt="edit"/>',rt=C(),it=S("div"),st=T("Phone Number"),at=C(),ct=S("input"),ut=C(),pt=S("div"),dt=S("div"),gt=T("Personal Data"),yt=C(),_t=S("div"),bt=S("div"),$t=T("Name"),Et=C(),Tt=S("input"),Ot=C(),It=S("div"),Rt=S("div"),zt=T("Date of Birth"),jt=C(),Lt=S("input"),Dt=C(),Nt=S("div"),xt(qt.$$.fragment),At=C(),xt(Mt.$$.fragment),Bt=C(),Ht=S("div"),Wt=S("div"),Xt=T("Description"),Yt=C(),Gt=S("textarea"),Jt=C(),Vt=S("div"),Vt.textContent="Social Media",Kt=C(),Qt=S("div"),xt(Zt.$$.fragment),ne=C(),xt(re.$$.fragment),ie=C(),xt(se.$$.fragment),ce=C(),xt(le.$$.fragment),pe=C(),xt(de.$$.fragment),he=C(),xt(me.$$.fragment),ge=C(),xt(ye.$$.fragment),be=C(),xt($e.$$.fragment),xe=C(),xt(ke.$$.fragment),Ee=C(),Ce=S("button"),Ie.c(),Re=C(),ze=S("div"),ze.textContent="Logout",j(a,"type","file"),j(a,"accept","image/png, image/jpeg"),j(a,"id","banner-upload"),j(a,"class","svelte-1kxzeau"),j(u,"class","camera_container svelte-1kxzeau"),j(s,"for","banner-upload"),j(s,"class","banner svelte-1kxzeau"),q(s,"filled",t[0].banner),j(f,"type","file"),j(f,"accept","image/png, image/jpeg"),j(f,"id","logo-upload"),j(f,"class","svelte-1kxzeau"),j(y,"class","camera_container svelte-1kxzeau"),j(v,"class","logo_container svelte-1kxzeau"),j(d,"for","logo-upload"),j(d,"class","logo svelte-1kxzeau"),q(d,"filled",t[0].logo),j(o,"class","banner-logo-area svelte-1kxzeau"),L.disabled=!0,j(L,"type","text"),j(L,"class","name svelte-1kxzeau"),j(L,"id","myStoreID"),L.value=P="https://unify.tn/"+t[3].claims?.username+"/merch",j(A,"class","copyimg svelte-1kxzeau"),j(O,"class","inputContainer svelte-1kxzeau"),j(E,"class","input myStore svelte-1kxzeau"),j(H,"class","title svelte-1kxzeau"),N(H,"color",t[4]),j(G,"class","title svelte-1kxzeau"),N(G,"color",t[4]),K.disabled=!0,j(K,"type","email"),j(K,"class","email svelte-1kxzeau"),K.value=Z=t[3].email?t[3].email:"",j(Y,"class","input svelte-1kxzeau"),j(nt,"href","/phoneverification?backurl=/profile"),j(it,"class","title svelte-1kxzeau"),N(it,"color",t[4]),ct.disabled=!0,j(ct,"type","phone"),j(ct,"class","phone_num svelte-1kxzeau"),ct.value=lt=t[3].phoneNumber?t[3].phoneNumber:"",j(et,"class","input svelte-1kxzeau"),j(B,"class","account_data svelte-1kxzeau"),j(dt,"class","title svelte-1kxzeau"),N(dt,"color",t[4]),j(bt,"class","title svelte-1kxzeau"),N(bt,"color",t[4]),j(Tt,"type","text"),j(Tt,"class","name svelte-1kxzeau"),Tt.value=Ct=t[3].displayName?t[3].displayName:"",j(_t,"class","input svelte-1kxzeau"),j(Rt,"class","title svelte-1kxzeau"),N(Rt,"color",t[4]),j(Lt,"type","date"),j(Lt,"class","birth_date svelte-1kxzeau"),j(It,"class","input svelte-1kxzeau"),j(pt,"class","personal_data svelte-1kxzeau"),j(F,"class","user_data svelte-1kxzeau"),j(Wt,"class","title svelte-1kxzeau"),N(Wt,"color",t[4]),j(Gt,"class","description svelte-1kxzeau"),j(Gt,"name","description"),j(Gt,"maxlength","350"),j(Ht,"class","input svelte-1kxzeau"),j(Nt,"class","u-information-box svelte-1kxzeau"),j(Vt,"class","u-section-title svelte-1kxzeau"),j(Qt,"class","u-information-box svelte-1kxzeau"),j(Ce,"class","save-btn svelte-1kxzeau"),N(Ce,"background",t[4]),j(ze,"class","signout svelte-1kxzeau"),j(k,"class","u-info-area svelte-1kxzeau"),j(e,"class","u-view svelte-1kxzeau")},m(i,x){w(i,e,x),kt(n,e,null),$(e,r),$(e,o),$(o,s),$(s,a),$(s,c),Pe.m(s,null),$(s,l),$(s,u),$(o,p),$(o,d),$(d,f),$(d,h),$(d,v),Me.m(v,null),$(v,g),$(v,y),$(d,_),He.m(d,null),$(e,b),$(e,k),$(k,E),$(E,O),$(O,L),$(O,U),$(O,A),$(k,M),$(k,F),$(F,B),$(B,H),$(H,W),$(B,X),$(B,Y),$(Y,G),$(G,J),$(Y,V),$(Y,K),$(B,tt),$(B,et),$(et,nt),$(et,rt),$(et,it),$(it,st),$(et,at),$(et,ct),$(F,ut),$(F,pt),$(pt,dt),$(dt,gt),$(pt,yt),$(pt,_t),$(_t,bt),$(bt,$t),$(_t,Et),$(_t,Tt),$(pt,Ot),$(pt,It),$(It,Rt),$(Rt,zt),$(It,jt),$(It,Lt),$(k,Dt),$(k,Nt),kt(qt,Nt,null),$(Nt,At),kt(Mt,Nt,null),$(Nt,Bt),$(Nt,Ht),$(Ht,Wt),$(Wt,Xt),$(Ht,Yt),$(Ht,Gt),D(Gt,t[0].description),$(k,Jt),$(k,Vt),$(k,Kt),$(k,Qt),kt(Zt,Qt,null),$(Qt,ne),kt(re,Qt,null),$(Qt,ie),kt(se,Qt,null),$(Qt,ce),kt(le,Qt,null),$(Qt,pe),kt(de,Qt,null),$(Qt,he),kt(me,Qt,null),$(Qt,ge),kt(ye,Qt,null),$(Qt,be),kt($e,Qt,null),$(Qt,xe),kt(ke,Qt,null),$(k,Ee),$(k,Ce),vn[Oe].m(Ce,null),$(k,Re),$(k,ze),je=!0,Le||(De=[I(a,"change",t[7]),I(s,"drop",R(t[5])),I(s,"dragover",z(R(t[15]))),I(f,"change",t[8]),I(y,"drop",R(t[6])),I(y,"dragover",z(R(t[14]))),I(v,"drop",R(t[6])),I(v,"dragover",z(R(t[13]))),I(A,"click",t[10]),m(ee.call(null,nt)),I(Tt,"input",t[18]),I(Gt,"input",t[22]),I(Ce,"click",t[9]),I(ze,"click",t[32])],Le=!0)},p(t,e){qe===(qe=Ne(t))&&Pe?Pe.p(t,e):(Pe.d(1),Pe=qe(t),Pe&&(Pe.c(),Pe.m(s,l))),1&e[0]&&q(s,"filled",t[0].banner),Ae===(Ae=Ue(t))&&Me?Me.p(t,e):(Me.d(1),Me=Ae(t),Me&&(Me.c(),Me.m(v,g))),Be===(Be=Fe(t))&&He?He.p(t,e):(He.d(1),He=Be(t),He&&(He.c(),He.m(d,null))),1&e[0]&&q(d,"filled",t[0].logo),(!je||8&e[0]&&P!==(P="https://unify.tn/"+t[3].claims?.username+"/merch")&&L.value!==P)&&(L.value=P),(!je||16&e[0])&&N(H,"color",t[4]),(!je||16&e[0])&&N(G,"color",t[4]),(!je||8&e[0]&&Z!==(Z=t[3].email?t[3].email:"")&&K.value!==Z)&&(K.value=Z),(!je||16&e[0])&&N(it,"color",t[4]),(!je||8&e[0]&&lt!==(lt=t[3].phoneNumber?t[3].phoneNumber:""))&&(ct.value=lt),(!je||16&e[0])&&N(dt,"color",t[4]),(!je||16&e[0])&&N(bt,"color",t[4]),(!je||8&e[0]&&Ct!==(Ct=t[3].displayName?t[3].displayName:"")&&Tt.value!==Ct)&&(Tt.value=Ct),(!je||16&e[0])&&N(Rt,"color",t[4]);const n={};!Pt&&1&e[0]&&(Pt=!0,n.value=t[0].name,ot((()=>Pt=!1))),!Ut&&1&e[0]&&(Ut=!0,n.text=t[0].name,ot((()=>Ut=!1))),qt.$set(n);const r={};!Ft&&1&e[0]&&(Ft=!0,r.text=t[0].accentColor,ot((()=>Ft=!1))),Mt.$set(r),(!je||16&e[0])&&N(Wt,"color",t[4]),1&e[0]&&D(Gt,t[0].description);const o={};!te&&1&e[0]&&(te=!0,o.text=t[0].youtube,ot((()=>te=!1))),Zt.$set(o);const i={};!oe&&1&e[0]&&(oe=!0,i.text=t[0].facebook,ot((()=>oe=!1))),re.$set(i);const a={};!ae&&1&e[0]&&(ae=!0,a.text=t[0].instagram,ot((()=>ae=!1))),se.$set(a);const c={};!ue&&1&e[0]&&(ue=!0,c.text=t[0].twitch,ot((()=>ue=!1))),le.$set(c);const u={};!fe&&1&e[0]&&(fe=!0,u.text=t[0].nimo,ot((()=>fe=!1))),de.$set(u);const p={};!ve&&1&e[0]&&(ve=!0,p.text=t[0].twitter,ot((()=>ve=!1))),me.$set(p);const f={};!_e&&1&e[0]&&(_e=!0,f.text=t[0].baaz,ot((()=>_e=!1))),ye.$set(f);const h={};!we&&1&e[0]&&(we=!0,h.text=t[0].Tiktok,ot((()=>we=!1))),$e.$set(h);const m={};!Se&&1&e[0]&&(Se=!0,m.text=t[0].pinterest,ot((()=>Se=!1))),ke.$set(m);let y=Oe;Oe=gn(t),Oe!==y&&(ft(),vt(vn[y],1,1,(()=>{vn[y]=null})),ht(),Ie=vn[Oe],Ie||(Ie=vn[Oe]=mn[Oe](t),Ie.c()),mt(Ie,1),Ie.m(Ce,null)),(!je||16&e[0])&&N(Ce,"background",t[4])},i(t){je||(mt(n.$$.fragment,t),mt(qt.$$.fragment,t),mt(Mt.$$.fragment,t),mt(Zt.$$.fragment,t),mt(re.$$.fragment,t),mt(se.$$.fragment,t),mt(le.$$.fragment,t),mt(de.$$.fragment,t),mt(me.$$.fragment,t),mt(ye.$$.fragment,t),mt($e.$$.fragment,t),mt(ke.$$.fragment,t),mt(Ie),je=!0)},o(t){vt(n.$$.fragment,t),vt(qt.$$.fragment,t),vt(Mt.$$.fragment,t),vt(Zt.$$.fragment,t),vt(re.$$.fragment,t),vt(se.$$.fragment,t),vt(le.$$.fragment,t),vt(de.$$.fragment,t),vt(me.$$.fragment,t),vt(ye.$$.fragment,t),vt($e.$$.fragment,t),vt(ke.$$.fragment,t),vt(Ie),je=!1},d(t){t&&x(e),St(n),Pe.d(),Me.d(),He.d(),St(qt),St(Mt),St(Zt),St(re),St(se),St(le),St(de),St(me),St(ye),St($e),St(ke),vn[Oe].d(),Le=!1,i(De)}}}function jr(t,e,n){let r,o;l(t,ge,(t=>n(3,r=t))),l(t,ne,(t=>n(4,o=t)));let i={banner:"",logo:"",...r.docData},s=r.displayName;const a=(t,e)=>new Promise((async(n,r)=>{let o,i="creators/"+e,s=ye.ref().child(i);o="string"==typeof t?s.putString(t,"data_url"):s.put(t);o.on("state_changed",(t=>{Math.round(t.bytesTransferred/t.totalBytes*100)}),(t=>{console.log(t),r(t)}),(async()=>{n(await o.snapshot.ref.getDownloadURL())}))}));let c=!1;return[i,s,c,r,o,t=>{console.log("got banner");let e=t.dataTransfer.files[0];null!=e&&(e.size>1048576?pe.set({accentColor:"error",title:"Image Size",content:"Banner size should not exceed 1 MB"}):n(0,i.banner=e,i))},t=>{let e=t.dataTransfer.files[0];null!=e&&(e.size>524288?pe.set({accentColor:"error",title:"Image Size",content:"Profile picture size should not exceed 0.5 MB"}):n(0,i.logo=e,i))},t=>{let e=t.target.files[0];null!=e&&(e.size>1048576?pe.set({accentColor:"error",title:"Image Size",content:"Banner size should not exceed 1 MB"}):n(0,i.banner=e,i))},t=>{let e=t.target.files[0];null!=e&&(e.size>524288?pe.set({accentColor:"error",title:"Image Size",content:"Profile picture size should not exceed 0.5 MB"}):n(0,i.logo=e,i))},async()=>{if(1==c)return;n(2,c=!0),"string"!=typeof i.logo&&n(0,i.logo=(await a(i.logo,r.claims?.username+"/logo")).split("token=",2)[1],i),"string"!=typeof i.banner&&n(0,i.banner=(await a(i.banner,r.claims?.username+"/banner")).split("token=",2)[1],i);let t=!1;if(s!=r.displayName){t=!0;let e=[],n=r.updateProfile({displayName:s});e.push(n),n=me.doc("/creators/all").set({[r.claims.username]:{persoName:s}},{merge:!0}),e.push(n),await Promise.all(e)}let e=!1;for(let t of Object.keys(r.docData))r.docData[t]!=i[t]&&(e=!0);let l=Object.keys(r.docData),u=Object.keys(i);l.every((t=>u.includes(t)))&&l.length==u.length||(e=!0);for(let t of["youtube","facebook","instagram","twitch","nimo","twitter","baaz","Tiktok","pinterest"])["facebook.com","twitch.tv","youtube.com","instagram.com","twitter.com","tiktok.com","baaz.com","nimo.tv","smart.link","pinterest.com"].some((e=>i[t].includes(e)||0==i[t].length))||(pe.set({accentColor:"alert",title:"Error",content:t+" link is malformed"}),e=!1);1==e&&await me.doc("/creators/"+r.claims?.username).set(i,{merge:!0}),(t||e)&&pe.set({accentColor:"success",title:"Success",content:"Profile updated"}),h(ge,r={...r,docData:{...r.docData,...i}},r),r.docData?.accentColor&&h(ne,o=r.docData.accentColor,o),console.log(r),n(2,c=!1)},async()=>{await navigator.clipboard.writeText("https://unify.tn/"+r.claims?.username+"/merch"),pe.set({accentColor:"success",title:"success",content:"Link copied to clipboard"})},function(e){V(t,e)},function(e){V(t,e)},function(e){V(t,e)},function(e){V(t,e)},function(e){V(t,e)},t=>{n(0,i.name=t.target.innerHTML,i)},t=>{n(0,i.name=t.target.innerHTML,i)},t=>{n(1,s=t.target.value)},function(e){t.$$.not_equal(i.name,e)&&(i.name=e,n(0,i))},function(e){t.$$.not_equal(i.name,e)&&(i.name=e,n(0,i))},function(e){t.$$.not_equal(i.accentColor,e)&&(i.accentColor=e,n(0,i))},function(){i.description=this.value,n(0,i)},function(e){t.$$.not_equal(i.youtube,e)&&(i.youtube=e,n(0,i))},function(e){t.$$.not_equal(i.facebook,e)&&(i.facebook=e,n(0,i))},function(e){t.$$.not_equal(i.instagram,e)&&(i.instagram=e,n(0,i))},function(e){t.$$.not_equal(i.twitch,e)&&(i.twitch=e,n(0,i))},function(e){t.$$.not_equal(i.nimo,e)&&(i.nimo=e,n(0,i))},function(e){t.$$.not_equal(i.twitter,e)&&(i.twitter=e,n(0,i))},function(e){t.$$.not_equal(i.baaz,e)&&(i.baaz=e,n(0,i))},function(e){t.$$.not_equal(i.Tiktok,e)&&(i.Tiktok=e,n(0,i))},function(e){t.$$.not_equal(i.pinterest,e)&&(i.pinterest=e,n(0,i))},()=>{firebase.auth().signOut()}]}class Lr extends Ct{constructor(t){super(),Tt(this,t,jr,zr,a,{},[-1,-1])}}function Dr(e){let n,r,o;return{c(){n=S("div"),n.textContent="sss",r=C(),o=S("canvas"),j(o,"id","canvas"),j(o,"width","400"),j(o,"height","280")},m(t,e){w(t,n,e),w(t,r,e),w(t,o,e)},p:t,i:t,o:t,d(t){t&&x(n),t&&x(r),t&&x(o)}}}function Nr(t){let e={};return X((()=>{e=new fabric.Canvas("canvas"),e.stateful=!0;var t=new fabric.Rect({width:390,height:230,left:5,top:5,selectable:!1,strokeDashArray:[5,2],stroke:"blue",fill:"transparent"}),n=new fabric.Rect({width:250,height:110,left:50,top:50,selectable:!1,strokeDashArray:[2,5],stroke:"black",fill:"transparent"}),r=new fabric.Circle({radius:30,fill:"rgba(255,0,0,0.8)",top:50,left:50,hasControls:!1});e.add(t),e.add(n),e.add(r),e.on("object:moving",(function(t){var e,r,o=((r=[]).push((e=n).aCoords.tl),r.push(e.aCoords.tr),r.push(e.aCoords.br),r.push(e.aCoords.bl),r.push(e.aCoords.tl),r);(function(t,e){for(var n=!1,r=0,o=e.length-1;r<e.length;o=r++){var i=e[r].x,s=e[r].y,a=e[o].x,c=e[o].y;s>t.y!=c>t.y&&t.x<(a-i)*(t.y-s)/(c-s)+i&&(n=!n)}return n})({x:t.target.left,y:t.target.top},o)?(t.target.setCoords(),t.target.saveState()):(t.target.left=t.target._stateProperties.left,t.target.top=t.target._stateProperties.top)}))})),[]}class qr extends Ct{constructor(t){super(),Tt(this,t,Nr,Dr,a,{})}}function Pr(e){let n,r,o;return r=new $e({props:{height:"100px",width:"100px"}}),{c(){n=S("div"),xt(r.$$.fragment),j(n,"class","u-loading svelte-19nlj8z")},m(t,e){w(t,n,e),kt(r,n,null),o=!0},p:t,i(t){o||(mt(r.$$.fragment,t),o=!0)},o(t){vt(r.$$.fragment,t),o=!1},d(t){t&&x(n),St(r)}}}function Ur(t){let e,n,r,o,s,a,c,l,u,p,d,f,h,v,g,y,_,b,k,E,O,z,L,D,N,q,P,U,A,M,F,B,H,W,X,Y,G,J,V,K,Q,Z,tt,et,nt,rt,ot,it,st,at,ct,lt,ut,pt,dt,gt,yt,_t=t[7]&&Ar(t);const bt=[Fr,Mr],$t=[];function wt(t,e){return t[1]?0:1}return ut=wt(t),pt=$t[ut]=bt[ut](t),{c(){e=S("div"),n=S("div"),r=S("div"),o=S("a"),o.innerHTML='<img src="imgs/icons/logo.png" alt="logo" class="svelte-19nlj8z"/>Unify',s=C(),a=S("div"),a.textContent="Dear creator,",c=C(),l=S("div"),l.innerHTML="Are you ready to develop <div>your merchandise platform?</div>  <div>Start NOW.</div>",u=C(),p=S("div"),d=S("div"),d.textContent="Sign up to Unify",f=C(),h=S("div"),h.textContent="sign up using your email",v=C(),g=S("div"),y=T("Aready have an account ? "),_=S("a"),_.textContent="Sign in here",b=C(),k=S("form"),_t&&_t.c(),E=C(),O=S("div"),z=S("img"),D=C(),N=S("input"),q=C(),P=S("div"),U=S("img"),M=C(),F=S("input"),B=C(),H=S("div"),W=S("img"),Y=C(),G=S("input"),J=C(),V=S("div"),K=S("img"),Z=C(),tt=S("input"),et=C(),nt=S("div"),rt=S("img"),it=C(),st=S("input"),at=C(),ct=S("div"),lt=S("button"),pt.c(),j(o,"href","/"),j(o,"class","u_logo svelte-19nlj8z"),j(a,"class","title svelte-19nlj8z"),j(l,"class","desc svelte-19nlj8z"),j(r,"class","left_side svelte-19nlj8z"),j(d,"class","title svelte-19nlj8z"),j(h,"class","orEmailText svelte-19nlj8z"),j(_,"href","/login"),j(_,"class","svelte-19nlj8z"),j(g,"class","have-acc svelte-19nlj8z"),z.src!==(L="/imgs/misc/login_register/name.png")&&j(z,"src","/imgs/misc/login_register/name.png"),j(z,"alt","name"),j(z,"class","svelte-19nlj8z"),N.required=!0,j(N,"type","text"),j(N,"class","name svelte-19nlj8z"),j(N,"placeholder","Full Name"),j(O,"class","input svelte-19nlj8z"),U.src!==(A="/imgs/misc/login_register/envelope.png")&&j(U,"src","/imgs/misc/login_register/envelope.png"),j(U,"alt","email"),j(U,"class","svelte-19nlj8z"),F.required=!0,j(F,"type","email"),j(F,"class","email svelte-19nlj8z"),j(F,"placeholder","Email"),j(P,"class","input svelte-19nlj8z"),W.src!==(X="/imgs/misc/login_register/user.png")&&j(W,"src","/imgs/misc/login_register/user.png"),j(W,"alt","email"),j(W,"class","svelte-19nlj8z"),G.required=!0,j(G,"name","email"),j(G,"type","text"),j(G,"class","username svelte-19nlj8z"),j(G,"placeholder","Username"),j(H,"class","input svelte-19nlj8z"),K.src!==(Q="/imgs/misc/login_register/unlock.png")&&j(K,"src","/imgs/misc/login_register/unlock.png"),j(K,"alt","email"),j(K,"class","svelte-19nlj8z"),j(tt,"name","password"),tt.required=!0,j(tt,"type","password"),j(tt,"class","password svelte-19nlj8z"),j(tt,"placeholder","Password"),j(V,"class","input svelte-19nlj8z"),rt.src!==(ot="/imgs/misc/login_register/unlock.png")&&j(rt,"src","/imgs/misc/login_register/unlock.png"),j(rt,"alt","email"),j(rt,"class","svelte-19nlj8z"),st.required=!0,j(st,"type","password"),j(st,"class","re_password svelte-19nlj8z"),j(st,"placeholder","Confirm password"),j(nt,"class","input svelte-19nlj8z"),j(lt,"type","submit"),j(lt,"class","signup_btn svelte-19nlj8z"),j(ct,"class","signup svelte-19nlj8z"),j(k,"class","inputContainer svelte-19nlj8z"),j(p,"class","right_side svelte-19nlj8z"),j(n,"class","signUp_container svelte-19nlj8z"),j(e,"class","container svelte-19nlj8z")},m(i,x){w(i,e,x),$(e,n),$(n,r),$(r,o),$(r,s),$(r,a),$(r,c),$(r,l),$(n,u),$(n,p),$(p,d),$(p,f),$(p,h),$(p,v),$(p,g),$(g,y),$(g,_),$(p,b),$(p,k),_t&&_t.m(k,null),$(k,E),$(k,O),$(O,z),$(O,D),$(O,N),t[9](N),$(k,q),$(k,P),$(P,U),$(P,M),$(P,F),t[10](F),$(k,B),$(k,H),$(H,W),$(H,Y),$(H,G),t[11](G),$(k,J),$(k,V),$(V,K),$(V,Z),$(V,tt),t[12](tt),$(k,et),$(k,nt),$(nt,rt),$(nt,it),$(nt,st),t[13](st),$(k,at),$(k,ct),$(ct,lt),$t[ut].m(lt,null),dt=!0,gt||(yt=[m(ee.call(null,o)),m(ee.call(null,_)),I(k,"submit",R(t[8]))],gt=!0)},p(t,e){t[7]?_t?_t.p(t,e):(_t=Ar(t),_t.c(),_t.m(k,E)):_t&&(_t.d(1),_t=null);let n=ut;ut=wt(t),ut!==n&&(ft(),vt($t[n],1,1,(()=>{$t[n]=null})),ht(),pt=$t[ut],pt||(pt=$t[ut]=bt[ut](t),pt.c()),mt(pt,1),pt.m(lt,null))},i(t){dt||(mt(pt),dt=!0)},o(t){vt(pt),dt=!1},d(n){n&&x(e),_t&&_t.d(),t[9](null),t[10](null),t[11](null),t[12](null),t[13](null),$t[ut].d(),gt=!1,i(yt)}}}function Ar(t){let e,n;return{c(){e=S("div"),n=T(t[7]),j(e,"class","error-container svelte-19nlj8z")},m(t,r){w(t,e,r),$(e,n)},p(t,e){128&e&&L(n,t[7])},d(t){t&&x(e)}}}function Mr(e){let n;return{c(){n=T("Register")},m(t,e){w(t,n,e)},i:t,o:t,d(t){t&&x(n)}}}function Fr(t){let e,n;return e=new $e({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Br(t){let e,n,r,o;const i=[Ur,Pr],s=[];function a(t,e){return t[0]?0:1}return e=a(t),n=s[e]=i[e](t),{c(){n.c(),r=O()},m(t,n){s[e].m(t,n),w(t,r,n),o=!0},p(t,[o]){let c=e;e=a(t),e===c?s[e].p(t,o):(ft(),vt(s[c],1,1,(()=>{s[c]=null})),ht(),n=s[e],n?n.p(t,o):(n=s[e]=i[e](t),n.c()),mt(n,1),n.m(r.parentNode,r))},i(t){o||(mt(n),o=!0)},o(t){vt(n),o=!1},d(t){s[e].d(t),t&&x(r)}}}function Hr(t,e,n){let r;const o=ge.subscribe((t=>{"init"!=t&&(0!=t&&Nt("/",{replace:!1}),0==t&&n(0,r=!0))}));Y((()=>{o()}));let i=!1,s="",a="",c="",l="",u="",p="";return[r,i,s,a,c,l,u,p,async()=>{if(i)return;if(n(1,i=!0),l.value!=c.value)return n(7,p="Password and Re-Password are different"),void n(1,i=!1);if(null==s.value.match(/^[a-zA-Z0-9]+$/))return n(7,p="Username must only included letters and digits"),void n(1,i=!1);s.value;let t=await(async(t,e)=>await fetch(t,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Access-Control-Origin":"*"},mode:"cors",body:new URLSearchParams(e)}))("https://api.unify.tn/.netlify/functions/express/createCreator",{email:u.value,password:c.value,username:s.value.toLowerCase(),persoName:a.value}),e=await t.json();console.log(e),0==e.success?n(7,p=e.error.message):ve.signInWithCustomToken(e.authToken),n(1,i=!1)},function(t){Q[t?"unshift":"push"]((()=>{a=t,n(3,a)}))},function(t){Q[t?"unshift":"push"]((()=>{u=t,n(6,u)}))},function(t){Q[t?"unshift":"push"]((()=>{s=t,n(2,s)}))},function(t){Q[t?"unshift":"push"]((()=>{c=t,n(4,c)}))},function(t){Q[t?"unshift":"push"]((()=>{l=t,n(5,l)}))}]}class Wr extends Ct{constructor(t){super(),Tt(this,t,Hr,Br,a,{})}}function Xr(e){let n;return{c(){n=S("div"),n.textContent="Success: Phone Updated.",j(n,"class","title svelte-8gv24i")},m(t,e){w(t,n,e)},p:t,i:t,o:t,d(t){t&&x(n)}}}function Yr(t){let e,n,r,o,s,a,c,l,u,p,d,f,h,m,v,g,y,_,b,k;function E(t,e){return t[7]&&t[7].phoneNumber?Jr:Gr}let T=E(t),O=T(t),z=t[3]&&Vr(t),L=t[2]&&Kr(t),D=t[2]&&Qr(t);const N=[no,eo],q=[];function P(t,e){return t[4]?0:1}return g=P(t),y=q[g]=N[g](t),{c(){e=S("div"),O.c(),n=C(),z&&z.c(),r=C(),o=S("div"),s=S("form"),a=S("i"),c=C(),l=S("input"),p=C(),L&&L.c(),d=C(),f=S("div"),D&&D.c(),h=C(),m=S("div"),v=S("button"),y.c(),j(e,"class","title svelte-8gv24i"),j(a,"class","fas fa-phone svelte-8gv24i"),j(l,"type","text"),j(l,"class","verification svelte-8gv24i"),j(l,"placeholder","Phone Number"),l.value=u=t[7]&&t[7].phoneNumber?t[7].phoneNumber:"",j(s,"class","input"),j(o,"class","inputContainer svelte-8gv24i"),j(v,"id","sign-in-button"),j(v,"class","resend_btn svelte-8gv24i"),j(m,"class","resend"),j(f,"class","verification_btns svelte-8gv24i")},m(i,u){w(i,e,u),O.m(e,null),w(i,n,u),z&&z.m(i,u),w(i,r,u),w(i,o,u),$(o,s),$(s,a),$(s,c),$(s,l),t[10](l),$(o,p),L&&L.m(o,null),w(i,d,u),w(i,f,u),D&&D.m(f,null),$(f,h),$(f,m),$(m,v),q[g].m(v,null),_=!0,b||(k=[I(s,"submit",R(t[8])),I(v,"click",t[8])],b=!0)},p(t,n){T!==(T=E(t))&&(O.d(1),O=T(t),O&&(O.c(),O.m(e,null))),t[3]?z?z.p(t,n):(z=Vr(t),z.c(),z.m(r.parentNode,r)):z&&(z.d(1),z=null),(!_||128&n&&u!==(u=t[7]&&t[7].phoneNumber?t[7].phoneNumber:"")&&l.value!==u)&&(l.value=u),t[2]?L?L.p(t,n):(L=Kr(t),L.c(),L.m(o,null)):L&&(L.d(1),L=null),t[2]?D?(D.p(t,n),4&n&&mt(D,1)):(D=Qr(t),D.c(),mt(D,1),D.m(f,h)):D&&(ft(),vt(D,1,1,(()=>{D=null})),ht());let i=g;g=P(t),g!==i&&(ft(),vt(q[i],1,1,(()=>{q[i]=null})),ht(),y=q[g],y||(y=q[g]=N[g](t),y.c()),mt(y,1),y.m(v,null))},i(t){_||(mt(D),mt(y),_=!0)},o(t){vt(D),vt(y),_=!1},d(s){s&&x(e),O.d(),s&&x(n),z&&z.d(s),s&&x(r),s&&x(o),t[10](null),L&&L.d(),s&&x(d),s&&x(f),D&&D.d(),q[g].d(),b=!1,i(k)}}}function Gr(t){let e;return{c(){e=T("Verify your phone number")},m(t,n){w(t,e,n)},d(t){t&&x(e)}}}function Jr(t){let e;return{c(){e=T("Update your phone number")},m(t,n){w(t,e,n)},d(t){t&&x(e)}}}function Vr(t){let e,n;return{c(){e=S("div"),n=T(t[3]),j(e,"class","error-container svelte-8gv24i")},m(t,r){w(t,e,r),$(e,n)},p(t,e){8&e&&L(n,t[3])},d(t){t&&x(e)}}}function Kr(e){let n,r,o,i,s,a;return{c(){n=S("form"),r=S("i"),o=C(),i=S("input"),j(r,"class","fas fa-key svelte-8gv24i"),j(i,"type","text"),j(i,"class","verification svelte-8gv24i"),j(i,"placeholder","Verification Code"),j(n,"class","input")},m(t,c){w(t,n,c),$(n,r),$(n,o),$(n,i),e[11](i),s||(a=I(n,"submit",R(e[9])),s=!0)},p:t,d(t){t&&x(n),e[11](null),s=!1,a()}}}function Qr(t){let e,n,r,o,i,s,a;const c=[to,Zr],l=[];function u(t,e){return t[6]?0:1}return r=u(t),o=l[r]=c[r](t),{c(){e=S("div"),n=S("button"),o.c(),j(n,"class","send_btn svelte-8gv24i"),j(e,"class","send")},m(o,c){w(o,e,c),$(e,n),l[r].m(n,null),i=!0,s||(a=I(n,"click",t[9]),s=!0)},p(t,e){let i=r;r=u(t),r!==i&&(ft(),vt(l[i],1,1,(()=>{l[i]=null})),ht(),o=l[r],o||(o=l[r]=c[r](t),o.c()),mt(o,1),o.m(n,null))},i(t){i||(mt(o),i=!0)},o(t){vt(o),i=!1},d(t){t&&x(e),l[r].d(),s=!1,a()}}}function Zr(e){let n;return{c(){n=T("Verify")},m(t,e){w(t,n,e)},i:t,o:t,d(t){t&&x(n)}}}function to(t){let e,n;return e=new Ie({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function eo(e){let n;return{c(){n=T("Send")},m(t,e){w(t,n,e)},i:t,o:t,d(t){t&&x(n)}}}function no(t){let e,n;return e=new Ie({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function ro(t){let e,n,r,o,i,s,a,c,l,u,p,d;const f=[Yr,Xr],h=[];function v(t,e){return 0==t[5]?0:1}return o=v(t),i=h[o]=f[o](t),{c(){e=S("div"),n=S("a"),n.innerHTML='<img src="/imgs/logo.png" alt="logo" class="svelte-8gv24i"/>Unify',r=C(),i.c(),s=C(),a=S("div"),c=C(),l=S("div"),j(n,"href","/"),j(n,"class","u_logo svelte-8gv24i"),j(a,"class","circle_top svelte-8gv24i"),j(l,"class","circle_bottom svelte-8gv24i"),j(e,"class","left_side svelte-8gv24i")},m(t,i){w(t,e,i),$(e,n),$(e,r),h[o].m(e,null),$(e,s),$(e,a),$(e,c),$(e,l),u=!0,p||(d=m(ee.call(null,n)),p=!0)},p(t,[n]){let r=o;o=v(t),o===r?h[o].p(t,n):(ft(),vt(h[r],1,1,(()=>{h[r]=null})),ht(),i=h[o],i?i.p(t,n):(i=h[o]=f[o](t),i.c()),mt(i,1),i.m(e,s))},i(t){u||(mt(i),u=!0)},o(t){vt(i),u=!1},d(t){t&&x(e),h[o].d(),p=!1,d()}}}function oo(t,e,n){let r,o,i;l(t,ge,(t=>n(7,r=t))),ge.subscribe((t=>{0==t?console.log("initng"):null==t&&(console.log("no user"),Nt("/signup"))}));let s,a=!1,c=!1;X((()=>{window.recaptchaVerifier=new firebase.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:t=>{console.log("solved")}}),console.log(location.search);let t=new URLSearchParams(location.search);console.log(t.get("backurl")),document.title="Unify Creator - Phone Verification"}));let u=!1,p=!1;return[o,i,a,s,c,u,p,r,async()=>{if(c)return;n(3,s=void 0),n(4,c=!0);let t=o.value;if(console.log(t),t.includes("+")||(t="+216"+t),r&&r.phoneNumber&&t==r.phoneNumber)return n(3,s="To update your phone number you need to input an new one"),void n(4,c=!1);console.log(t),await ve.signInWithPhoneNumber(t,window.recaptchaVerifier).then((t=>{console.log(t),window.confirmationResult=t,console.log(window.confirmationResult),n(2,a=!0),n(4,c=!1)})).catch((t=>{window.recaptchaVerifier.render().then((function(t){grecaptcha.reset(t)})),n(3,s="An error occured while sending SMS please try again"),n(4,c=!1)})),n(4,c=!1)},async()=>{if(!p){if(n(6,p=!0),n(5,u=!1),n(3,s=""),console.log("first"),null==i.value||null==i.value||""==i.value)return n(3,s="Please enter the code you received on your phone"),n(5,u=!1),void n(6,p=!1);var t=firebase.auth.PhoneAuthProvider.credential(window.confirmationResult.verificationId,i.value);if(console.log("second"),console.log(t),r){console.log("4");try{await r.updatePhoneNumber(t),console.log(r),await me.doc("/creators/all").set({[r.claims.username]:{phoneNumber:r.phoneNumber}},{merge:!0}),n(5,u=!0);let e=new URLSearchParams(location.search);null!=e.get("backurl")&&Nt(e.get("backurl"))}catch(t){console.log(t),"auth/invalid-verification-code"==t.code?(n(3,s="The code is incorrect, please verify it."),n(5,u=!1)):"auth/credential-already-in-use"==t.code?(console.log("inside"),n(3,s="Phone number already in use by another account"),n(5,u=!1)):"auth/missing-verification-code"==t.code?(n(3,s="Unexpected error occured no code was written"),n(5,u=!1)):(n(3,s="Unexpected error occured, please trying"),n(5,u=!1))}}n(6,p=!1)}},function(t){Q[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(t){Q[t?"unshift":"push"]((()=>{i=t,n(1,i)}))}]}class io extends Ct{constructor(t){super(),Tt(this,t,oo,ro,a,{})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var so=function(t,e){return(so=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function ao(t,e){function n(){this.constructor=t}so(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var co,lo,uo,po,fo=function(){return(fo=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function ho(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function mo(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vo(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function go(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(vo(arguments[e]));return t}function yo(t){switch(Object.prototype.toString.call(t)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return To(t,Error)}}function _o(t){return"[object ErrorEvent]"===Object.prototype.toString.call(t)}function bo(t){return"[object DOMError]"===Object.prototype.toString.call(t)}function $o(t){return"[object String]"===Object.prototype.toString.call(t)}function wo(t){return null===t||"object"!=typeof t&&"function"!=typeof t}function xo(t){return"[object Object]"===Object.prototype.toString.call(t)}function ko(t){return"undefined"!=typeof Event&&To(t,Event)}function So(t){return"undefined"!=typeof Element&&To(t,Element)}function Eo(t){return Boolean(t&&t.then&&"function"==typeof t.then)}function To(t,e){try{return t instanceof e}catch(t){return!1}}function Co(t){try{for(var e=t,n=[],r=0,o=0,i=" > ".length,s=void 0;e&&r++<5&&!("html"===(s=Oo(e))||r>1&&o+n.length*i+s.length>=80);)n.push(s),o+=s.length,e=e.parentNode;return n.reverse().join(" > ")}catch(t){return"<unknown>"}}function Oo(t){var e,n,r,o,i,s=t,a=[];if(!s||!s.tagName)return"";if(a.push(s.tagName.toLowerCase()),s.id&&a.push("#"+s.id),(e=s.className)&&$o(e))for(n=e.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=s.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}!function(t){t.Ok="ok",t.Exited="exited",t.Crashed="crashed",t.Abnormal="abnormal"}(co||(co={})),function(t){t.Fatal="fatal",t.Error="error",t.Warning="warning",t.Log="log",t.Info="info",t.Debug="debug",t.Critical="critical"}(lo||(lo={})),function(t){t.fromString=function(e){switch(e){case"debug":return t.Debug;case"info":return t.Info;case"warn":case"warning":return t.Warning;case"error":return t.Error;case"fatal":return t.Fatal;case"critical":return t.Critical;case"log":default:return t.Log}}}(lo||(lo={})),function(t){t.Unknown="unknown",t.Skipped="skipped",t.Success="success",t.RateLimit="rate_limit",t.Invalid="invalid",t.Failed="failed"}(uo||(uo={})),function(t){t.fromHttpCode=function(e){return e>=200&&e<300?t.Success:429===e?t.RateLimit:e>=400&&e<500?t.Invalid:e>=500?t.Failed:t.Unknown}}(uo||(uo={})),function(t){t.Explicit="explicitly_set",t.Sampler="client_sampler",t.Rate="client_rate",t.Inheritance="inheritance"}(po||(po={}));var Io=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){return t.__proto__=e,t}:function(t,e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n]);return t});var Ro=function(t){function e(e){var n=this.constructor,r=t.call(this,e)||this;return r.message=e,r.name=n.prototype.constructor.name,Io(r,n.prototype),r}return ao(e,t),e}(Error),zo=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,jo="Invalid Dsn",Lo=function(){function t(t){"string"==typeof t?this._fromString(t):this._fromComponents(t),this._validate()}return t.prototype.toString=function(t){void 0===t&&(t=!1);var e=this,n=e.host,r=e.path,o=e.pass,i=e.port,s=e.projectId;return e.protocol+"://"+e.publicKey+(t&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+s},t.prototype._fromString=function(t){var e=zo.exec(t);if(!e)throw new Ro(jo);var n=vo(e.slice(1),6),r=n[0],o=n[1],i=n[2],s=void 0===i?"":i,a=n[3],c=n[4],l=void 0===c?"":c,u="",p=n[5],d=p.split("/");if(d.length>1&&(u=d.slice(0,-1).join("/"),p=d.pop()),p){var f=p.match(/^\d+/);f&&(p=f[0])}this._fromComponents({host:a,pass:s,path:u,projectId:p,port:l,protocol:r,publicKey:o})},t.prototype._fromComponents=function(t){"user"in t&&!("publicKey"in t)&&(t.publicKey=t.user),this.user=t.publicKey||"",this.protocol=t.protocol,this.publicKey=t.publicKey||"",this.pass=t.pass||"",this.host=t.host,this.port=t.port||"",this.path=t.path||"",this.projectId=t.projectId},t.prototype._validate=function(){var t=this;if(["protocol","publicKey","host","projectId"].forEach((function(e){if(!t[e])throw new Ro("Invalid Dsn: "+e+" missing")})),!this.projectId.match(/^\d+$/))throw new Ro("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new Ro("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new Ro("Invalid Dsn: Invalid port "+this.port)},t}();function Do(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function No(t,e){return t.require(e)}function qo(t,e){return void 0===e&&(e=0),"string"!=typeof t||0===e||t.length<=e?t:t.substr(0,e)+"..."}function Po(t,e){if(!Array.isArray(t))return"";for(var n=[],r=0;r<t.length;r++){var o=t[r];try{n.push(String(o))}catch(t){n.push("[value cannot be serialized]")}}return n.join(e)}function Uo(t,e){return!!$o(t)&&(n=e,"[object RegExp]"===Object.prototype.toString.call(n)?e.test(t):"string"==typeof e&&-1!==t.indexOf(e));var n}var Ao={};function Mo(){return Do()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:Ao}function Fo(){var t=Mo(),e=t.crypto||t.msCrypto;if(void 0!==e&&e.getRandomValues){var n=new Uint16Array(8);e.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(t){for(var e=t.toString(16);e.length<4;)e="0"+e;return e};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}function Bo(t){if(!t)return{};var e=t.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};var n=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+n+r}}function Ho(t){if(t.message)return t.message;if(t.exception&&t.exception.values&&t.exception.values[0]){var e=t.exception.values[0];return e.type&&e.value?e.type+": "+e.value:e.type||e.value||t.event_id||"<unknown>"}return t.event_id||"<unknown>"}function Wo(t){var e=Mo();if(!("console"in e))return t();var n=e.console,r={};["debug","info","warn","error","log","assert"].forEach((function(t){t in e.console&&n[t].__sentry_original__&&(r[t]=n[t],n[t]=n[t].__sentry_original__)}));var o=t();return Object.keys(r).forEach((function(t){n[t]=r[t]})),o}function Xo(t,e,n){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].value=t.exception.values[0].value||e||"",t.exception.values[0].type=t.exception.values[0].type||n||"Error"}function Yo(t,e){void 0===e&&(e={});try{t.exception.values[0].mechanism=t.exception.values[0].mechanism||{},Object.keys(e).forEach((function(n){t.exception.values[0].mechanism[n]=e[n]}))}catch(t){}}var Go=Mo(),Jo="Sentry Logger ",Vo=function(){function t(){this._enabled=!1}return t.prototype.disable=function(){this._enabled=!1},t.prototype.enable=function(){this._enabled=!0},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Wo((function(){Go.console.log(Jo+"[Log]: "+t.join(" "))}))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Wo((function(){Go.console.warn(Jo+"[Warn]: "+t.join(" "))}))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._enabled&&Wo((function(){Go.console.error(Jo+"[Error]: "+t.join(" "))}))},t}();Go.__SENTRY__=Go.__SENTRY__||{};var Ko=Go.__SENTRY__.logger||(Go.__SENTRY__.logger=new Vo),Qo=function(){function t(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return t.prototype.memoize=function(t){if(this._hasWeakSet)return!!this._inner.has(t)||(this._inner.add(t),!1);for(var e=0;e<this._inner.length;e++){if(this._inner[e]===t)return!0}return this._inner.push(t),!1},t.prototype.unmemoize=function(t){if(this._hasWeakSet)this._inner.delete(t);else for(var e=0;e<this._inner.length;e++)if(this._inner[e]===t){this._inner.splice(e,1);break}},t}(),Zo="<anonymous>";function ti(t){try{return t&&"function"==typeof t&&t.name||Zo}catch(t){return Zo}}function ei(t,e,n){if(e in t){var r=t[e],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(t){}t[e]=o}}function ni(t){if(yo(t)){var e=t,n={message:e.message,name:e.name,stack:e.stack};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}if(ko(t)){var o=t,i={};i.type=o.type;try{i.target=So(o.target)?Co(o.target):Object.prototype.toString.call(o.target)}catch(t){i.target="<unknown>"}try{i.currentTarget=So(o.currentTarget)?Co(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(t){i.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&To(t,CustomEvent)&&(i.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o);return i}return t}function ri(t){return function(t){return~-encodeURI(t).split(/%..|./).length}(JSON.stringify(t))}function oi(t,e,n){void 0===e&&(e=3),void 0===n&&(n=102400);var r=ai(t,e);return ri(r)>n?oi(t,e-1,n):r}function ii(t,e){return"domain"===e&&t&&"object"==typeof t&&t._events?"[Domain]":"domainEmitter"===e?"[DomainEmitter]":"undefined"!=typeof global&&t===global?"[Global]":"undefined"!=typeof window&&t===window?"[Window]":"undefined"!=typeof document&&t===document?"[Document]":xo(n=t)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n?"[SyntheticEvent]":"number"==typeof t&&t!=t?"[NaN]":void 0===t?"[undefined]":"function"==typeof t?"[Function: "+ti(t)+"]":"symbol"==typeof t?"["+String(t)+"]":"bigint"==typeof t?"[BigInt: "+String(t)+"]":t;var n}function si(t,e,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new Qo),0===n)return function(t){var e=Object.prototype.toString.call(t);if("string"==typeof t)return t;if("[object Object]"===e)return"[Object]";if("[object Array]"===e)return"[Array]";var n=ii(t);return wo(n)?n:e}(e);if(null!=e&&"function"==typeof e.toJSON)return e.toJSON();var o=ii(e,t);if(wo(o))return o;var i=ni(e),s=Array.isArray(e)?[]:{};if(r.memoize(e))return"[Circular ~]";for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=si(a,i[a],n-1,r));return r.unmemoize(e),s}function ai(t,e){try{return JSON.parse(JSON.stringify(t,(function(t,n){return si(t,n,e)})))}catch(t){return"**non-serializable**"}}function ci(t,e){void 0===e&&(e=40);var n=Object.keys(ni(t));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=e)return qo(n[0],e);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>e))return r===n.length?o:qo(o,e)}return""}function li(t){var e,n;if(xo(t)){var r=t,o={};try{for(var i=mo(Object.keys(r)),s=i.next();!s.done;s=i.next()){var a=s.value;void 0!==r[a]&&(o[a]=li(r[a]))}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return o}return Array.isArray(t)?t.map(li):t}function ui(){if(!("fetch"in Mo()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(t){return!1}}function pi(t){return t&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(t.toString())}function di(){if(!ui())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(t){return!1}}var fi,hi=Mo(),mi={},vi={};function gi(t){if(!vi[t])switch(vi[t]=!0,t){case"console":!function(){if(!("console"in hi))return;["debug","info","warn","error","log","assert"].forEach((function(t){t in hi.console&&ei(hi.console,t,(function(e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];_i("console",{args:n,level:t}),e&&Function.prototype.apply.call(e,hi.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in hi))return;var t=_i.bind(null,"dom"),e=ki(t,!0);hi.document.addEventListener("click",e,!1),hi.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach((function(e){var n=hi[e]&&hi[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ei(n,"addEventListener",(function(e){return function(n,r,o){if("click"===n||"keypress"==n)try{var i=this,s=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{},a=s[n]=s[n]||{refCount:0};if(!a.handler){var c=ki(t);a.handler=c,e.call(this,n,c,o)}a.refCount+=1}catch(t){}return e.call(this,n,r,o)}})),ei(n,"removeEventListener",(function(t){return function(e,n,r){if("click"===e||"keypress"==e)try{var o=this,i=o.__sentry_instrumentation_handlers__||{},s=i[e];s&&(s.refCount-=1,s.refCount<=0&&(t.call(this,e,s.handler,r),s.handler=void 0,delete i[e]),0===Object.keys(i).length&&delete o.__sentry_instrumentation_handlers__)}catch(t){}return t.call(this,e,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in hi))return;var t=[],e=[],n=XMLHttpRequest.prototype;ei(n,"open",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=this,s=r[1];i.__sentry_xhr__={method:$o(r[0])?r[0].toUpperCase():r[0],url:r[1]},$o(s)&&"POST"===i.__sentry_xhr__.method&&s.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var a=function(){if(4===i.readyState){try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(t){}try{var n=t.indexOf(i);if(-1!==n){t.splice(n);var o=e.splice(n)[0];i.__sentry_xhr__&&void 0!==o[0]&&(i.__sentry_xhr__.body=o[0])}}catch(t){}_i("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?ei(i,"onreadystatechange",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return a(),t.apply(i,e)}})):i.addEventListener("readystatechange",a),n.apply(i,r)}})),ei(n,"send",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return t.push(this),e.push(r),_i("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!function(){if(!ui())return!1;var t=Mo();if(pi(t.fetch))return!0;var e=!1,n=t.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(e=pi(r.contentWindow.fetch)),n.head.removeChild(r)}catch(t){Ko.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return e}())return;ei(hi,"fetch",(function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r={args:e,fetchData:{method:bi(e),url:$i(e)},startTimestamp:Date.now()};return _i("fetch",fo({},r)),t.apply(hi,e).then((function(t){return _i("fetch",fo(fo({},r),{endTimestamp:Date.now(),response:t})),t}),(function(t){throw _i("fetch",fo(fo({},r),{endTimestamp:Date.now(),error:t})),t}))}}))}();break;case"history":!function(){if(!function(){var t=Mo(),e=t.chrome,n=e&&e.app&&e.app.runtime,r="history"in t&&!!t.history.pushState&&!!t.history.replaceState;return!n&&r}())return;var t=hi.onpopstate;function e(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e.length>2?e[2]:void 0;if(r){var o=fi,i=String(r);fi=i,_i("history",{from:o,to:i})}return t.apply(this,e)}}hi.onpopstate=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=hi.location.href,o=fi;if(fi=r,_i("history",{from:o,to:r}),t)return t.apply(this,e)},ei(hi.history,"pushState",e),ei(hi.history,"replaceState",e)}();break;case"error":Si=hi.onerror,hi.onerror=function(t,e,n,r,o){return _i("error",{column:r,error:o,line:n,msg:t,url:e}),!!Si&&Si.apply(this,arguments)};break;case"unhandledrejection":Ti=hi.onunhandledrejection,hi.onunhandledrejection=function(t){return _i("unhandledrejection",t),!Ti||Ti.apply(this,arguments)};break;default:Ko.warn("unknown instrumentation type:",t)}}function yi(t){t&&"string"==typeof t.type&&"function"==typeof t.callback&&(mi[t.type]=mi[t.type]||[],mi[t.type].push(t.callback),gi(t.type))}function _i(t,e){var n,r;if(t&&mi[t])try{for(var o=mo(mi[t]||[]),i=o.next();!i.done;i=o.next()){var s=i.value;try{s(e)}catch(e){Ko.error("Error while triggering instrumentation handler.\nType: "+t+"\nName: "+ti(s)+"\nError: "+e)}}}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function bi(t){return void 0===t&&(t=[]),"Request"in hi&&To(t[0],Request)&&t[0].method?String(t[0].method).toUpperCase():t[1]&&t[1].method?String(t[1].method).toUpperCase():"GET"}function $i(t){return void 0===t&&(t=[]),"string"==typeof t[0]?t[0]:"Request"in hi&&To(t[0],Request)?t[0].url:String(t[0])}var wi,xi;function ki(t,e){return void 0===e&&(e=!1),function(n){if(n&&xi!==n&&!function(t){if("keypress"!==t.type)return!1;try{var e=t.target;if(!e||!e.tagName)return!0;if("INPUT"===e.tagName||"TEXTAREA"===e.tagName||e.isContentEditable)return!1}catch(t){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===wi||function(t,e){if(!t)return!0;if(t.type!==e.type)return!0;try{if(t.target!==e.target)return!0}catch(t){}return!1}(xi,n))&&(t({event:n,name:r,global:e}),xi=n),clearTimeout(wi),wi=hi.setTimeout((function(){wi=void 0}),1e3)}}}var Si=null;var Ei,Ti=null;!function(t){t.PENDING="PENDING",t.RESOLVED="RESOLVED",t.REJECTED="REJECTED"}(Ei||(Ei={}));var Ci=function(){function t(t){var e=this;this._state=Ei.PENDING,this._handlers=[],this._resolve=function(t){e._setResult(Ei.RESOLVED,t)},this._reject=function(t){e._setResult(Ei.REJECTED,t)},this._setResult=function(t,n){e._state===Ei.PENDING&&(Eo(n)?n.then(e._resolve,e._reject):(e._state=t,e._value=n,e._executeHandlers()))},this._attachHandler=function(t){e._handlers=e._handlers.concat(t),e._executeHandlers()},this._executeHandlers=function(){if(e._state!==Ei.PENDING){var t=e._handlers.slice();e._handlers=[],t.forEach((function(t){t.done||(e._state===Ei.RESOLVED&&t.onfulfilled&&t.onfulfilled(e._value),e._state===Ei.REJECTED&&t.onrejected&&t.onrejected(e._value),t.done=!0)}))}};try{t(this._resolve,this._reject)}catch(t){this._reject(t)}}return t.resolve=function(e){return new t((function(t){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.all=function(e){return new t((function(n,r){if(Array.isArray(e))if(0!==e.length){var o=e.length,i=[];e.forEach((function(e,s){t.resolve(e).then((function(t){i[s]=t,0===(o-=1)&&n(i)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},t.prototype.then=function(e,n){var r=this;return new t((function(t,o){r._attachHandler({done:!1,onfulfilled:function(n){if(e)try{return void t(e(n))}catch(t){return void o(t)}else t(n)},onrejected:function(e){if(n)try{return void t(n(e))}catch(t){return void o(t)}else o(e)}})}))},t.prototype.catch=function(t){return this.then((function(t){return t}),t)},t.prototype.finally=function(e){var n=this;return new t((function(t,r){var o,i;return n.then((function(t){i=!1,o=t,e&&e()}),(function(t){i=!0,o=t,e&&e()})).then((function(){i?r(o):t(o)}))}))},t.prototype.toString=function(){return"[object SyncPromise]"},t}(),Oi=function(){function t(t){this._limit=t,this._buffer=[]}return t.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},t.prototype.add=function(t){var e=this;return this.isReady()?(-1===this._buffer.indexOf(t)&&this._buffer.push(t),t.then((function(){return e.remove(t)})).then(null,(function(){return e.remove(t).then(null,(function(){}))})),t):Ci.reject(new Ro("Not adding Promise due to buffer limit reached."))},t.prototype.remove=function(t){return this._buffer.splice(this._buffer.indexOf(t),1)[0]},t.prototype.length=function(){return this._buffer.length},t.prototype.drain=function(t){var e=this;return new Ci((function(n){var r=setTimeout((function(){t&&t>0&&n(!1)}),t);Ci.all(e._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},t}(),Ii={nowSeconds:function(){return Date.now()/1e3}};var Ri=Do()?function(){try{return No(module,"perf_hooks").performance}catch(t){return}}():function(){var t=Mo().performance;if(t&&t.now)return{now:function(){return t.now()},timeOrigin:Date.now()-t.now()}}(),zi=void 0===Ri?Ii:{nowSeconds:function(){return(Ri.timeOrigin+Ri.now())/1e3}},ji=Ii.nowSeconds.bind(Ii),Li=zi.nowSeconds.bind(zi),Di=function(){var t=Mo().performance;if(t)return t.timeOrigin?t.timeOrigin:t.timing&&t.timing.navigationStart||Date.now()}(),Ni=function(){function t(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return t.clone=function(e){var n=new t;return e&&(n._breadcrumbs=go(e._breadcrumbs),n._tags=fo({},e._tags),n._extra=fo({},e._extra),n._contexts=fo({},e._contexts),n._user=e._user,n._level=e._level,n._span=e._span,n._session=e._session,n._transactionName=e._transactionName,n._fingerprint=e._fingerprint,n._eventProcessors=go(e._eventProcessors)),n},t.prototype.addScopeListener=function(t){this._scopeListeners.push(t)},t.prototype.addEventProcessor=function(t){return this._eventProcessors.push(t),this},t.prototype.setUser=function(t){return this._user=t||{},this._session&&this._session.update({user:t}),this._notifyScopeListeners(),this},t.prototype.getUser=function(){return this._user},t.prototype.setTags=function(t){return this._tags=fo(fo({},this._tags),t),this._notifyScopeListeners(),this},t.prototype.setTag=function(t,e){var n;return this._tags=fo(fo({},this._tags),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setExtras=function(t){return this._extra=fo(fo({},this._extra),t),this._notifyScopeListeners(),this},t.prototype.setExtra=function(t,e){var n;return this._extra=fo(fo({},this._extra),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setFingerprint=function(t){return this._fingerprint=t,this._notifyScopeListeners(),this},t.prototype.setLevel=function(t){return this._level=t,this._notifyScopeListeners(),this},t.prototype.setTransactionName=function(t){return this._transactionName=t,this._notifyScopeListeners(),this},t.prototype.setTransaction=function(t){return this.setTransactionName(t)},t.prototype.setContext=function(t,e){var n;return null===e?delete this._contexts[t]:this._contexts=fo(fo({},this._contexts),((n={})[t]=e,n)),this._notifyScopeListeners(),this},t.prototype.setSpan=function(t){return this._span=t,this._notifyScopeListeners(),this},t.prototype.getSpan=function(){return this._span},t.prototype.getTransaction=function(){var t,e,n,r,o=this.getSpan();return(null===(t=o)||void 0===t?void 0:t.transaction)?null===(e=o)||void 0===e?void 0:e.transaction:(null===(r=null===(n=o)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?o.spanRecorder.spans[0]:void 0},t.prototype.setSession=function(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this},t.prototype.getSession=function(){return this._session},t.prototype.update=function(e){if(!e)return this;if("function"==typeof e){var n=e(this);return n instanceof t?n:this}return e instanceof t?(this._tags=fo(fo({},this._tags),e._tags),this._extra=fo(fo({},this._extra),e._extra),this._contexts=fo(fo({},this._contexts),e._contexts),e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint)):xo(e)&&(e=e,this._tags=fo(fo({},this._tags),e.tags),this._extra=fo(fo({},this._extra),e.extra),this._contexts=fo(fo({},this._contexts),e.contexts),e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint)),this},t.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},t.prototype.addBreadcrumb=function(t,e){var n=fo({timestamp:ji()},t);return this._breadcrumbs=void 0!==e&&e>=0?go(this._breadcrumbs,[n]).slice(-e):go(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},t.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},t.prototype.applyToEvent=function(t,e){var n;if(this._extra&&Object.keys(this._extra).length&&(t.extra=fo(fo({},this._extra),t.extra)),this._tags&&Object.keys(this._tags).length&&(t.tags=fo(fo({},this._tags),t.tags)),this._user&&Object.keys(this._user).length&&(t.user=fo(fo({},this._user),t.user)),this._contexts&&Object.keys(this._contexts).length&&(t.contexts=fo(fo({},this._contexts),t.contexts)),this._level&&(t.level=this._level),this._transactionName&&(t.transaction=this._transactionName),this._span){t.contexts=fo({trace:this._span.getTraceContext()},t.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(t.tags=fo({transaction:r},t.tags))}return this._applyFingerprint(t),t.breadcrumbs=go(t.breadcrumbs||[],this._breadcrumbs),t.breadcrumbs=t.breadcrumbs.length>0?t.breadcrumbs:void 0,this._notifyEventProcessors(go(qi(),this._eventProcessors),t,e)},t.prototype._notifyEventProcessors=function(t,e,n,r){var o=this;return void 0===r&&(r=0),new Ci((function(i,s){var a=t[r];if(null===e||"function"!=typeof a)i(e);else{var c=a(fo({},e),n);Eo(c)?c.then((function(e){return o._notifyEventProcessors(t,e,n,r+1).then(i)})).then(null,s):o._notifyEventProcessors(t,c,n,r+1).then(i).then(null,s)}}))},t.prototype._notifyScopeListeners=function(){var t=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(e){e(t)})),this._notifyingListeners=!1)},t.prototype._applyFingerprint=function(t){t.fingerprint=t.fingerprint?Array.isArray(t.fingerprint)?t.fingerprint:[t.fingerprint]:[],this._fingerprint&&(t.fingerprint=t.fingerprint.concat(this._fingerprint)),t.fingerprint&&!t.fingerprint.length&&delete t.fingerprint},t}();function qi(){var t=Mo();return t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.globalEventProcessors=t.__SENTRY__.globalEventProcessors||[],t.__SENTRY__.globalEventProcessors}function Pi(t){qi().push(t)}var Ui=function(){function t(t){this.errors=0,this.sid=Fo(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=co.Ok,this.init=!0,t&&this.update(t)}return t.prototype.update=function(t){void 0===t&&(t={}),t.user&&(t.user.ip_address&&(this.ipAddress=t.user.ip_address),t.did||(this.did=t.user.id||t.user.email||t.user.username)),this.timestamp=t.timestamp||Date.now(),t.sid&&(this.sid=32===t.sid.length?t.sid:Fo()),void 0!==t.init&&(this.init=t.init),t.did&&(this.did=""+t.did),"number"==typeof t.started&&(this.started=t.started),"number"==typeof t.duration?this.duration=t.duration:this.duration=this.timestamp-this.started,t.release&&(this.release=t.release),t.environment&&(this.environment=t.environment),t.ipAddress&&(this.ipAddress=t.ipAddress),t.userAgent&&(this.userAgent=t.userAgent),"number"==typeof t.errors&&(this.errors=t.errors),t.status&&(this.status=t.status)},t.prototype.close=function(t){t?this.update({status:t}):this.status===co.Ok?this.update({status:co.Exited}):this.update()},t.prototype.toJSON=function(){return li({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:li({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},t}(),Ai=function(){function t(t,e,n){void 0===e&&(e=new Ni),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=e,this.bindClient(t)}return t.prototype.isOlderThan=function(t){return this._version<t},t.prototype.bindClient=function(t){this.getStackTop().client=t,t&&t.setupIntegrations&&t.setupIntegrations()},t.prototype.pushScope=function(){var t=Ni.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:t}),t},t.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},t.prototype.withScope=function(t){var e=this.pushScope();try{t(e)}finally{this.popScope()}},t.prototype.getClient=function(){return this.getStackTop().client},t.prototype.getScope=function(){return this.getStackTop().scope},t.prototype.getStack=function(){return this._stack},t.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},t.prototype.captureException=function(t,e){var n=this._lastEventId=Fo(),r=e;if(!e){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(t){o=t}r={originalException:t,syntheticException:o}}return this._invokeClient("captureException",t,fo(fo({},r),{event_id:n})),n},t.prototype.captureMessage=function(t,e,n){var r=this._lastEventId=Fo(),o=n;if(!n){var i=void 0;try{throw new Error(t)}catch(t){i=t}o={originalException:t,syntheticException:i}}return this._invokeClient("captureMessage",t,e,fo(fo({},o),{event_id:r})),r},t.prototype.captureEvent=function(t,e){var n=this._lastEventId=Fo();return this._invokeClient("captureEvent",t,fo(fo({},e),{event_id:n})),n},t.prototype.lastEventId=function(){return this._lastEventId},t.prototype.addBreadcrumb=function(t,e){var n=this.getStackTop(),r=n.scope,o=n.client;if(r&&o){var i=o.getOptions&&o.getOptions()||{},s=i.beforeBreadcrumb,a=void 0===s?null:s,c=i.maxBreadcrumbs,l=void 0===c?100:c;if(!(l<=0)){var u=ji(),p=fo({timestamp:u},t),d=a?Wo((function(){return a(p,e)})):p;null!==d&&r.addBreadcrumb(d,Math.min(l,100))}}},t.prototype.setUser=function(t){var e=this.getScope();e&&e.setUser(t)},t.prototype.setTags=function(t){var e=this.getScope();e&&e.setTags(t)},t.prototype.setExtras=function(t){var e=this.getScope();e&&e.setExtras(t)},t.prototype.setTag=function(t,e){var n=this.getScope();n&&n.setTag(t,e)},t.prototype.setExtra=function(t,e){var n=this.getScope();n&&n.setExtra(t,e)},t.prototype.setContext=function(t,e){var n=this.getScope();n&&n.setContext(t,e)},t.prototype.configureScope=function(t){var e=this.getStackTop(),n=e.scope,r=e.client;n&&r&&t(n)},t.prototype.run=function(t){var e=Fi(this);try{t(this)}finally{Fi(e)}},t.prototype.getIntegration=function(t){var e=this.getClient();if(!e)return null;try{return e.getIntegration(t)}catch(e){return Ko.warn("Cannot retrieve integration "+t.id+" from the current Hub"),null}},t.prototype.startSpan=function(t){return this._callExtensionMethod("startSpan",t)},t.prototype.startTransaction=function(t,e){return this._callExtensionMethod("startTransaction",t,e)},t.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},t.prototype.captureSession=function(t){if(void 0===t&&(t=!1),t)return this.endSession();this._sendSessionUpdate()},t.prototype.endSession=function(){var t,e,n,r,o;null===(n=null===(e=null===(t=this.getStackTop())||void 0===t?void 0:t.scope)||void 0===e?void 0:e.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(o=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===o||o.setSession()},t.prototype.startSession=function(t){var e=this.getStackTop(),n=e.scope,r=e.client,o=r&&r.getOptions()||{},i=o.release,s=o.environment,a=new Ui(fo(fo({release:i,environment:s},n&&{user:n.getUser()}),t));if(n){var c=n.getSession&&n.getSession();c&&c.status===co.Ok&&c.update({status:co.Exited}),this.endSession(),n.setSession(a)}return a},t.prototype._sendSessionUpdate=function(){var t=this.getStackTop(),e=t.scope,n=t.client;if(e){var r=e.getSession&&e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},t.prototype._invokeClient=function(t){for(var e,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop(),i=o.scope,s=o.client;s&&s[t]&&(e=s)[t].apply(e,go(n,[i]))},t.prototype._callExtensionMethod=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Mi(),o=r.__SENTRY__;if(o&&o.extensions&&"function"==typeof o.extensions[t])return o.extensions[t].apply(this,e);Ko.warn("Extension method "+t+" couldn't be found, doing nothing.")},t}();function Mi(){var t=Mo();return t.__SENTRY__=t.__SENTRY__||{extensions:{},hub:void 0},t}function Fi(t){var e=Mi(),n=Wi(e);return Xi(e,t),n}function Bi(){var t=Mi();return Hi(t)&&!Wi(t).isOlderThan(3)||Xi(t,new Ai),Do()?function(t){var e,n,r;try{var o=null===(r=null===(n=null===(e=Mi().__SENTRY__)||void 0===e?void 0:e.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!o)return Wi(t);if(!Hi(o)||Wi(o).isOlderThan(3)){var i=Wi(t).getStackTop();Xi(o,new Ai(i.client,Ni.clone(i.scope)))}return Wi(o)}catch(e){return Wi(t)}}(t):Wi(t)}function Hi(t){return!!(t&&t.__SENTRY__&&t.__SENTRY__.hub)}function Wi(t){return t&&t.__SENTRY__&&t.__SENTRY__.hub||(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=new Ai),t.__SENTRY__.hub}function Xi(t,e){return!!t&&(t.__SENTRY__=t.__SENTRY__||{},t.__SENTRY__.hub=e,!0)}function Yi(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Bi();if(r&&r[t])return r[t].apply(r,go(e));throw new Error("No hub defined or "+t+" was not found on the hub, please open a bug report.")}function Gi(t,e){var n;try{throw new Error("Sentry syntheticException")}catch(t){n=t}return Yi("captureException",t,{captureContext:e,originalException:t,syntheticException:n})}function Ji(t){Yi("withScope",t)}var Vi=function(){function t(t,e){void 0===e&&(e={}),this.dsn=t,this._dsnObject=new Lo(t),this.metadata=e}return t.prototype.getDsn=function(){return this._dsnObject},t.prototype.getBaseApiEndpoint=function(){var t=this._dsnObject,e=t.protocol?t.protocol+":":"",n=t.port?":"+t.port:"";return e+"//"+t.host+n+(t.path?"/"+t.path:"")+"/api/"},t.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},t.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},t.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},t.prototype.getStoreEndpointPath=function(){var t=this._dsnObject;return(t.path?"/"+t.path:"")+"/api/"+t.projectId+"/store/"},t.prototype.getRequestHeaders=function(t,e){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+t+"/"+e),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},t.prototype.getReportDialogEndpoint=function(t){void 0===t&&(t={});var e=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var o in r.push("dsn="+e.toString()),t)if("dsn"!==o)if("user"===o){if(!t.user)continue;t.user.name&&r.push("name="+encodeURIComponent(t.user.name)),t.user.email&&r.push("email="+encodeURIComponent(t.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(t[o]));return r.length?n+"?"+r.join("&"):n},t.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},t.prototype._getIngestEndpoint=function(t){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+t+"/"},t.prototype._encodedAuth=function(){var t,e={sentry_key:this._dsnObject.publicKey,sentry_version:"7"};return t=e,Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},t}(),Ki=[];function Qi(t){var e={};return function(t){var e=t.defaultIntegrations&&go(t.defaultIntegrations)||[],n=t.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(t){return t.name})),i=[];e.forEach((function(t){-1===o.indexOf(t.name)&&-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))})),n.forEach((function(t){-1===i.indexOf(t.name)&&(r.push(t),i.push(t.name))}))}else"function"==typeof n?(r=n(e),r=Array.isArray(r)?r:[r]):r=go(e);var s=r.map((function(t){return t.name})),a="Debug";return-1!==s.indexOf(a)&&r.push.apply(r,go(r.splice(s.indexOf(a),1))),r}(t).forEach((function(t){e[t.name]=t,function(t){-1===Ki.indexOf(t.name)&&(t.setupOnce(Pi,Bi),Ki.push(t.name),Ko.log("Integration installed: "+t.name))}(t)})),e}var Zi=function(){function t(t,e){this._integrations={},this._processing=0,this._backend=new t(e),this._options=e,e.dsn&&(this._dsn=new Lo(e.dsn))}return t.prototype.captureException=function(t,e,n){var r=this,o=e&&e.event_id;return this._process(this._getBackend().eventFromException(t,e).then((function(t){return r._captureEvent(t,e,n)})).then((function(t){o=t}))),o},t.prototype.captureMessage=function(t,e,n,r){var o=this,i=n&&n.event_id,s=wo(t)?this._getBackend().eventFromMessage(String(t),e,n):this._getBackend().eventFromException(t,n);return this._process(s.then((function(t){return o._captureEvent(t,n,r)})).then((function(t){i=t}))),i},t.prototype.captureEvent=function(t,e,n){var r=e&&e.event_id;return this._process(this._captureEvent(t,e,n).then((function(t){r=t}))),r},t.prototype.captureSession=function(t){t.release?(this._sendSession(t),t.update({init:!1})):Ko.warn("Discarded session because of missing release")},t.prototype.getDsn=function(){return this._dsn},t.prototype.getOptions=function(){return this._options},t.prototype.flush=function(t){var e=this;return this._isClientProcessing(t).then((function(n){return e._getBackend().getTransport().close(t).then((function(t){return n&&t}))}))},t.prototype.close=function(t){var e=this;return this.flush(t).then((function(t){return e.getOptions().enabled=!1,t}))},t.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=Qi(this._options))},t.prototype.getIntegration=function(t){try{return this._integrations[t.id]||null}catch(e){return Ko.warn("Cannot retrieve integration "+t.id+" from the current Client"),null}},t.prototype._updateSessionFromEvent=function(t,e){var n,r,o,i=!1,s=!1,a=e.exception&&e.exception.values;if(a){s=!0;try{for(var c=mo(a),l=c.next();!l.done;l=c.next()){var u=l.value.mechanism;if(u&&!1===u.handled){i=!0;break}}}catch(t){n={error:t}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var p=e.user;if(!t.userAgent){var d=e.request?e.request.headers:{};for(var f in d)if("user-agent"===f.toLowerCase()){o=d[f];break}}t.update(fo(fo({},i&&{status:co.Crashed}),{user:p,userAgent:o,errors:t.errors+Number(s||i)})),this.captureSession(t)},t.prototype._sendSession=function(t){this._getBackend().sendSession(t)},t.prototype._isClientProcessing=function(t){var e=this;return new Ci((function(n){var r=0,o=setInterval((function(){0==e._processing?(clearInterval(o),n(!0)):(r+=1,t&&r>=t&&(clearInterval(o),n(!1)))}),1)}))},t.prototype._getBackend=function(){return this._backend},t.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},t.prototype._prepareEvent=function(t,e,n){var r=this,o=this.getOptions().normalizeDepth,i=void 0===o?3:o,s=fo(fo({},t),{event_id:t.event_id||(n&&n.event_id?n.event_id:Fo()),timestamp:t.timestamp||ji()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var a=e;n&&n.captureContext&&(a=Ni.clone(a).update(n.captureContext));var c=Ci.resolve(s);return a&&(c=a.applyToEvent(s,n)),c.then((function(t){return"number"==typeof i&&i>0?r._normalizeEvent(t,i):t}))},t.prototype._normalizeEvent=function(t,e){if(!t)return null;var n=fo(fo(fo(fo(fo({},t),t.breadcrumbs&&{breadcrumbs:t.breadcrumbs.map((function(t){return fo(fo({},t),t.data&&{data:ai(t.data,e)})}))}),t.user&&{user:ai(t.user,e)}),t.contexts&&{contexts:ai(t.contexts,e)}),t.extra&&{extra:ai(t.extra,e)});return t.contexts&&t.contexts.trace&&(n.contexts.trace=t.contexts.trace),n},t.prototype._applyClientOptions=function(t){var e=this.getOptions(),n=e.environment,r=e.release,o=e.dist,i=e.maxValueLength,s=void 0===i?250:i;"environment"in t||(t.environment="environment"in e?n:"production"),void 0===t.release&&void 0!==r&&(t.release=r),void 0===t.dist&&void 0!==o&&(t.dist=o),t.message&&(t.message=qo(t.message,s));var a=t.exception&&t.exception.values&&t.exception.values[0];a&&a.value&&(a.value=qo(a.value,s));var c=t.request;c&&c.url&&(c.url=qo(c.url,s))},t.prototype._applyIntegrationsMetadata=function(t){var e=t.sdk,n=Object.keys(this._integrations);e&&n.length>0&&(e.integrations=n)},t.prototype._sendEvent=function(t){this._getBackend().sendEvent(t)},t.prototype._captureEvent=function(t,e,n){return this._processEvent(t,e,n).then((function(t){return t.event_id}),(function(t){Ko.error(t)}))},t.prototype._processEvent=function(t,e,n){var r=this,o=this.getOptions(),i=o.beforeSend,s=o.sampleRate;if(!this._isEnabled())return Ci.reject(new Ro("SDK not enabled, will not send event."));var a="transaction"===t.type;return!a&&"number"==typeof s&&Math.random()>s?Ci.reject(new Ro("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this._prepareEvent(t,n,e).then((function(t){if(null===t)throw new Ro("An event processor returned null, will not send event.");if(e&&e.data&&!0===e.data.__sentry__||a||!i)return t;var n=i(t,e);if(void 0===n)throw new Ro("`beforeSend` method has to return `null` or a valid event.");return Eo(n)?n.then((function(t){return t}),(function(t){throw new Ro("beforeSend rejected with "+t)})):n})).then((function(t){if(null===t)throw new Ro("`beforeSend` returned `null`, will not send event.");var e=n&&n.getSession&&n.getSession();return!a&&e&&r._updateSessionFromEvent(e,t),r._sendEvent(t),t})).then(null,(function(t){if(t instanceof Ro)throw t;throw r.captureException(t,{data:{__sentry__:!0},originalException:t}),new Ro("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+t)}))},t.prototype._process=function(t){var e=this;this._processing+=1,t.then((function(t){return e._processing-=1,t}),(function(t){return e._processing-=1,t}))},t}(),ts=function(){function t(){}return t.prototype.sendEvent=function(t){return Ci.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:uo.Skipped})},t.prototype.close=function(t){return Ci.resolve(!0)},t}(),es=function(){function t(t){this._options=t,this._options.dsn||Ko.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return t.prototype.eventFromException=function(t,e){throw new Ro("Backend has to implement `eventFromException` method")},t.prototype.eventFromMessage=function(t,e,n){throw new Ro("Backend has to implement `eventFromMessage` method")},t.prototype.sendEvent=function(t){this._transport.sendEvent(t).then(null,(function(t){Ko.error("Error while sending event: "+t)}))},t.prototype.sendSession=function(t){this._transport.sendSession?this._transport.sendSession(t).then(null,(function(t){Ko.error("Error while sending session: "+t)})):Ko.warn("Dropping session because custom transport doesn't implement sendSession")},t.prototype.getTransport=function(){return this._transport},t.prototype._setupTransport=function(){return new ts},t}();function ns(t){if(t.metadata&&t.metadata.sdk){var e=t.metadata.sdk;return{name:e.name,version:e.version}}}function rs(t,e){return e?(t.sdk=t.sdk||{name:e.name,version:e.version},t.sdk.name=t.sdk.name||e.name,t.sdk.version=t.sdk.version||e.version,t.sdk.integrations=go(t.sdk.integrations||[],e.integrations||[]),t.sdk.packages=go(t.sdk.packages||[],e.packages||[]),t):t}function os(t,e){var n=ns(e);return{body:JSON.stringify(fo({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(t),type:"session",url:e.getEnvelopeEndpointWithUrlEncodedAuth()}}function is(t,e){var n=ns(e),r=t.type||"event",o="transaction"===r,i=t.debug_meta||{},s=i.transactionSampling,a=ho(i,["transactionSampling"]),c=s||{},l=c.method,u=c.rate;0===Object.keys(a).length?delete t.debug_meta:t.debug_meta=a;var p={body:JSON.stringify(n?rs(t,e.metadata.sdk):t),type:r,url:o?e.getEnvelopeEndpointWithUrlEncodedAuth():e.getStoreEndpointWithUrlEncodedAuth()};if(o){var d=JSON.stringify(fo({event_id:t.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:t.type,sample_rates:[{id:l,rate:u}]})+"\n"+p.body;p.body=d}return p}var ss,as="6.2.0",cs=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){ss=Function.prototype.toString,Function.prototype.toString=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this.__sentry_original__||this;return ss.apply(n,t)}},t.id="FunctionToString",t}(),ls=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],us=function(){function t(e){void 0===e&&(e={}),this._options=e,this.name=t.id}return t.prototype.setupOnce=function(){Pi((function(e){var n=Bi();if(!n)return e;var r=n.getIntegration(t);if(r){var o=n.getClient(),i=o?o.getOptions():{},s=r._mergeOptions(i);if(r._shouldDropEvent(e,s))return null}return e}))},t.prototype._shouldDropEvent=function(t,e){return this._isSentryError(t,e)?(Ko.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Ho(t)),!0):this._isIgnoredError(t,e)?(Ko.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Ho(t)),!0):this._isDeniedUrl(t,e)?(Ko.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Ho(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0):!this._isAllowedUrl(t,e)&&(Ko.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Ho(t)+".\nUrl: "+this._getEventFilterUrl(t)),!0)},t.prototype._isSentryError=function(t,e){if(!e.ignoreInternal)return!1;try{return t&&t.exception&&t.exception.values&&t.exception.values[0]&&"SentryError"===t.exception.values[0].type||!1}catch(t){return!1}},t.prototype._isIgnoredError=function(t,e){return!(!e.ignoreErrors||!e.ignoreErrors.length)&&this._getPossibleEventMessages(t).some((function(t){return e.ignoreErrors.some((function(e){return Uo(t,e)}))}))},t.prototype._isDeniedUrl=function(t,e){if(!e.denyUrls||!e.denyUrls.length)return!1;var n=this._getEventFilterUrl(t);return!!n&&e.denyUrls.some((function(t){return Uo(n,t)}))},t.prototype._isAllowedUrl=function(t,e){if(!e.allowUrls||!e.allowUrls.length)return!0;var n=this._getEventFilterUrl(t);return!n||e.allowUrls.some((function(t){return Uo(n,t)}))},t.prototype._mergeOptions=function(t){return void 0===t&&(t={}),{allowUrls:go(this._options.whitelistUrls||[],this._options.allowUrls||[],t.whitelistUrls||[],t.allowUrls||[]),denyUrls:go(this._options.blacklistUrls||[],this._options.denyUrls||[],t.blacklistUrls||[],t.denyUrls||[]),ignoreErrors:go(this._options.ignoreErrors||[],t.ignoreErrors||[],ls),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},t.prototype._getPossibleEventMessages=function(t){if(t.message)return[t.message];if(t.exception)try{var e=t.exception.values&&t.exception.values[0]||{},n=e.type,r=void 0===n?"":n,o=e.value,i=void 0===o?"":o;return[""+i,r+": "+i]}catch(e){return Ko.error("Cannot extract message for event "+Ho(t)),[]}return[]},t.prototype._getEventFilterUrl=function(t){try{if(t.stacktrace){var e=t.stacktrace.frames;return e&&e[e.length-1].filename||null}if(t.exception){var n=t.exception.values&&t.exception.values[0].stacktrace&&t.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(e){return Ko.error("Cannot extract url for event "+Ho(t)),null}},t.id="InboundFilters",t}(),ps="?",ds=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,fs=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,hs=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,ms=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,vs=/\((\S*)(?::(\d+))(?::(\d+))\)/,gs=/Minified React error #\d+;/i;function ys(t){var e=null,n=0;t&&("number"==typeof t.framesToPop?n=t.framesToPop:gs.test(t.message)&&(n=1));try{if(e=function(t){if(!t||!t.stacktrace)return null;for(var e,n=t.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=n.split("\n"),s=[],a=0;a<i.length;a+=2){var c=null;(e=r.exec(i[a]))?c={url:e[2],func:e[3],args:[],line:+e[1],column:null}:(e=o.exec(i[a]))&&(c={url:e[6],func:e[3]||e[4],args:e[5]?e[5].split(","):[],line:+e[1],column:+e[2]}),c&&(!c.func&&c.line&&(c.func=ps),s.push(c))}if(!s.length)return null;return{message:bs(t),name:t.name,stack:s}}(t))return _s(e,n)}catch(t){}try{if(e=function(t){if(!t||!t.stack)return null;for(var e,n,r,o=[],i=t.stack.split("\n"),s=0;s<i.length;++s){if(n=ds.exec(i[s])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(e=vs.exec(n[2]))&&(n[2]=e[1],n[3]=e[2],n[4]=e[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||ps,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=hs.exec(i[s]))r={url:n[2],func:n[1]||ps,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=fs.exec(i[s])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(e=ms.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=e[1],n[4]=e[2],n[5]=""):0!==s||n[5]||void 0===t.columnNumber||(o[0].column=t.columnNumber+1),r={url:n[3],func:n[1]||ps,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=ps),o.push(r)}if(!o.length)return null;return{message:bs(t),name:t.name,stack:o}}(t))return _s(e,n)}catch(t){}return{message:bs(t),name:t&&t.name,stack:[],failed:!0}}function _s(t,e){try{return fo(fo({},t),{stack:t.stack.slice(e)})}catch(e){return t}}function bs(t){var e=t&&t.message;return e?e.error&&"string"==typeof e.error.message?e.error.message:e:"No error message"}function $s(t){var e=xs(t.stack),n={type:t.name,value:t.message};return e&&e.length&&(n.stacktrace={frames:e}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function ws(t){return{exception:{values:[$s(t)]}}}function xs(t){if(!t||!t.length)return[];var e=t,n=e[0].func||"",r=e[e.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(e=e.slice(1)),-1!==r.indexOf("sentryWrapped")&&(e=e.slice(0,-1)),e.slice(0,50).map((function(t){return{colno:null===t.column?void 0:t.column,filename:t.url||e[0].url,function:t.func||"?",in_app:!0,lineno:null===t.line?void 0:t.line}})).reverse()}function ks(t,e,n){var r,o;if(void 0===n&&(n={}),_o(t)&&t.error)return r=ws(ys(t=t.error));if(bo(t)||(o=t,"[object DOMException]"===Object.prototype.toString.call(o))){var i=t,s=i.name||(bo(i)?"DOMError":"DOMException"),a=i.message?s+": "+i.message:s;return Xo(r=Ss(a,e,n),a),"code"in i&&(r.tags=fo(fo({},r.tags),{"DOMException.code":""+i.code})),r}return yo(t)?r=ws(ys(t)):xo(t)||ko(t)?(Yo(r=function(t,e,n){var r={exception:{values:[{type:ko(t)?t.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+ci(t)}]},extra:{__serialized__:oi(t)}};if(e){var o=xs(ys(e).stack);r.stacktrace={frames:o}}return r}(t,e,n.rejection),{synthetic:!0}),r):(Xo(r=Ss(t,e,n),""+t,void 0),Yo(r,{synthetic:!0}),r)}function Ss(t,e,n){void 0===n&&(n={});var r={message:t};if(n.attachStacktrace&&e){var o=xs(ys(e).stack);r.stacktrace={frames:o}}return r}var Es=function(){function t(t){this.options=t,this._buffer=new Oi(30),this._rateLimits={},this._api=new Vi(t.dsn,t._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return t.prototype.sendEvent=function(t){throw new Ro("Transport Class has to implement `sendEvent` method")},t.prototype.close=function(t){return this._buffer.drain(t)},t.prototype._handleResponse=function(t){var e=t.requestType,n=t.response,r=t.headers,o=t.resolve,i=t.reject,s=uo.fromHttpCode(n.status);this._handleRateLimit(r)&&Ko.warn("Too many requests, backing off until: "+this._disabledUntil(e)),s!==uo.Success?i(n):o({status:s})},t.prototype._disabledUntil=function(t){return this._rateLimits[t]||this._rateLimits.all},t.prototype._isRateLimited=function(t){return this._disabledUntil(t)>new Date(Date.now())},t.prototype._handleRateLimit=function(t){var e,n,r,o,i=Date.now(),s=t["x-sentry-rate-limits"],a=t["retry-after"];if(s){try{for(var c=mo(s.trim().split(",")),l=c.next();!l.done;l=c.next()){var u=l.value.split(":",2),p=parseInt(u[0],10),d=1e3*(isNaN(p)?60:p);try{for(var f=(r=void 0,mo(u[1].split(";"))),h=f.next();!h.done;h=f.next()){var m=h.value;this._rateLimits[m||"all"]=new Date(i+d)}}catch(t){r={error:t}}finally{try{h&&!h.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}}catch(t){e={error:t}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(e)throw e.error}}return!0}return!!a&&(this._rateLimits.all=new Date(i+function(t,e){if(!e)return 6e4;var n=parseInt(""+e,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+e);return isNaN(r)?6e4:r-t}(i,a)),!0)},t}(),Ts=Mo(),Cs=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ao(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(is(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(os(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;if(this._isRateLimited(t.type))return Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429});var r={body:t.body,method:"POST",referrerPolicy:di()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new Ci((function(e,o){Ts.fetch(t.url,r).then((function(r){var i={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:t.type,response:r,headers:i,resolve:e,reject:o})})).catch(o)})))},e}(Es),Os=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ao(e,t),e.prototype.sendEvent=function(t){return this._sendRequest(is(t,this._api),t)},e.prototype.sendSession=function(t){return this._sendRequest(os(t,this._api),t)},e.prototype._sendRequest=function(t,e){var n=this;return this._isRateLimited(t.type)?Promise.reject({event:e,type:t.type,reason:"Transport locked till "+this._disabledUntil(t.type)+" due to too many requests.",status:429}):this._buffer.add(new Ci((function(e,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var i={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};n._handleResponse({requestType:t.type,response:o,headers:i,resolve:e,reject:r})}},o.open("POST",t.url),n.options.headers)n.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,n.options.headers[i]);o.send(t.body)})))},e}(Es),Is=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return ao(e,t),e.prototype.eventFromException=function(t,e){return function(t,e,n){var r=ks(e,n&&n.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return Yo(r,{handled:!0,type:"generic"}),r.level=lo.Error,n&&n.event_id&&(r.event_id=n.event_id),Ci.resolve(r)}(this._options,t,e)},e.prototype.eventFromMessage=function(t,e,n){return void 0===e&&(e=lo.Info),function(t,e,n,r){void 0===n&&(n=lo.Info);var o=Ss(e,r&&r.syntheticException||void 0,{attachStacktrace:t.attachStacktrace});return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Ci.resolve(o)}(this._options,t,e,n)},e.prototype._setupTransport=function(){if(!this._options.dsn)return t.prototype._setupTransport.call(this);var e=fo(fo({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(e):ui()?new Cs(e):new Os(e)},e}(es),Rs=0;function zs(){return Rs>0}function js(){Rs+=1,setTimeout((function(){Rs-=1}))}function Ls(t,e,n){if(void 0===e&&(e={}),"function"!=typeof t)return t;try{if(t.__sentry__)return t;if(t.__sentry_wrapped__)return t.__sentry_wrapped__}catch(e){return t}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((function(t){return Ls(t,e)}));return t.handleEvent?t.handleEvent.apply(this,o):t.apply(this,o)}catch(t){throw js(),Ji((function(n){n.addEventProcessor((function(t){var n=fo({},t);return e.mechanism&&(Xo(n,void 0,void 0),Yo(n,e.mechanism)),n.extra=fo(fo({},n.extra),{arguments:r}),n})),Gi(t)})),t}};try{for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(r[o]=t[o])}catch(t){}t.prototype=t.prototype||{},r.prototype=t.prototype,Object.defineProperty(t,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:t}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return t.name}})}catch(t){}return r}function Ds(t){if(void 0===t&&(t={}),t.eventId)if(t.dsn){var e=document.createElement("script");e.async=!0,e.src=new Vi(t.dsn).getReportDialogEndpoint(t),t.onLoad&&(e.onload=t.onLoad),(document.head||document.body).appendChild(e)}else Ko.error("Missing dsn option in showReportDialog call");else Ko.error("Missing eventId option in showReportDialog call")}var Ns,qs=function(){function t(e){this.name=t.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=fo({onerror:!0,onunhandledrejection:!0},e)}return t.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Ko.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Ko.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},t.prototype._installGlobalOnErrorHandler=function(){var e=this;this._onErrorHandlerInstalled||(yi({callback:function(n){var r=n.error,o=Bi(),i=o.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(i&&!zs()&&!s){var a=o.getClient(),c=wo(r)?e._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):e._enhanceEventWithInitialFrame(ks(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Yo(c,{handled:!1,type:"onerror"}),o.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},t.prototype._installGlobalOnUnhandledRejectionHandler=function(){var e=this;this._onUnhandledRejectionHandlerInstalled||(yi({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(t){}var o=Bi(),i=o.getIntegration(t),s=r&&!0===r.__sentry_own_request__;if(!i||zs()||s)return!0;var a=o.getClient(),c=wo(r)?e._eventFromRejectionWithPrimitive(r):ks(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});c.level=lo.Error,Yo(c,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},t.prototype._eventFromIncompleteOnError=function(t,e,n,r){var o,i=_o(t)?t.message:t;if($o(i)){var s=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(o=s[1],i=s[2])}var a={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(a,e,n,r)},t.prototype._eventFromRejectionWithPrimitive=function(t){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(t)}]}}},t.prototype._enhanceEventWithInitialFrame=function(t,e,n,r){t.exception=t.exception||{},t.exception.values=t.exception.values||[],t.exception.values[0]=t.exception.values[0]||{},t.exception.values[0].stacktrace=t.exception.values[0].stacktrace||{},t.exception.values[0].stacktrace.frames=t.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,s=$o(e)&&e.length>0?e:function(){try{return document.location.href}catch(t){return""}}();return 0===t.exception.values[0].stacktrace.frames.length&&t.exception.values[0].stacktrace.frames.push({colno:o,filename:s,function:"?",in_app:!0,lineno:i}),t},t.id="GlobalHandlers",t}(),Ps=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Us=function(){function t(e){this.name=t.id,this._options=fo({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},e)}return t.prototype.setupOnce=function(){var t=Mo();(this._options.setTimeout&&ei(t,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&ei(t,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&ei(t,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in t&&ei(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:Ps).forEach(this._wrapEventTarget.bind(this))},t.prototype._wrapTimeFunction=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=e[0];return e[0]=Ls(r,{mechanism:{data:{function:ti(t)},handled:!0,type:"instrument"}}),t.apply(this,e)}},t.prototype._wrapRAF=function(t){return function(e){return t.call(this,Ls(e,{mechanism:{data:{function:"requestAnimationFrame",handler:ti(t)},handled:!0,type:"instrument"}}))}},t.prototype._wrapEventTarget=function(t){var e=Mo(),n=e[t]&&e[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ei(n,"addEventListener",(function(e){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Ls(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:ti(r),target:t},handled:!0,type:"instrument"}}))}catch(t){}return e.call(this,n,Ls(r,{mechanism:{data:{function:"addEventListener",handler:ti(r),target:t},handled:!0,type:"instrument"}}),o)}})),ei(n,"removeEventListener",(function(t){return function(e,n,r){var o,i=n;try{var s=null===(o=i)||void 0===o?void 0:o.__sentry_wrapped__;s&&t.call(this,e,s,r)}catch(t){}return t.call(this,e,i,r)}})))},t.prototype._wrapXHR=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach((function(t){t in r&&"function"==typeof r[t]&&ei(r,t,(function(e){var n={mechanism:{data:{function:t,handler:ti(e)},handled:!0,type:"instrument"}};return e.__sentry_original__&&(n.mechanism.data.handler=ti(e.__sentry_original__)),Ls(e,n)}))})),t.apply(this,e)}},t.id="TryCatch",t}(),As=function(){function t(e){this.name=t.id,this._options=fo({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},e)}return t.prototype.addSentryBreadcrumb=function(t){this._options.sentry&&Bi().addBreadcrumb({category:"sentry."+("transaction"===t.type?"transaction":"event"),event_id:t.event_id,level:t.level,message:Ho(t)},{event:t})},t.prototype.setupOnce=function(){var t=this;this._options.console&&yi({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._consoleBreadcrumb.apply(t,go(e))},type:"console"}),this._options.dom&&yi({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._domBreadcrumb.apply(t,go(e))},type:"dom"}),this._options.xhr&&yi({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._xhrBreadcrumb.apply(t,go(e))},type:"xhr"}),this._options.fetch&&yi({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._fetchBreadcrumb.apply(t,go(e))},type:"fetch"}),this._options.history&&yi({callback:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t._historyBreadcrumb.apply(t,go(e))},type:"history"})},t.prototype._consoleBreadcrumb=function(t){var e={category:"console",data:{arguments:t.args,logger:"console"},level:lo.fromString(t.level),message:Po(t.args," ")};if("assert"===t.level){if(!1!==t.args[0])return;e.message="Assertion failed: "+(Po(t.args.slice(1)," ")||"console.assert"),e.data.arguments=t.args.slice(1)}Bi().addBreadcrumb(e,{input:t.args,level:t.level})},t.prototype._domBreadcrumb=function(t){var e;try{e=t.event.target?Co(t.event.target):Co(t.event)}catch(t){e="<unknown>"}0!==e.length&&Bi().addBreadcrumb({category:"ui."+t.name,message:e},{event:t.event,name:t.name,global:t.global})},t.prototype._xhrBreadcrumb=function(t){if(t.endTimestamp){if(t.xhr.__sentry_own_request__)return;var e=t.xhr.__sentry_xhr__||{},n=e.method,r=e.url,o=e.status_code,i=e.body;Bi().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:o},type:"http"},{xhr:t.xhr,input:i})}else;},t.prototype._fetchBreadcrumb=function(t){t.endTimestamp&&(t.fetchData.url.match(/sentry_key/)&&"POST"===t.fetchData.method||(t.error?Bi().addBreadcrumb({category:"fetch",data:t.fetchData,level:lo.Error,type:"http"},{data:t.error,input:t.args}):Bi().addBreadcrumb({category:"fetch",data:fo(fo({},t.fetchData),{status_code:t.response.status}),type:"http"},{input:t.args,response:t.response})))},t.prototype._historyBreadcrumb=function(t){var e=Mo(),n=t.from,r=t.to,o=Bo(e.location.href),i=Bo(n),s=Bo(r);i.path||(i=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Bi().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},t.id="Breadcrumbs",t}(),Ms=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._key=e.key||"cause",this._limit=e.limit||5}return t.prototype.setupOnce=function(){Pi((function(e,n){var r=Bi().getIntegration(t);return r?r._handler(e,n):e}))},t.prototype._handler=function(t,e){if(!(t.exception&&t.exception.values&&e&&To(e.originalException,Error)))return t;var n=this._walkErrorTree(e.originalException,this._key);return t.exception.values=go(n,t.exception.values),t},t.prototype._walkErrorTree=function(t,e,n){if(void 0===n&&(n=[]),!To(t[e],Error)||n.length+1>=this._limit)return n;var r=$s(ys(t[e]));return this._walkErrorTree(t[e],e,go([r],n))},t.id="LinkedErrors",t}(),Fs=Mo(),Bs=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(){Pi((function(e){var n,r,o;if(Bi().getIntegration(t)){if(!Fs.navigator&&!Fs.location&&!Fs.document)return e;var i=(null===(n=e.request)||void 0===n?void 0:n.url)||(null===(r=Fs.location)||void 0===r?void 0:r.href),s=(Fs.document||{}).referrer,a=(Fs.navigator||{}).userAgent,c=fo(fo(fo({},null===(o=e.request)||void 0===o?void 0:o.headers),s&&{Referer:s}),a&&{"User-Agent":a}),l=fo(fo({},i&&{url:i}),{headers:c});return fo(fo({},e),{request:l})}return e}))},t.id="UserAgent",t}(),Hs=function(t){function e(e){return void 0===e&&(e={}),t.call(this,Is,e)||this}return ao(e,t),e.prototype.showReportDialog=function(t){void 0===t&&(t={}),Mo().document&&(this._isEnabled()?Ds(fo(fo({},t),{dsn:t.dsn||this.getDsn()})):Ko.error("Trying to call showReportDialog with Sentry Client disabled"))},e.prototype._prepareEvent=function(e,n,r){return e.platform=e.platform||"javascript",t.prototype._prepareEvent.call(this,e,n,r)},e.prototype._sendEvent=function(e){var n=this.getIntegration(As);n&&n.addSentryBreadcrumb(e),t.prototype._sendEvent.call(this,e)},e}(Zi),Ws=[new us,new cs,new Us,new As,new qs,new Ms,new Bs];!function(t){t.Ok="ok",t.DeadlineExceeded="deadline_exceeded",t.Unauthenticated="unauthenticated",t.PermissionDenied="permission_denied",t.NotFound="not_found",t.ResourceExhausted="resource_exhausted",t.InvalidArgument="invalid_argument",t.Unimplemented="unimplemented",t.Unavailable="unavailable",t.InternalError="internal_error",t.UnknownError="unknown_error",t.Cancelled="cancelled",t.AlreadyExists="already_exists",t.FailedPrecondition="failed_precondition",t.Aborted="aborted",t.OutOfRange="out_of_range",t.DataLoss="data_loss"}(Ns||(Ns={})),function(t){t.fromHttpCode=function(e){if(e<400)return t.Ok;if(e>=400&&e<500)switch(e){case 401:return t.Unauthenticated;case 403:return t.PermissionDenied;case 404:return t.NotFound;case 409:return t.AlreadyExists;case 413:return t.FailedPrecondition;case 429:return t.ResourceExhausted;default:return t.InvalidArgument}if(e>=500&&e<600)switch(e){case 501:return t.Unimplemented;case 503:return t.Unavailable;case 504:return t.DeadlineExceeded;default:return t.InternalError}return t.UnknownError}}(Ns||(Ns={}));var Xs=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ys(t){return"tracesSampleRate"in t||"tracesSampler"in t}function Gs(t){var e,n;return void 0===t&&(t=Bi()),null===(n=null===(e=t)||void 0===e?void 0:e.getScope())||void 0===n?void 0:n.getTransaction()}function Js(t){return t/1e3}function Vs(){var t=Gs();t&&(Ko.log("[Tracing] Transaction: "+Ns.InternalError+" -> Global error occured"),t.setStatus(Ns.InternalError))}var Ks=function(){function t(t){void 0===t&&(t=1e3),this.spans=[],this._maxlen=t}return t.prototype.add=function(t){this.spans.length>this._maxlen?t.spanRecorder=void 0:this.spans.push(t)},t}(),Qs=function(t){function e(e,n){var r=t.call(this,e)||this;return r._metadata={},r._measurements={},r._hub=Bi(),To(n,Ai)&&(r._hub=n),r.name=e.name||"",r._trimEnd=e.trimEnd,r.transaction=r,r}return ao(e,t),e.prototype.setName=function(t){this.name=t},e.prototype.initSpanRecorder=function(t){void 0===t&&(t=1e3),this.spanRecorder||(this.spanRecorder=new Ks(t)),this.spanRecorder.add(this)},e.prototype.setMeasurements=function(t){this._measurements=fo({},t)},e.prototype.setMetadata=function(t){this._metadata=fo(fo({},this._metadata),t)},e.prototype.finish=function(e){var n=this;if(void 0===this.endTimestamp){if(this.name||(Ko.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),t.prototype.finish.call(this,e),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(t){return t!==n&&t.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(t,e){return t.endTimestamp&&e.endTimestamp?t.endTimestamp>e.endTimestamp?t:e:t})).endTimestamp);var o={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this._metadata};return Object.keys(this._measurements).length>0&&(Ko.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),this._hub.captureEvent(o)}Ko.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},e.prototype.toContext=function(){var e=t.prototype.toContext.call(this);return li(fo(fo({},e),{name:this.name,trimEnd:this._trimEnd}))},e.prototype.updateWithContext=function(e){var n;return t.prototype.updateWithContext.call(this,e),this.name=null!=(n=e.name)?n:"",this._trimEnd=e.trimEnd,this},e}(function(){function t(t){if(this.traceId=Fo(),this.spanId=Fo().substring(16),this.startTimestamp=Li(),this.tags={},this.data={},!t)return this;t.traceId&&(this.traceId=t.traceId),t.spanId&&(this.spanId=t.spanId),t.parentSpanId&&(this.parentSpanId=t.parentSpanId),"sampled"in t&&(this.sampled=t.sampled),t.op&&(this.op=t.op),t.description&&(this.description=t.description),t.data&&(this.data=t.data),t.tags&&(this.tags=t.tags),t.status&&(this.status=t.status),t.startTimestamp&&(this.startTimestamp=t.startTimestamp),t.endTimestamp&&(this.endTimestamp=t.endTimestamp)}return t.prototype.child=function(t){return this.startChild(t)},t.prototype.startChild=function(e){var n=new t(fo(fo({},e),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},t.prototype.setTag=function(t,e){var n;return this.tags=fo(fo({},this.tags),((n={})[t]=e,n)),this},t.prototype.setData=function(t,e){var n;return this.data=fo(fo({},this.data),((n={})[t]=e,n)),this},t.prototype.setStatus=function(t){return this.status=t,this},t.prototype.setHttpStatus=function(t){this.setTag("http.status_code",String(t));var e=Ns.fromHttpCode(t);return e!==Ns.UnknownError&&this.setStatus(e),this},t.prototype.isSuccess=function(){return this.status===Ns.Ok},t.prototype.finish=function(t){this.endTimestamp="number"==typeof t?t:Li()},t.prototype.toTraceparent=function(){var t="";return void 0!==this.sampled&&(t=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+t},t.prototype.toContext=function(){return li({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},t.prototype.updateWithContext=function(t){var e,n,r,o,i;return this.data=null!=(e=t.data)?e:{},this.description=t.description,this.endTimestamp=t.endTimestamp,this.op=t.op,this.parentSpanId=t.parentSpanId,this.sampled=t.sampled,this.spanId=null!=(n=t.spanId)?n:this.spanId,this.startTimestamp=null!=(r=t.startTimestamp)?r:this.startTimestamp,this.status=t.status,this.tags=null!=(o=t.tags)?o:{},this.traceId=null!=(i=t.traceId)?i:this.traceId,this},t.prototype.getTraceContext=function(){return li({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},t.prototype.toJSON=function(){return li({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},t}()),Zs=function(t){function e(e,n,r,o){void 0===r&&(r="");var i=t.call(this,o)||this;return i._pushActivity=e,i._popActivity=n,i.transactionSpanId=r,i}return ao(e,t),e.prototype.add=function(e){var n=this;e.spanId!==this.transactionSpanId&&(e.finish=function(t){e.endTimestamp="number"==typeof t?t:Li(),n._popActivity(e.spanId)},void 0===e.endTimestamp&&this._pushActivity(e.spanId)),t.prototype.add.call(this,e)},e}(Ks),ta=function(t){function e(e,n,r,o){void 0===r&&(r=1e3),void 0===o&&(o=!1);var i=t.call(this,e,n)||this;return i._idleHub=n,i._idleTimeout=r,i._onScope=o,i.activities={},i._heartbeatTimer=0,i._heartbeatCounter=0,i._finished=!1,i._beforeFinishCallbacks=[],n&&o&&(ea(n),Ko.log("Setting idle transaction on scope. Span ID: "+i.spanId),n.configureScope((function(t){return t.setSpan(i)}))),i._initTimeout=setTimeout((function(){i._finished||i.finish()}),i._idleTimeout),i}return ao(e,t),e.prototype.finish=function(e){var n,r,o=this;if(void 0===e&&(e=Li()),this._finished=!0,this.activities={},this.spanRecorder){Ko.log("[Tracing] finishing IdleTransaction",new Date(1e3*e).toISOString(),this.op);try{for(var i=mo(this._beforeFinishCallbacks),s=i.next();!s.done;s=i.next()){(0,s.value)(this,e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(t){if(t.spanId===o.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus(Ns.Cancelled),Ko.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));var n=t.startTimestamp<e;return n||Ko.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),n})),Ko.log("[Tracing] flushing IdleTransaction")}else Ko.log("[Tracing] No active IdleTransaction");return this._onScope&&ea(this._idleHub),t.prototype.finish.call(this,e)},e.prototype.registerBeforeFinishCallback=function(t){this._beforeFinishCallbacks.push(t)},e.prototype.initSpanRecorder=function(t){var e=this;if(!this.spanRecorder){this.spanRecorder=new Zs((function(t){e._finished||e._pushActivity(t)}),(function(t){e._finished||e._popActivity(t)}),this.spanId,t),Ko.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},e.prototype._pushActivity=function(t){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),Ko.log("[Tracing] pushActivity: "+t),this.activities[t]=!0,Ko.log("[Tracing] new activities count",Object.keys(this.activities).length)},e.prototype._popActivity=function(t){var e=this;if(this.activities[t]&&(Ko.log("[Tracing] popActivity "+t),delete this.activities[t],Ko.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=Li()+n/1e3;setTimeout((function(){e._finished||e.finish(r)}),n)}},e.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var t=Object.keys(this.activities),e=t.length?t.reduce((function(t,e){return t+e})):"";e===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?(Ko.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(Ns.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},e.prototype._pingHeartbeat=function(){var t=this;Ko.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){t._beat()}),5e3)},e}(Qs);function ea(t){if(t){var e=t.getScope();if(e)e.getTransaction()&&e.setSpan(void 0)}}function na(){var t=this.getScope();if(t){var e=t.getSpan();if(e)return{"sentry-trace":e.toTraceparent()}}return{}}function ra(t,e,n){return Ys(e)?void 0!==t.sampled?(t.setMetadata({transactionSampling:{method:po.Explicit}}),t):("function"==typeof e.tracesSampler?(r=e.tracesSampler(n),t.setMetadata({transactionSampling:{method:po.Sampler,rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,t.setMetadata({transactionSampling:{method:po.Inheritance}})):(r=e.tracesSampleRate,t.setMetadata({transactionSampling:{method:po.Rate,rate:Number(r)}})),function(t){if(isNaN(t)||"number"!=typeof t&&"boolean"!=typeof t)return Ko.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(t)+" of type "+JSON.stringify(typeof t)+"."),!1;if(t<0||t>1)return Ko.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+t+"."),!1;return!0}(r)?r?(t.sampled=Math.random()<r,t.sampled?(Ko.log("[Tracing] starting "+t.op+" transaction - "+t.name),t):(Ko.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),t)):(Ko.log("[Tracing] Discarding transaction because "+("function"==typeof e.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),t.sampled=!1,t):(Ko.warn("[Tracing] Discarding transaction because of invalid sample rate."),t.sampled=!1,t)):(t.sampled=!1,t);var r}function oa(t,e){var n,r,o=(null===(n=this.getClient())||void 0===n?void 0:n.getOptions())||{},i=new Qs(t,this);return(i=ra(i,o,fo({parentSampled:t.parentSampled,transactionContext:t},e))).sampled&&i.initSpanRecorder(null===(r=o._experiments)||void 0===r?void 0:r.maxSpans),i}var ia=Mo();var sa,aa,ca=function(t,e,n,r){var o;return function(){n&&e.isFinal&&n.disconnect(),e.value>=0&&(r||e.isFinal||"hidden"===document.visibilityState)&&(e.delta=e.value-(o||0),(e.delta||e.isFinal||void 0===o)&&(t(e),o=e.value))}},la=function(t,e){return void 0===e&&(e=-1),{name:t,value:e,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},ua=function(t,e){try{if(PerformanceObserver.supportedEntryTypes.includes(t)){var n=new PerformanceObserver((function(t){return t.getEntries().map(e)}));return n.observe({type:t,buffered:!0}),n}}catch(t){}},pa=!1,da=!1,fa=function(t){pa=!t.persisted},ha=function(t,e){void 0===e&&(e=!1),da||(addEventListener("pagehide",fa),addEventListener("beforeunload",(function(){})),da=!0),addEventListener("visibilitychange",(function(e){var n=e.timeStamp;"hidden"===document.visibilityState&&t({timeStamp:n,isUnloading:pa})}),{capture:!0,once:e})},ma=function(){return void 0===sa&&(sa="hidden"===document.visibilityState?0:1/0,ha((function(t){var e=t.timeStamp;return sa=e}),!0)),{get timeStamp(){return sa}}},va=function(t,e){void 0===e&&(e=!1);var n,r=la("LCP"),o=ma(),i=function(t){var e=t.startTime;e<o.timeStamp?(r.value=e,r.entries.push(t)):r.isFinal=!0,n()},s=ua("largest-contentful-paint",i);if(s){n=ca(t,r,s,e);var a=function(){r.isFinal||(s.takeRecords().map(i),r.isFinal=!0,n())};(aa||(aa=new Promise((function(t){return["scroll","keydown","pointerdown"].map((function(e){addEventListener(e,t,{once:!0,passive:!0,capture:!0})}))}))),aa).then(a),ha(a,!0)}},ga=Mo(),ya=function(t){var e,n=la("TTFB");e=function(){try{var e=ga.performance.getEntriesByType("navigation")[0]||function(){var t=ga.performance.timing,e={entryType:"navigation",startTime:0};for(var n in t)"navigationStart"!==n&&"toJSON"!==n&&(e[n]=Math.max(t[n]-t.navigationStart,0));return e}();n.value=n.delta=e.responseStart,n.entries=[e],t(n)}catch(t){}},"complete"===document.readyState?setTimeout(e,0):addEventListener("pageshow",e)},_a=Mo(),ba=function(){function t(){this._measurements={},this._performanceCursor=0,_a&&_a.performance&&(_a.performance.mark&&_a.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return t.prototype.addPerformanceEntries=function(t){var e=this;if(_a&&_a.performance&&_a.performance.getEntries&&Di){Ko.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,o,i=Js(Di);if(_a.document)for(var s=0;s<document.scripts.length;s++)if("true"===document.scripts[s].dataset.entry){n=document.scripts[s].src;break}if(_a.performance.getEntries().slice(this._performanceCursor).forEach((function(s){var a=Js(s.startTime),c=Js(s.duration);if(!("navigation"===t.op&&i+a<t.startTimestamp))switch(s.entryType){case"navigation":!function(t,e,n){$a(t,e,"unloadEvent",n),$a(t,e,"redirect",n),$a(t,e,"domContentLoadedEvent",n),$a(t,e,"loadEvent",n),$a(t,e,"connect",n),$a(t,e,"secureConnection",n,"connectEnd"),$a(t,e,"fetch",n,"domainLookupStart"),$a(t,e,"domainLookup",n),function(t,e,n){wa(t,{op:"browser",description:"request",startTimestamp:n+Js(e.requestStart),endTimestamp:n+Js(e.responseEnd)}),wa(t,{op:"browser",description:"response",startTimestamp:n+Js(e.responseStart),endTimestamp:n+Js(e.responseEnd)})}(t,e,n)}(t,s,i);break;case"mark":case"paint":case"measure":var l=function(t,e,n,r,o){var i=o+n,s=i+r;return wa(t,{description:e.name,endTimestamp:s,op:e.entryType,startTimestamp:i}),i}(t,s,a,c,i);void 0===o&&"sentry-tracing-init"===s.name&&(o=l);var u=ma(),p=s.startTime<u.timeStamp;"first-paint"===s.name&&p&&(Ko.log("[Measurements] Adding FP"),e._measurements.fp={value:s.startTime},e._measurements["mark.fp"]={value:l}),"first-contentful-paint"===s.name&&p&&(Ko.log("[Measurements] Adding FCP"),e._measurements.fcp={value:s.startTime},e._measurements["mark.fcp"]={value:l});break;case"resource":var d=s.name.replace(window.location.origin,""),f=function(t,e,n,r,o,i){if("xmlhttprequest"===e.initiatorType||"fetch"===e.initiatorType)return;var s={};"transferSize"in e&&(s["Transfer Size"]=e.transferSize);"encodedBodySize"in e&&(s["Encoded Body Size"]=e.encodedBodySize);"decodedBodySize"in e&&(s["Decoded Body Size"]=e.decodedBodySize);var a=i+r,c=a+o;return wa(t,{description:n,endTimestamp:c,op:e.initiatorType?"resource."+e.initiatorType:"resource",startTimestamp:a,data:s}),c}(t,s,d,a,c,i);void 0===r&&(n||"").indexOf(d)>-1&&(r=f)}})),void 0!==r&&void 0!==o&&wa(t,{description:"evaluation",endTimestamp:o,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(t),"pageload"===t.op){var a=Js(Di);["fcp","fp","lcp","ttfb"].forEach((function(n){if(e._measurements[n]&&!(a>=t.startTimestamp)){var r=e._measurements[n].value,o=a+Js(r),i=Math.abs(1e3*(o-t.startTimestamp)),s=i-r;Ko.log("[Measurements] Normalized "+n+" from "+r+" to "+i+" ("+s+")"),e._measurements[n].value=i}})),this._measurements["mark.fid"]&&this._measurements.fid&&wa(t,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Js(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),t.setMeasurements(this._measurements)}}},t.prototype._trackCLS=function(){var t=this;!function(t,e){void 0===e&&(e=!1);var n,r=la("CLS",0),o=function(t){t.hadRecentInput||(r.value+=t.value,r.entries.push(t),n())},i=ua("layout-shift",o);i&&(n=ca(t,r,i,e),ha((function(t){var e=t.isUnloading;i.takeRecords().map(o),e&&(r.isFinal=!0),n()})))}((function(e){e.entries.pop()&&(Ko.log("[Measurements] Adding CLS"),t._measurements.cls={value:e.value})}))},t.prototype._trackNavigator=function(t){var e=_a.navigator;if(e){var n=e.connection;n&&(n.effectiveType&&t.setTag("effectiveConnectionType",n.effectiveType),n.type&&t.setTag("connectionType",n.type),xa(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),xa(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),xa(e.deviceMemory)&&t.setTag("deviceMemory",String(e.deviceMemory)),xa(e.hardwareConcurrency)&&t.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}},t.prototype._trackLCP=function(){var t=this;va((function(e){var n=e.entries.pop();if(n){var r=Js(performance.timeOrigin),o=Js(n.startTime);Ko.log("[Measurements] Adding LCP"),t._measurements.lcp={value:e.value},t._measurements["mark.lcp"]={value:r+o}}}))},t.prototype._trackFID=function(){var t,e,n,r,o,i,s=this;t=function(t){var e=t.entries.pop();if(e){var n=Js(performance.timeOrigin),r=Js(e.startTime);Ko.log("[Measurements] Adding FID"),s._measurements.fid={value:t.value},s._measurements["mark.fid"]={value:n+r}}},e=la("FID"),n=ma(),o=ua("first-input",r=function(t){t.startTime<n.timeStamp&&(e.value=t.processingStart-t.startTime,e.entries.push(t),e.isFinal=!0,i())}),i=ca(t,e,o),o?ha((function(){o.takeRecords().map(r),o.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(t,r){r.timeStamp<n.timeStamp&&(e.value=t,e.isFinal=!0,e.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+t}],i())}))},t.prototype._trackTTFB=function(){var t=this;ya((function(e){var n,r=e.entries.pop();if(r){Ko.log("[Measurements] Adding TTFB"),t._measurements.ttfb={value:e.value};var o=e.value-(n=e.entries[0],null!=n?n:r).requestStart;t._measurements["ttfb.requestTime"]={value:o}}}))},t}();function $a(t,e,n,r,o){var i=o?e[o]:e[n+"End"],s=e[n+"Start"];s&&i&&wa(t,{op:"browser",description:n,startTimestamp:r+Js(s),endTimestamp:r+Js(i)})}function wa(t,e){var n=e.startTimestamp,r=ho(e,["startTimestamp"]);return n&&t.startTimestamp>n&&(t.startTimestamp=n),t.startChild(fo({startTimestamp:n},r))}function xa(t){return"number"==typeof t&&isFinite(t)}var ka={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function Sa(t){var e=fo(fo({},ka),t),n=e.traceFetch,r=e.traceXHR,o=e.tracingOrigins,i=e.shouldCreateSpanForRequest,s={},a=function(t){if(s[t])return s[t];var e=o;return s[t]=e.some((function(e){return Uo(t,e)}))&&!Uo(t,"sentry_key"),s[t]},c=a;"function"==typeof i&&(c=function(t){return a(t)&&i(t)});var l={};n&&yi({callback:function(t){!function(t,e,n){var r,o=null===(r=Bi().getClient())||void 0===r?void 0:r.getOptions();if(!(o&&Ys(o)&&t.fetchData&&e(t.fetchData.url)))return;if(t.endTimestamp&&t.fetchData.__span){if(a=n[t.fetchData.__span]){var i=t.response;i&&a.setHttpStatus(i.status),a.finish(),delete n[t.fetchData.__span]}return}var s=Gs();if(s){var a=s.startChild({data:fo(fo({},t.fetchData),{type:"fetch"}),description:t.fetchData.method+" "+t.fetchData.url,op:"http"});t.fetchData.__span=a.spanId,n[a.spanId]=a;var c=t.args[0]=t.args[0],l=t.args[1]=t.args[1]||{},u=l.headers;To(c,Request)&&(u=c.headers),u?"function"==typeof u.append?u.append("sentry-trace",a.toTraceparent()):u=Array.isArray(u)?go(u,[["sentry-trace",a.toTraceparent()]]):fo(fo({},u),{"sentry-trace":a.toTraceparent()}):u={"sentry-trace":a.toTraceparent()},l.headers=u}}(t,c,l)},type:"fetch"}),r&&yi({callback:function(t){!function(t,e,n){var r,o=null===(r=Bi().getClient())||void 0===r?void 0:r.getOptions();if(!o||!Ys(o)||!(t.xhr&&t.xhr.__sentry_xhr__&&e(t.xhr.__sentry_xhr__.url))||t.xhr.__sentry_own_request__)return;var i=t.xhr.__sentry_xhr__;if(t.endTimestamp&&t.xhr.__sentry_xhr_span_id__){return void((a=n[t.xhr.__sentry_xhr_span_id__])&&(a.setHttpStatus(i.status_code),a.finish(),delete n[t.xhr.__sentry_xhr_span_id__]))}var s=Gs();if(s){var a=s.startChild({data:fo(fo({},i.data),{type:"xhr",method:i.method,url:i.url}),description:i.method+" "+i.url,op:"http"});if(t.xhr.__sentry_xhr_span_id__=a.spanId,n[t.xhr.__sentry_xhr_span_id__]=a,t.xhr.setRequestHeader)try{t.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(t){}}}(t,c,l)},type:"xhr"})}var Ea=Mo();var Ta=fo({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(t,e,n){if(void 0===e&&(e=!0),void 0===n&&(n=!0),Ea&&Ea.location){var r,o=Ea.location.href;e&&(r=t({name:Ea.location.pathname,op:"pageload"})),n&&yi({callback:function(e){var n=e.to,i=e.from;void 0===i&&o&&-1!==o.indexOf(n)?o=void 0:i!==n&&(o=void 0,r&&(Ko.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=t({name:Ea.location.pathname,op:"navigation"}))},type:"history"})}else Ko.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},ka),Ca=function(){function t(e){this.name=t.id,this._metrics=new ba,this._emitOptionsWarning=!1;var n=ka.tracingOrigins;e&&e.tracingOrigins&&Array.isArray(e.tracingOrigins)&&0!==e.tracingOrigins.length?n=e.tracingOrigins:this._emitOptionsWarning=!0,this.options=fo(fo(fo({},Ta),e),{tracingOrigins:n})}return t.prototype.setupOnce=function(t,e){var n=this;this._getCurrentHub=e,this._emitOptionsWarning&&(Ko.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Ko.warn("[Tracing] We added a reasonable default for you: "+ka.tracingOrigins));var r=this.options,o=r.routingInstrumentation,i=r.startTransactionOnLocationChange,s=r.startTransactionOnPageLoad,a=r.markBackgroundTransactions,c=r.traceFetch,l=r.traceXHR,u=r.tracingOrigins,p=r.shouldCreateSpanForRequest;o((function(t){return n._createRouteTransaction(t)}),s,i),a&&(ia&&ia.document?ia.document.addEventListener("visibilitychange",(function(){var t=Gs();ia.document.hidden&&t&&(Ko.log("[Tracing] Transaction: "+Ns.Cancelled+" -> since tab moved to the background, op: "+t.op),t.status||t.setStatus(Ns.Cancelled),t.setTag("visibilitychange","document.hidden"),t.finish())})):Ko.warn("[Tracing] Could not set up background tab detection due to lack of global document")),Sa({traceFetch:c,traceXHR:l,tracingOrigins:u,shouldCreateSpanForRequest:p})},t.prototype._createRouteTransaction=function(t){var e=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,o=n.idleTimeout,i=n.maxTransactionDuration,s="pageload"===t.op?function(){var t=(e="sentry-trace",n=document.querySelector("meta[name="+e+"]"),n?n.getAttribute("content"):null);var e,n;if(t)return function(t){var e=t.match(Xs);if(e){var n=void 0;return"1"===e[3]?n=!0:"0"===e[3]&&(n=!1),{traceId:e[1],parentSampled:n,parentSpanId:e[2]}}}(t);return}():void 0,a=fo(fo(fo({},t),s),{trimEnd:!0}),c="function"==typeof r?r(a):a,l=void 0===c?fo(fo({},a),{sampled:!1}):c;!1===l.sampled&&Ko.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),Ko.log("[Tracing] Starting "+l.op+" transaction on scope");var u=function(t,e,n,r,o){var i,s,a=(null===(i=t.getClient())||void 0===i?void 0:i.getOptions())||{},c=new ta(e,t,n,r);return(c=ra(c,a,fo({parentSampled:e.parentSampled,transactionContext:e},o))).sampled&&c.initSpanRecorder(null===(s=a._experiments)||void 0===s?void 0:s.maxSpans),c}(this._getCurrentHub(),l,o,!0,{location:Mo().location});return u.registerBeforeFinishCallback((function(t,n){e._metrics.addPerformanceEntries(t),function(t,e,n){var r=n-e.startTimestamp;n&&(r>t||r<0)&&(e.setStatus(Ns.DeadlineExceeded),e.setTag("maxTransactionDurationExceeded","true"))}(1e3*i,t,n)})),u}Ko.warn("[Tracing] Did not create "+t.op+" transaction because _getCurrentHub is invalid.")},t.id="BrowserTracing",t}();var Oa=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}return t.prototype.setupOnce=function(){this._router?function(t,e){void 0===e&&(e=[]);e.forEach((function(e){return function(t,e){var n=t[e];return t[e]=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return n.call.apply(n,go([this],Ra(t,e)))},t}(t,e)}))}(this._router,this._methods):Ko.error("ExpressIntegration is missing an Express instance")},t.id="Express",t}();function Ia(t,e){var n=t.length;switch(n){case 2:return function(n,r){var o=r.__sentry_transaction;if(o){var i=o.startChild({description:t.name,op:"middleware."+e});r.once("finish",(function(){i.finish()}))}return t.call(this,n,r)};case 3:return function(n,r,o){var i,s=null===(i=r.__sentry_transaction)||void 0===i?void 0:i.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=s)||void 0===t||t.finish(),o.call.apply(o,go([this],e))}))};case 4:return function(n,r,o,i){var s,a=null===(s=o.__sentry_transaction)||void 0===s?void 0:s.startChild({description:t.name,op:"middleware."+e});t.call(this,n,r,o,(function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];null===(t=a)||void 0===t||t.finish(),i.call.apply(i,go([this],e))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function Ra(t,e){return t.map((function(t){return"function"==typeof t?Ia(t,e):Array.isArray(t)?t.map((function(t){return"function"==typeof t?Ia(t,e):t})):t}))}var za,ja=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n;try{n=No(module,"pg").Client}catch(t){return void Ko.error("Postgres Integration was unable to require `pg` package.")}ei(n.prototype,"query",(function(t){return function(n,r,o){var i,s,a=null===(s=null===(i=e().getScope())||void 0===i?void 0:i.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof n?n:n.text,op:"db"});return"function"==typeof o?t.call(this,n,r,(function(t,e){var n;null===(n=a)||void 0===n||n.finish(),o(t,e)})):"function"==typeof r?t.call(this,n,(function(t,e){var n;null===(n=a)||void 0===n||n.finish(),r(t,e)})):t.call(this,n,r).then((function(t){var e;return null===(e=a)||void 0===e||e.finish(),t}))}}))},t.id="Postgres",t}(),La=function(){function t(){this.name=t.id}return t.prototype.setupOnce=function(t,e){var n;try{n=No(module,"mysql/lib/Connection.js")}catch(t){return void Ko.error("Mysql Integration was unable to require `mysql` package.")}ei(n.prototype,"query",(function(t){return function(n,r,o){var i,s,a=null===(s=null===(i=e().getScope())||void 0===i?void 0:i.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof n?n:n.sql,op:"db"});return"function"==typeof o?t.call(this,n,r,(function(t,e,n){var r;null===(r=a)||void 0===r||r.finish(),o(t,e,n)})):"function"==typeof r?t.call(this,n,(function(t,e,n){var o;null===(o=a)||void 0===o||o.finish(),r(t,e,n)})):t.call(this,n,r,o)}}))},t.id="Mysql",t}(),Da=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],Na={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},qa=function(){function t(e){void 0===e&&(e={}),this.name=t.id,this._operations=Array.isArray(e.operations)?e.operations:Da,this._describeOperations=!("describeOperations"in e)||e.describeOperations,this._useMongoose=!!e.useMongoose}return t.prototype.setupOnce=function(t,e){var n,r=this._useMongoose?"mongoose":"mongodb";try{n=No(module,r).Collection}catch(t){return void Ko.error("Mongo Integration was unable to require `"+r+"` package.")}this._instrumentOperations(n,this._operations,e)},t.prototype._instrumentOperations=function(t,e,n){var r=this;e.forEach((function(e){return r._patchOperation(t,e,n)}))},t.prototype._patchOperation=function(t,e,n){if(e in t.prototype){var r=this._getSpanContextFromOperationArguments.bind(this);ei(t.prototype,e,(function(t){return function(){for(var o,i,s,a,c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var u=c[c.length-1],p=n().getScope(),d=null===(o=p)||void 0===o?void 0:o.getSpan();if("function"!=typeof u||"mapReduce"===e&&2===c.length){var f=null===(i=d)||void 0===i?void 0:i.startChild(r(this,e,c)),h=t.call.apply(t,go([this],c));return Eo(h)?h.then((function(t){var e;return null===(e=f)||void 0===e||e.finish(),t})):(null===(s=f)||void 0===s||s.finish(),h)}var m=null===(a=d)||void 0===a?void 0:a.startChild(r(this,e,c.slice(0,-1)));return t.call.apply(t,go([this],c.slice(0,-1),[function(t,e){var n;null===(n=m)||void 0===n||n.finish(),u(t,e)}]))}}))}},t.prototype._getSpanContextFromOperationArguments=function(t,e,n){var r={collectionName:t.collectionName,dbName:t.dbName,namespace:t.namespace},o={op:"db",description:e,data:r},i=Na[e],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(e):this._describeOperations;if(!i||!s)return o;try{if("mapReduce"===e){var a=vo(n,2),c=a[0],l=a[1];r[i[0]]="string"==typeof c?c:c.name||"<anonymous>",r[i[1]]="string"==typeof l?l:l.name||"<anonymous>"}else for(var u=0;u<i.length;u++)r[i[u]]=JSON.stringify(n[u])}catch(t){}return o},t.id="Mongo",t}(),Pa=fo(fo({},Object.freeze({__proto__:null,Express:Oa,Postgres:ja,Mysql:La,Mongo:qa})),{BrowserTracing:Ca});if((za=Mi()).__SENTRY__&&(za.__SENTRY__.extensions=za.__SENTRY__.extensions||{},za.__SENTRY__.extensions.startTransaction||(za.__SENTRY__.extensions.startTransaction=oa),za.__SENTRY__.extensions.traceHeaders||(za.__SENTRY__.extensions.traceHeaders=na)),yi({callback:Vs,type:"error"}),yi({callback:Vs,type:"unhandledrejection"}),"undefined"!=typeof navigator&&"ReactNative"===navigator.product&&"undefined"==typeof crypto)throw new Error("React Native does not have a built-in secure random generator. If you donâ€™t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID. If you use Expo, install `expo-random` and use `nanoid/async`.");if("undefined"!=typeof msCrypto&&"undefined"==typeof crypto)throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if("undefined"==typeof crypto)throw new Error("Your browser does not have secure random generator. If you donâ€™t need unpredictable IDs, you can use nanoid/non-secure.");let Ua=t=>crypto.getRandomValues(new Uint8Array(t));!function(t){if(void 0===t&&(t={}),void 0===t.defaultIntegrations&&(t.defaultIntegrations=Ws),void 0===t.release){var e=Mo();e.SENTRY_RELEASE&&e.SENTRY_RELEASE.id&&(t.release=e.SENTRY_RELEASE.id)}void 0===t.autoSessionTracking&&(t.autoSessionTracking=!0),t._metadata=t._metadata||{},t._metadata.sdk={name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:as}],version:as},function(t,e){!0===e.debug&&Ko.enable();var n=Bi(),r=new t(e);n.bindClient(r)}(Hs,t),t.autoSessionTracking&&function(){if(void 0===Mo().document)return void Ko.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");var t=Bi();t.startSession(),t.captureSession(),yi({callback:function(){t.startSession(),t.captureSession()},type:"history"})}()}({dsn:"https://0ed5871989214c1ea8393862f38c626f@o530304.ingest.sentry.io/5649635",integrations:[new Pa.BrowserTracing],tracesSampleRate:1});const Aa=((t,e)=>((t,e,n)=>{let r=(2<<Math.log(t.length-1)/Math.LN2)-1,o=-~(1.6*r*e/t.length);return()=>{let i="";for(;;){let s=n(o),a=o;for(;a--;)if(i+=t[s[a]&r]||"",i.length===e)return i}}})(t,e,Ua))("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",10);function Ma(e){let n,r,o,i,s,a,c,l,u,p,d;return{c(){n=S("div"),r=S("div"),r.textContent="Make Customized Design",o=C(),i=S("hr"),s=C(),a=S("div"),a.textContent="Unify give you the possibility to contact our designers to Make your\n        future customized Design for your merch",c=C(),l=S("div"),u=T("Contact us at "),p=S("a"),d=T("contact@unify.tn"),j(r,"class","title svelte-16uyal2"),j(a,"class","paragraph svelte-16uyal2"),j(p,"href","mailto: contact@unify.tn"),N(p,"color",e[0],1),j(l,"class","paragraph svelte-16uyal2"),j(n,"class","container svelte-16uyal2")},m(t,e){w(t,n,e),$(n,r),$(n,o),$(n,i),$(n,s),$(n,a),$(n,c),$(n,l),$(l,u),$(l,p),$(p,d)},p(t,[e]){1&e&&N(p,"color",t[0],1)},i:t,o:t,d(t){t&&x(n)}}}function Fa(t,e,n){let r;return l(t,ne,(t=>n(0,r=t))),[r]}!function(){let t=localStorage.getItem("cart")||"{}";try{t=JSON.parse(t)}catch{t={cartID:Aa(),items:{}}}console.log(t),null==t.cartID&&(t.cartID=Aa(),localStorage.setItem("cart",JSON.stringify(t))),null==t.items&&(t.items=[]),console.log(t);const{subscribe:e,set:n,update:r}=It(t)}();class Ba extends Ct{constructor(t){super(),Tt(this,t,Fa,Ma,a,{})}}function Ha(t){let e,n;return{c(){e=S("div"),n=T(t[0]),j(e,"class","error-container svelte-1v6pbts")},m(t,r){w(t,e,r),$(e,n)},p(t,e){1&e&&L(n,t[0])},d(t){t&&x(e)}}}function Wa(t){let e;return{c(){e=S("div"),e.textContent="Email Sent",j(e,"class","success-container svelte-1v6pbts")},m(t,n){w(t,e,n)},d(t){t&&x(e)}}}function Xa(e){let n,r,o,s,a,c,l,u,p,d,f,h,v,g,y,_,b,k,E,T,O,z,L=e[0]&&Ha(e),D=e[2]&&Wa();return{c(){n=S("div"),r=S("a"),r.innerHTML='<img src="/imgs/logo.png" alt="logo" class="svelte-1v6pbts"/>Unify',o=C(),s=S("div"),s.textContent="Write your email",a=C(),L&&L.c(),c=C(),D&&D.c(),l=C(),u=S("div"),p=S("div"),d=S("i"),f=C(),h=S("input"),v=C(),g=S("div"),y=S("div"),_=S("button"),_.textContent="Send",b=C(),k=S("div"),E=C(),T=S("div"),j(r,"href","/"),j(r,"class","u_logo svelte-1v6pbts"),j(s,"class","title svelte-1v6pbts"),j(d,"class","far fa-envelope svelte-1v6pbts"),j(h,"type","email"),j(h,"class","verification svelte-1v6pbts"),j(h,"placeholder","Email"),j(p,"class","input"),j(u,"class","inputContainer svelte-1v6pbts"),j(_,"class","send_btn svelte-1v6pbts"),j(y,"class","send"),j(g,"class","verification_btns svelte-1v6pbts"),j(k,"class","circle_top svelte-1v6pbts"),j(T,"class","circle_bottom svelte-1v6pbts"),j(n,"class","left_side svelte-1v6pbts")},m(t,i){w(t,n,i),$(n,r),$(n,o),$(n,s),$(n,a),L&&L.m(n,null),$(n,c),D&&D.m(n,null),$(n,l),$(n,u),$(u,p),$(p,d),$(p,f),$(p,h),e[4](h),$(n,v),$(n,g),$(g,y),$(y,_),$(n,b),$(n,k),$(n,E),$(n,T),O||(z=[m(ee.call(null,r)),I(p,"submit",R(e[3])),I(_,"click",e[3])],O=!0)},p(t,[e]){t[0]?L?L.p(t,e):(L=Ha(t),L.c(),L.m(n,c)):L&&(L.d(1),L=null),t[2]?D||(D=Wa(),D.c(),D.m(n,l)):D&&(D.d(1),D=null)},i:t,o:t,d(t){t&&x(n),L&&L.d(),D&&D.d(),e[4](null),O=!1,i(z)}}}function Ya(t,e,n){let r,o,i=!1;X((()=>{document.title="Unify Creator - Password Reset"}));return[r,o,i,async()=>{n(2,i=!1),await ve.sendPasswordResetEmail(o.value).then((()=>{n(2,i=!0)})).catch((t=>{n(0,r=t.message),n(2,i=!1)}))},function(t){Q[t?"unshift":"push"]((()=>{o=t,n(1,o)}))}]}class Ga extends Ct{constructor(t){super(),Tt(this,t,Ya,Xa,a,{})}}const Ja=t=>{t=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((t,e,n,r)=>e+e+n+n+r+r));const e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]:null};function Va(t,e,n){const r=t.slice();return r[11]=e[n],r}function Ka(t){let e,n,r,o,s,a,c,l,u,p,d,f,h,v,g,y,_,b,E,O,R,z,L,D,P,U,A,M=t[4]&&Qa(t);function F(t,e){return t[2].docData&&t[2].docData.name?tc:Za}let B=F(t),H=B(t),W=t[1],X=[];for(let e=0;e<W.length;e+=1)X[e]=ec(Va(t,W,e));return{c(){e=S("nav"),M&&M.c(),n=C(),r=S("div"),o=S("a"),s=S("div"),a=S("div"),c=S("img"),u=C(),p=S("div"),H.c(),d=C(),f=S("div"),h=S("img"),g=C(),y=S("div"),y.textContent="UNIFY",_=C(),b=S("div");for(let t=0;t<X.length;t+=1)X[t].c();E=C(),O=S("div"),R=S("img"),L=C(),D=S("div"),P=T("Logout"),c.src!==(l=t[7](t[2]))&&j(c,"src",l),j(c,"alt","user"),j(c,"class","svelte-1hyn4q2"),j(a,"class","u-profile-pic svelte-1hyn4q2"),q(a,"no-margin",t[3]),j(p,"class","u-name svelte-1hyn4q2"),q(p,"hidden",t[3]),j(s,"class","u-info svelte-1hyn4q2"),q(s,"justify-center",t[3]),j(o,"href","/profile"),j(o,"class","svelte-1hyn4q2"),j(r,"class","user-card svelte-1hyn4q2"),q(r,"justify-center",t[3]),q(r,"no-padding",t[3]),j(h,"class","unify-logo svelte-1hyn4q2"),h.src!==(v="/logo.png")&&j(h,"src","/logo.png"),j(h,"alt","unify-logo"),j(y,"class","unify-text svelte-1hyn4q2"),q(y,"hidden",t[3]),j(f,"class","u-unify svelte-1hyn4q2"),q(f,"justify-center",t[3]),j(b,"class","navs svelte-1hyn4q2"),j(R,"class","logout-icon svelte-1hyn4q2"),R.src!==(z="/imgs/misc/nav/logout.png")&&j(R,"src","/imgs/misc/nav/logout.png"),j(R,"alt","logout"),j(D,"class","logout-text svelte-1hyn4q2"),N(D,"background",t[5]),q(D,"hidden",t[3]),N(O,"background",t[5]),j(O,"class","signout svelte-1hyn4q2"),q(O,"justify-center",t[3]),j(e,"class","svelte-1hyn4q2"),q(e,"collapse",t[3]),q(e,"noCollapse",!t[3])},m(i,l){w(i,e,l),M&&M.m(e,null),$(e,n),$(e,r),$(r,o),$(o,s),$(s,a),$(a,c),$(s,u),$(s,p),H.m(p,null),$(e,d),$(e,f),$(f,h),$(f,g),$(f,y),$(e,_),$(e,b);for(let t=0;t<X.length;t+=1)X[t].m(b,null);$(e,E),$(e,O),$(O,R),$(O,L),$(O,D),$(D,P),U||(A=[m(ee.call(null,o)),I(O,"click",t[8])],U=!0)},p(t,o){if(t[4]?M?M.p(t,o):(M=Qa(t),M.c(),M.m(e,n)):M&&(M.d(1),M=null),4&o&&c.src!==(l=t[7](t[2]))&&j(c,"src",l),8&o&&q(a,"no-margin",t[3]),B===(B=F(t))&&H?H.p(t,o):(H.d(1),H=B(t),H&&(H.c(),H.m(p,null))),8&o&&q(p,"hidden",t[3]),8&o&&q(s,"justify-center",t[3]),8&o&&q(r,"justify-center",t[3]),8&o&&q(r,"no-padding",t[3]),8&o&&q(y,"hidden",t[3]),8&o&&q(f,"justify-center",t[3]),43&o){let e;for(W=t[1],e=0;e<W.length;e+=1){const n=Va(t,W,e);X[e]?X[e].p(n,o):(X[e]=ec(n),X[e].c(),X[e].m(b,null))}for(;e<X.length;e+=1)X[e].d(1);X.length=W.length}32&o&&N(D,"background",t[5]),8&o&&q(D,"hidden",t[3]),32&o&&N(O,"background",t[5]),8&o&&q(O,"justify-center",t[3]),8&o&&q(e,"collapse",t[3]),8&o&&q(e,"noCollapse",!t[3])},d(t){t&&x(e),M&&M.d(),H.d(),k(X,t),U=!1,i(A)}}}function Qa(t){let e,n,r,o,i;return{c(){e=S("div"),n=S("img"),n.src!==(r="/imgs/misc/nav/caret.png")&&j(n,"src","/imgs/misc/nav/caret.png"),j(n,"alt","caret"),j(n,"class","svelte-1hyn4q2"),q(n,"reverse",t[3]),j(e,"class","resize-button svelte-1hyn4q2"),q(e,"reverse",t[3])},m(r,s){w(r,e,s),$(e,n),o||(i=I(e,"click",t[6]),o=!0)},p(t,r){8&r&&q(n,"reverse",t[3]),8&r&&q(e,"reverse",t[3])},d(t){t&&x(e),o=!1,i()}}}function Za(e){let n;return{c(){n=T("Update Name")},m(t,e){w(t,n,e)},p:t,d(t){t&&x(n)}}}function tc(t){let e,n=t[2].docData.name+"";return{c(){e=T(n)},m(t,n){w(t,e,n)},p(t,r){4&r&&n!==(n=t[2].docData.name+"")&&L(e,n)},d(t){t&&x(e)}}}function ec(t){let e,n,r,o,i,s,a,c,l,u,p=t[11].name+"";return{c(){e=S("a"),n=S("img"),o=C(),i=S("div"),s=T(p),a=C(),j(n,"class","nav-item-img svelte-1hyn4q2"),n.src!==(r=t[11].img)&&j(n,"src",r),j(n,"alt","item img"),q(n,"no-margin",t[3]),j(i,"class","nav-item-name svelte-1hyn4q2"),q(i,"hidden",t[3]),j(e,"href",c=t[11].path),N(e,"color",t[5]),N(e,"background-color",t[0]==t[11].routerLink?"rgba("+Ja(t[5])+",0.4)":""),j(e,"class","u-nav-item svelte-1hyn4q2"),q(e,"justify-center",t[3]),q(e,"active",t[0]==t[11].routerLink)},m(t,r){w(t,e,r),$(e,n),$(e,o),$(e,i),$(i,s),$(e,a),l||(u=m(ee.call(null,e)),l=!0)},p(t,o){2&o&&n.src!==(r=t[11].img)&&j(n,"src",r),8&o&&q(n,"no-margin",t[3]),2&o&&p!==(p=t[11].name+"")&&L(s,p),8&o&&q(i,"hidden",t[3]),2&o&&c!==(c=t[11].path)&&j(e,"href",c),32&o&&N(e,"color",t[5]),35&o&&N(e,"background-color",t[0]==t[11].routerLink?"rgba("+Ja(t[5])+",0.4)":""),8&o&&q(e,"justify-center",t[3]),3&o&&q(e,"active",t[0]==t[11].routerLink)},d(t){t&&x(e),l=!1,u()}}}function nc(e){let n,r=!["/login","/register","/forgotpassword","/phoneverification"].includes(e[0]),o=r&&Ka(e);return{c(){o&&o.c(),n=O()},m(t,e){o&&o.m(t,e),w(t,n,e)},p(t,[e]){1&e&&(r=!["/login","/register","/forgotpassword","/phoneverification"].includes(t[0])),r?o?o.p(t,e):(o=Ka(t),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:t,o:t,d(t){o&&o.d(t),t&&x(n)}}}function rc(t,e,n){let r,o,i,s;l(t,ge,(t=>n(2,r=t))),l(t,re,(t=>n(3,o=t))),l(t,oe,(t=>n(4,i=t))),l(t,ne,(t=>n(5,s=t)));let{activeURI:a}=e;console.log(r);const c=[{name:"Overview",routerLink:"/",path:"/",img:"/imgs/misc/nav/dashboard.png"},{name:"Profile",routerLink:"/profile",path:"/profile",img:"/imgs/misc/nav/profile.png"},{name:"Store",routerLink:"/merch",path:"/merch/all",img:"/imgs/misc/nav/store.png"},{name:"Design",routerLink:"/design",path:"/design",img:"/imgs/misc/nav/design.png"}],u=[{name:"Overview",routerLink:"/",path:"/",img:"/imgs/misc/nav/dashboard.png"},{name:"Profile",routerLink:"/profile",path:"/profile",img:"/imgs/misc/nav/profile.png"},{name:"Design",routerLink:"/design",path:"/design",img:"/imgs/misc/nav/design.png"}];let p=window.innerWidth<1180?u:c;window.onresize=()=>{n(1,p=window.innerWidth<1180?u:c)};return t.$$set=t=>{"activeURI"in t&&n(0,a=t.activeURI)},[a,p,r,o,i,s,()=>{console.log(o),h(re,o=!o,o)},()=>r.docData&&r.docData.logo&&r.docData.logo.length>0?le(r.docData.logo,"creators/"+r.claims.username+"/logo"):"/imgs/misc/nav/user.png",()=>{firebase.auth().signOut()}]}class oc extends Ct{constructor(t){super(),Tt(this,t,rc,nc,a,{activeURI:0})}}function ic(t){const e=t-1;return e*e*e+1}function sc(t,{delay:n=0,duration:r=400,easing:o=e}={}){const i=+getComputedStyle(t).opacity;return{delay:n,duration:r,easing:o,css:t=>"opacity: "+t*i}}function ac(t,{delay:e=0,duration:n=400,easing:r=ic,x:o=0,y:i=0,opacity:s=0}={}){const a=getComputedStyle(t),c=+a.opacity,l="none"===a.transform?"":a.transform,u=c*(1-s);return{delay:e,duration:n,easing:r,css:(t,e)=>`\n\t\t\ttransform: ${l} translate(${(1-t)*o}px, ${(1-t)*i}px);\n\t\t\topacity: ${c-u*e}`}}function cc(t,e,n){const r=t.slice();return r[6]=e[n],r}function lc(t,e){let n,r,o,i,s,a,c,l,u,p,d,f,h,m,v,g,y,_=e[6].data.title+"",b=e[6].data.content+"";function k(){return e[2](e[6])}return{key:t,first:null,c(){n=S("div"),r=S("div"),i=C(),s=S("div"),a=S("div"),c=T(_),l=C(),u=S("div"),p=T(b),d=C(),f=S("div"),f.textContent="Dismiss",h=C(),j(r,"class","u-t-band svelte-1vkqyid"),j(r,"style",o="background: "+e[6].data.accentColor+";"),j(a,"class","u-t-title svelte-1vkqyid"),j(u,"class","u-t-text svelte-1vkqyid"),j(s,"class","u-t-content svelte-1vkqyid"),j(f,"class","u-t-action svelte-1vkqyid"),j(n,"class","u-toast shadow-6 svelte-1vkqyid"),this.first=n},m(t,e){w(t,n,e),$(n,r),$(n,i),$(n,s),$(s,a),$(a,c),$(s,l),$(s,u),$(u,p),$(n,d),$(n,f),$(n,h),v=!0,g||(y=I(f,"click",k),g=!0)},p(t,n){e=t,(!v||1&n&&o!==(o="background: "+e[6].data.accentColor+";"))&&j(r,"style",o),(!v||1&n)&&_!==(_=e[6].data.title+"")&&L(c,_),(!v||1&n)&&b!==(b=e[6].data.content+"")&&L(p,b)},i(t){v||(rt((()=>{m||(m=yt(n,ac,{x:200,duration:300},!0)),m.run(1)})),v=!0)},o(t){m||(m=yt(n,ac,{x:200,duration:300},!1)),m.run(0),v=!1},d(t){t&&x(n),t&&m&&m.end(),g=!1,y()}}}function uc(t){let e,n,r=[],o=new Map,i=t[0];const s=t=>t[6].num;for(let e=0;e<i.length;e+=1){let n=cc(t,i,e),a=s(n);o.set(a,r[e]=lc(a,n))}return{c(){e=S("div");for(let t=0;t<r.length;t+=1)r[t].c();j(e,"class","u-notifications svelte-1vkqyid")},m(t,o){w(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[n]){3&n&&(i=t[0],ft(),r=function(t,e,n,r,o,i,s,a,c,l,u,p){let d=t.length,f=i.length,h=d;const m={};for(;h--;)m[t[h].key]=h;const v=[],g=new Map,y=new Map;for(h=f;h--;){const t=p(o,i,h),a=n(t);let c=s.get(a);c?r&&c.p(t,e):(c=l(a,t),c.c()),g.set(a,v[h]=c),a in m&&y.set(a,Math.abs(h-m[a]))}const _=new Set,b=new Set;function $(t){mt(t,1),t.m(a,u),s.set(t.key,t),u=t.first,f--}for(;d&&f;){const e=v[f-1],n=t[d-1],r=e.key,o=n.key;e===n?(u=e.first,d--,f--):g.has(o)?!s.has(r)||_.has(r)?$(e):b.has(o)?d--:y.get(r)>y.get(o)?(b.add(r),$(e)):(_.add(o),d--):(c(n,s),d--)}for(;d--;){const e=t[d];g.has(e.key)||c(e,s)}for(;f;)$(v[f-1]);return v}(r,n,s,1,t,i,o,e,bt,lc,null,cc),ht())},i(t){if(!n){for(let t=0;t<i.length;t+=1)mt(r[t]);n=!0}},o(t){for(let t=0;t<r.length;t+=1)vt(r[t]);n=!1},d(t){t&&x(e);for(let t=0;t<r.length;t+=1)r[t].d()}}}function pc(t,e,n){let r=[],o=0;const i={alert:"#f5b353",error:"#e26d8e",success:"#4aba73"};pe.subscribe((t=>{if(0==t)return;o++,i[t.accentColor]&&(t.accentColor=i[t.accentColor]);let e={num:o,data:t},a=setTimeout((()=>{s(e)}),6e3);e.timer=a,n(0,r=[e,...r])}));let s=t=>{clearTimeout(t.timer),n(0,r=r.filter((e=>e.num!=t.num)))};return[r,s,t=>{s(t)}]}class dc extends Ct{constructor(t){super(),Tt(this,t,pc,uc,a,{})}}function fc(t,e,n){const r=t.slice();return r[7]=e[n],r}function hc(t){let e,n,r,o,i,s,a,c,l,u,p,d,f,h=t[1].title+"",m=t[1].desc+"",v=t[1].buttons,g=[];for(let e=0;e<v.length;e+=1)g[e]=mc(fc(t,v,e));return{c(){e=S("div"),n=S("div"),r=S("div"),o=T(h),i=C(),s=S("p"),a=T(m),c=C(),l=S("div");for(let t=0;t<g.length;t+=1)g[t].c();j(r,"class","u-title svelte-hrgm1i"),j(s,"class","u-desc svelte-hrgm1i"),j(l,"class","u-buttons svelte-hrgm1i"),j(n,"class","u-box svelte-hrgm1i"),j(e,"class","u-overlay svelte-hrgm1i")},m(u,h){w(u,e,h),$(e,n),$(n,r),$(r,o),$(n,i),$(n,s),$(s,a),$(n,c),$(n,l);for(let t=0;t<g.length;t+=1)g[t].m(l,null);t[3](e),p=!0,d||(f=I(n,"click",z(R(t[2]))),d=!0)},p(t,e){if((!p||2&e)&&h!==(h=t[1].title+"")&&L(o,h),(!p||2&e)&&m!==(m=t[1].desc+"")&&L(a,m),2&e){let n;for(v=t[1].buttons,n=0;n<v.length;n+=1){const r=fc(t,v,n);g[n]?g[n].p(r,e):(g[n]=mc(r),g[n].c(),g[n].m(l,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=v.length}},i(t){p||(rt((()=>{u||(u=yt(e,sc,{duration:150},!0)),u.run(1)})),p=!0)},o(t){u||(u=yt(e,sc,{duration:150},!1)),u.run(0),p=!1},d(n){n&&x(e),k(g,n),t[3](null),n&&u&&u.end(),d=!1,f()}}}function mc(t){let e,n,r,o,i,s=t[7].name+"";return{c(){e=S("div"),n=T(s),r=C(),j(e,"data-res",o=t[7].value),j(e,"class","u-over-button svelte-hrgm1i"),j(e,"style",i="background-color:"+t[7].color)},m(t,o){w(t,e,o),$(e,n),$(e,r)},p(t,r){2&r&&s!==(s=t[7].name+"")&&L(n,s),2&r&&o!==(o=t[7].value)&&j(e,"data-res",o),2&r&&i!==(i="background-color:"+t[7].color)&&j(e,"style",i)},d(t){t&&x(e)}}}function vc(t){let e,n,r=t[1]&&hc(t);return{c(){r&&r.c(),e=O()},m(t,o){r&&r.m(t,o),w(t,e,o),n=!0},p(t,[n]){t[1]?r?(r.p(t,n),2&n&&mt(r,1)):(r=hc(t),r.c(),mt(r,1),r.m(e.parentNode,e)):r&&(ft(),vt(r,1,1,(()=>{r=null})),ht())},i(t){n||(mt(r),n=!0)},o(t){vt(r),n=!1},d(t){r&&r.d(t),t&&x(e)}}}function gc(t,e,n){let r,o,i=[],s={ok:"#46b978",danger:"#d23149"};return de.set((async t=>{let e=new Promise((async(e,a)=>{await Promise.all(i);for(let e of t.buttons)s[e.color]&&(e.color=s[e.color]);n(1,o=t),setTimeout((()=>{r.addEventListener("click",(r=>{r.target===r.currentTarget&&(r.stopPropagation(),console.log("from overlay"),e(t.buttons[t.buttons.length-1].value),n(1,o=void 0))}),{once:!0,capture:!0});for(let t of[...document.querySelectorAll(".u-overlay .u-buttons")])t.addEventListener("click",(t=>{t.stopPropagation(),console.log("ending button"),e(t.target.dataset.res),n(1,o=void 0)}),{once:!0,capture:!0})}),130)}));return i.push(e),e})),[r,o,function(e){V(t,e)},function(t){Q[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}class yc extends Ct{constructor(t){super(),Tt(this,t,gc,vc,a,{})}}function _c(t){let e,n,r,o,i,s,a;return{c(){e=S("div"),n=S("span"),r=C(),o=S("img"),j(o,"class","u-close svelte-1k1qbp2"),o.src!==(i="/imgs/misc/close-white-bold.png")&&j(o,"src","/imgs/misc/close-white-bold.png"),j(o,"alt","close"),j(e,"class","u-notification-banner svelte-1k1qbp2")},m(i,c){w(i,e,c),$(e,n),n.innerHTML=t[1],$(e,r),$(e,o),s||(a=I(o,"click",t[2]),s=!0)},p(t,e){2&e&&(n.innerHTML=t[1])},d(t){t&&x(e),s=!1,a()}}}function bc(e){let n,r=!e[0]&&_c(e);return{c(){r&&r.c(),n=O()},m(t,e){r&&r.m(t,e),w(t,n,e)},p(t,[e]){t[0]?r&&(r.d(1),r=null):r?r.p(t,e):(r=_c(t),r.c(),r.m(n.parentNode,n))},i:t,o:t,d(t){r&&r.d(t),t&&x(n)}}}function $c(t,e,n){let{text:r=""}=e,{closed:o=!1}=e;return t.$$set=t=>{"text"in t&&n(1,r=t.text),"closed"in t&&n(0,o=t.closed)},[o,r,()=>{n(0,o=!0)}]}class wc extends Ct{constructor(t){super(),Tt(this,t,$c,bc,a,{text:1,closed:0})}}function xc(t){let e,n,r;function o(e){t[5](e)}let i={text:t[3]};return void 0!==t[4]&&(i.closed=t[4]),e=new wc({props:i}),Q.push((()=>wt(e,"closed",o))),{c(){xt(e.$$.fragment)},m(t,n){kt(e,t,n),r=!0},p(t,r){const o={};8&r&&(o.text=t[3]),!n&&16&r&&(n=!0,o.closed=t[4],ot((()=>n=!1))),e.$set(o)},i(t){r||(mt(e.$$.fragment,t),r=!0)},o(t){vt(e.$$.fragment,t),r=!1},d(t){St(e,t)}}}function kc(t){let e,n;return e=new Ge({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Sc(t){let e,n;return e=new cn({props:{$$slots:{default:[kc]},$$scope:{ctx:t}}}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Ec(t){let e,n;return e=new Lr({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Tc(t){let e,n;return e=new cn({props:{$$slots:{default:[Ec]},$$scope:{ctx:t}}}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Cc(t){let e,n;return e=new mr({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Oc(t){let e,n;return e=new cn({props:{$$slots:{default:[Cc]},$$scope:{ctx:t}}}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Ic(t){let e,n;return e=new Ba({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Rc(t){let e,n;return e=new cn({props:{$$slots:{default:[Ic]},$$scope:{ctx:t}}}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},p(t,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function zc(t){let e,n;return e=new qr({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function jc(t){let e,n;return e=new Wr({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Lc(t){let e,n;return e=new nn({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Dc(t){let e,n;return e=new io({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Nc(t){let e,n;return e=new Ga({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function qc(t){let e,n;return e=new ke({}),{c(){xt(e.$$.fragment)},m(t,r){kt(e,t,r),n=!0},i(t){n||(mt(e.$$.fragment,t),n=!0)},o(t){vt(e.$$.fragment,t),n=!1},d(t){St(e,t)}}}function Pc(t){let e,n,r,o,i,s,a,c,l,u,p,d,f,h,m,v,g,y,_,b;return e=new te({props:{path:"/",$$slots:{default:[Sc]},$$scope:{ctx:t}}}),r=new te({props:{path:"/profile",$$slots:{default:[Tc]},$$scope:{ctx:t}}}),i=new te({props:{path:"/merch/*",$$slots:{default:[Oc]},$$scope:{ctx:t}}}),a=new te({props:{path:"/design",$$slots:{default:[Rc]},$$scope:{ctx:t}}}),l=new te({props:{path:"/test",$$slots:{default:[zc]},$$scope:{ctx:t}}}),p=new te({props:{path:"/register",$$slots:{default:[jc]},$$scope:{ctx:t}}}),f=new te({props:{path:"/login",$$slots:{default:[Lc]},$$scope:{ctx:t}}}),m=new te({props:{path:"/phoneverification",$$slots:{default:[Dc]},$$scope:{ctx:t}}}),g=new te({props:{path:"/forgotpassword",$$slots:{default:[Nc]},$$scope:{ctx:t}}}),_=new te({props:{path:"*",$$slots:{default:[qc]},$$scope:{ctx:t}}}),{c(){xt(e.$$.fragment),n=C(),xt(r.$$.fragment),o=C(),xt(i.$$.fragment),s=C(),xt(a.$$.fragment),c=C(),xt(l.$$.fragment),u=C(),xt(p.$$.fragment),d=C(),xt(f.$$.fragment),h=C(),xt(m.$$.fragment),v=C(),xt(g.$$.fragment),y=C(),xt(_.$$.fragment)},m(t,$){kt(e,t,$),w(t,n,$),kt(r,t,$),w(t,o,$),kt(i,t,$),w(t,s,$),kt(a,t,$),w(t,c,$),kt(l,t,$),w(t,u,$),kt(p,t,$),w(t,d,$),kt(f,t,$),w(t,h,$),kt(m,t,$),w(t,v,$),kt(g,t,$),w(t,y,$),kt(_,t,$),b=!0},p(t,n){const o={};128&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const s={};128&n&&(s.$$scope={dirty:n,ctx:t}),r.$set(s);const c={};128&n&&(c.$$scope={dirty:n,ctx:t}),i.$set(c);const u={};128&n&&(u.$$scope={dirty:n,ctx:t}),a.$set(u);const d={};128&n&&(d.$$scope={dirty:n,ctx:t}),l.$set(d);const h={};128&n&&(h.$$scope={dirty:n,ctx:t}),p.$set(h);const v={};128&n&&(v.$$scope={dirty:n,ctx:t}),f.$set(v);const y={};128&n&&(y.$$scope={dirty:n,ctx:t}),m.$set(y);const b={};128&n&&(b.$$scope={dirty:n,ctx:t}),g.$set(b);const $={};128&n&&($.$$scope={dirty:n,ctx:t}),_.$set($)},i(t){b||(mt(e.$$.fragment,t),mt(r.$$.fragment,t),mt(i.$$.fragment,t),mt(a.$$.fragment,t),mt(l.$$.fragment,t),mt(p.$$.fragment,t),mt(f.$$.fragment,t),mt(m.$$.fragment,t),mt(g.$$.fragment,t),mt(_.$$.fragment,t),b=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(i.$$.fragment,t),vt(a.$$.fragment,t),vt(l.$$.fragment,t),vt(p.$$.fragment,t),vt(f.$$.fragment,t),vt(m.$$.fragment,t),vt(g.$$.fragment,t),vt(_.$$.fragment,t),b=!1},d(t){St(e,t),t&&x(n),St(r,t),t&&x(o),St(i,t),t&&x(s),St(a,t),t&&x(c),St(l,t),t&&x(u),St(p,t),t&&x(d),St(f,t),t&&x(h),St(m,t),t&&x(v),St(g,t),t&&x(y),St(_,t)}}}function Uc(t){let e,n,r,o,i,s,a,c,l,u,p,d;e=new dc({}),r=new yc({}),s=new oc({props:{activeURI:t[2]}});let f=t[3]&&xc(t);function h(e){t[6](e)}let m={url:t[0],$$slots:{default:[Pc]},$$scope:{ctx:t}};return void 0!==t[1]&&(m.activeRoute=t[1]),u=new Xt({props:m}),Q.push((()=>wt(u,"activeRoute",h))),{c(){xt(e.$$.fragment),n=C(),xt(r.$$.fragment),o=C(),i=S("div"),xt(s.$$.fragment),a=C(),c=S("div"),f&&f.c(),l=C(),xt(u.$$.fragment),j(c,"class","u-view-container svelte-qtdd40"),j(i,"class","app-container svelte-qtdd40")},m(t,p){kt(e,t,p),w(t,n,p),kt(r,t,p),w(t,o,p),w(t,i,p),kt(s,i,null),$(i,a),$(i,c),f&&f.m(c,null),$(c,l),kt(u,c,null),d=!0},p(t,[e]){const n={};4&e&&(n.activeURI=t[2]),s.$set(n),t[3]?f?(f.p(t,e),8&e&&mt(f,1)):(f=xc(t),f.c(),mt(f,1),f.m(c,l)):f&&(ft(),vt(f,1,1,(()=>{f=null})),ht());const r={};1&e&&(r.url=t[0]),128&e&&(r.$$scope={dirty:e,ctx:t}),!p&&2&e&&(p=!0,r.activeRoute=t[1],ot((()=>p=!1))),u.$set(r)},i(t){d||(mt(e.$$.fragment,t),mt(r.$$.fragment,t),mt(s.$$.fragment,t),mt(f),mt(u.$$.fragment,t),d=!0)},o(t){vt(e.$$.fragment,t),vt(r.$$.fragment,t),vt(s.$$.fragment,t),vt(f),vt(u.$$.fragment,t),d=!1},d(t){St(e,t),t&&x(n),St(r,t),t&&x(o),t&&x(i),St(s),f&&f.d(),St(u)}}}function Ac(t,e,n){let r,o,{url:i=""}=e,s="",a=!1;return X((()=>{ge.subscribe((t=>{0==t||"init"==t||(console.log(t.docData?.storeEnabled),console.log(a),0==t.docData?.storeEnabled&&!1===a&&(console.log("inside"),n(3,s='This store is currently disabled, if this is your first time using our service this will be resolved shortly. Otherwise <a class="underlined" href="mailto:contact@unify.tn">contact us</a> for more information.')))})),r.subscribe((t=>{n(2,o=t.uri),console.log(o)})),setTimeout((()=>{let t=document.getElementById("logo-loader");t.parentNode.removeChild(t)}),1e3)})),t.$$set=t=>{"url"in t&&n(0,i=t.url)},[i,r,o,s,a,function(t){a=t,n(4,a)},function(t){r=t,n(1,r)}]}return new class extends Ct{constructor(t){super(),Tt(this,t,Ac,Uc,a,{url:0})}}({target:document.body,props:{name:"world"}})}();
