var app=function(){"use strict";function e(){}const t=e=>e;function n(e,t){for(const n in t)e[n]=t[n];return e}function r(e){return e()}function o(){return Object.create(null)}function i(e){e.forEach(r)}function s(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function c(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function l(e,t,n){e.$$.on_destroy.push(c(t,n))}function u(e,t,n,r){if(e){const o=d(e,t,n,r);return e[0](o)}}function d(e,t,r,o){return e[1]&&o?n(r.ctx.slice(),e[1](o(t))):r.ctx}function p(e,t,n,r,o,i,s){const a=function(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}(t,r,o,i);if(a){const o=d(t,n,r,s);e.p(o,a)}}function f(e){const t={};for(const n in e)"$"!==n[0]&&(t[n]=e[n]);return t}function m(e,t,n=t){return e.set(n),t}function h(t){return t&&s(t.destroy)?t.destroy:e}const v="undefined"!=typeof window;let g=v?()=>window.performance.now():()=>Date.now(),y=v?e=>requestAnimationFrame(e):e;const _=new Set;function b(e){_.forEach((t=>{t.c(e)||(_.delete(t),t.f())})),0!==_.size&&y(b)}function $(e,t){e.appendChild(t)}function w(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode.removeChild(e)}function k(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function S(e){return document.createElement(e)}function E(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function T(e){return document.createTextNode(e)}function C(){return T(" ")}function O(){return T("")}function I(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function z(e){return function(t){return t.preventDefault(),e.call(this,t)}}function R(e){return function(t){return t.stopPropagation(),e.call(this,t)}}function j(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function L(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function D(e,t){e.value=null==t?"":t}function N(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function P(e,t,n){e.classList[n?"add":"remove"](t)}function q(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}const U=new Set;let M,A=0;function F(e,t,n,r,o,i,s,a=0){const c=16.666/r;let l="{\n";for(let e=0;e<=1;e+=c){const r=t+(n-t)*i(e);l+=100*e+`%{${s(r,1-r)}}\n`}const u=l+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${a}`,p=e.ownerDocument;U.add(p);const f=p.__svelte_stylesheet||(p.__svelte_stylesheet=p.head.appendChild(S("style")).sheet),m=p.__svelte_rules||(p.__svelte_rules={});m[d]||(m[d]=!0,f.insertRule(`@keyframes ${d} ${u}`,f.cssRules.length));const h=e.style.animation||"";return e.style.animation=`${h?`${h}, `:""}${d} ${r}ms linear ${o}ms 1 both`,A+=1,d}function B(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),A-=o,A||y((()=>{A||(U.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),U.clear())})))}function H(e){M=e}function W(){if(!M)throw new Error("Function called outside component initialization");return M}function X(e){W().$$.on_mount.push(e)}function Y(e){W().$$.on_destroy.push(e)}function G(e,t){W().$$.context.set(e,t)}function J(e){return W().$$.context.get(e)}function V(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e(t)))}const K=[],Q=[],Z=[],ee=[],te=Promise.resolve();let ne=!1;function re(e){Z.push(e)}function oe(e){ee.push(e)}let ie=!1;const se=new Set;function ae(){if(!ie){ie=!0;do{for(let e=0;e<K.length;e+=1){const t=K[e];H(t),ce(t.$$)}for(H(null),K.length=0;Q.length;)Q.pop()();for(let e=0;e<Z.length;e+=1){const t=Z[e];se.has(t)||(se.add(t),t())}Z.length=0}while(K.length);for(;ee.length;)ee.pop()();ne=!1,ie=!1,se.clear()}}function ce(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(re)}}let le;function ue(e,t,n){e.dispatchEvent(q(`${t?"intro":"outro"}${n}`))}const de=new Set;let pe;function fe(){pe={r:0,c:[],p:pe}}function me(){pe.r||i(pe.c),pe=pe.p}function he(e,t){e&&e.i&&(de.delete(e),e.i(t))}function ve(e,t,n,r){if(e&&e.o){if(de.has(e))return;de.add(e),pe.c.push((()=>{de.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const ge={duration:0};function ye(n,r,o,a){let c=r(n,o),l=a?0:1,u=null,d=null,p=null;function f(){p&&B(n,p)}function m(e,t){const n=e.b-l;return t*=Math.abs(n),{a:l,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function h(r){const{delay:o=0,duration:s=300,easing:a=t,tick:h=e,css:v}=c||ge,$={start:g()+o,b:r};r||($.group=pe,pe.r+=1),u||d?d=$:(v&&(f(),p=F(n,l,r,s,o,a,v)),r&&h(0,1),u=m($,s),re((()=>ue(n,r,"start"))),function(e){let t;0===_.size&&y(b),new Promise((n=>{_.add(t={c:e,f:n})}))}((e=>{if(d&&e>d.start&&(u=m(d,s),d=null,ue(n,u.b,"start"),v&&(f(),p=F(n,l,u.b,u.duration,0,a,c.css))),u)if(e>=u.end)h(l=u.b,1-l),ue(n,u.b,"end"),d||(u.b?f():--u.group.r||i(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;l=u.a+u.d*a(t/u.duration),h(l,1-l)}return!(!u&&!d)})))}return{run(e){s(c)?(le||(le=Promise.resolve(),le.then((()=>{le=null}))),le).then((()=>{c=c(),h(e)})):h(e)},end(){f(),u=d=null}}}function _e(e,t){const n=t.token={};function r(e,r,o,i){if(t.token!==n)return;t.resolved=i;let s=t.ctx;void 0!==o&&(s=s.slice(),s[o]=i);const a=e&&(t.current=e)(s);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==r&&e&&(fe(),ve(e,1,1,(()=>{t.blocks[n]===e&&(t.blocks[n]=null)})),me())})):t.block.d(1),a.c(),he(a,1),a.m(t.mount(),t.anchor),c=!0),t.block=a,t.blocks&&(t.blocks[r]=a),c&&ae()}if((o=e)&&"object"==typeof o&&"function"==typeof o.then){const n=W();if(e.then((e=>{H(n),r(t.then,1,t.value,e),H(null)}),(e=>{if(H(n),r(t.catch,2,t.error,e),H(null),!t.hasCatch)throw e})),t.current!==t.pending)return r(t.pending,0),!0}else{if(t.current!==t.then)return r(t.then,1,t.value,e),!0;t.resolved=e}var o}function be(e,t){ve(e,1,1,(()=>{t.delete(e.key)}))}function $e(e){return"object"==typeof e&&null!==e?e:{}}function we(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function xe(e){e&&e.c()}function ke(e,t,n){const{fragment:o,on_mount:a,on_destroy:c,after_update:l}=e.$$;o&&o.m(t,n),re((()=>{const t=a.map(r).filter(s);c?c.push(...t):i(t),e.$$.on_mount=[]})),l.forEach(re)}function Se(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ee(e,t){-1===e.$$.dirty[0]&&(K.push(e),ne||(ne=!0,te.then(ae)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Te(t,n,r,s,a,c,l=[-1]){const u=M;H(t);const d=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:a,bound:o(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(u?u.$$.context:[]),callbacks:o(),dirty:l,skip_bound:!1};let p=!1;if(d.ctx=r?r(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return d.ctx&&a(d.ctx[e],d.ctx[e]=o)&&(!d.skip_bound&&d.bound[e]&&d.bound[e](o),p&&Ee(t,e)),n})):[],d.update(),p=!0,i(d.before_update),d.fragment=!!s&&s(d.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);d.fragment&&d.fragment.l(e),e.forEach(x)}else d.fragment&&d.fragment.c();n.intro&&he(t.$$.fragment),ke(t,n.target,n.anchor),ae()}H(u)}class Ce{$destroy(){Se(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Oe=[];function Ie(t,n=e){let r;const o=[];function i(e){if(a(t,e)&&(t=e,r)){const e=!Oe.length;for(let e=0;e<o.length;e+=1){const n=o[e];n[1](),Oe.push(n,t)}if(e){for(let e=0;e<Oe.length;e+=2)Oe[e][0](Oe[e+1]);Oe.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,a=e){const c=[s,a];return o.push(c),1===o.length&&(r=n(i)||e),s(t),()=>{const e=o.indexOf(c);-1!==e&&o.splice(e,1),0===o.length&&(r(),r=null)}}}}function ze(t,n,r){const o=!Array.isArray(t),a=o?[t]:t,l=n.length<2;return{subscribe:Ie(r,(t=>{let r=!1;const u=[];let d=0,p=e;const f=()=>{if(d)return;p();const r=n(o?u[0]:u,t);l?t(r):p=s(r)?r:e},m=a.map(((e,t)=>c(e,(e=>{u[t]=e,d&=~(1<<t),r&&f()}),(()=>{d|=1<<t}))));return r=!0,f(),function(){i(m),p()}})).subscribe}}const Re={},je={};function Le(e){return{...e.location,state:e.history.state,key:e.history.state&&e.history.state.key||"initial"}}const De=function(e,t){const n=[];let r=Le(e);return{get location(){return r},listen(t){n.push(t);const o=()=>{r=Le(e),t({location:r,action:"POP"})};return e.addEventListener("popstate",o),()=>{e.removeEventListener("popstate",o);const r=n.indexOf(t);n.splice(r,1)}},navigate(t,{state:o,replace:i=!1}={}){o={...o,key:Date.now()+""};try{i?e.history.replaceState(o,null,t):e.history.pushState(o,null,t)}catch(n){e.location[i?"replace":"assign"](t)}r=Le(e),n.forEach((e=>e({location:r,action:"PUSH"})))}}}(Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)?window:function(e="/"){let t=0;const n=[{pathname:e,search:""}],r=[];return{get location(){return n[t]},addEventListener(e,t){},removeEventListener(e,t){},history:{get entries(){return n},get index(){return t},get state(){return r[t]},pushState(e,o,i){const[s,a=""]=i.split("?");t++,n.push({pathname:s,search:a}),r.push(e)},replaceState(e,o,i){const[s,a=""]=i.split("?");n[t]={pathname:s,search:a},r[t]=e}}}}()),{navigate:Ne}=De,Pe=/^:(.+)/;function qe(e){return"*"===e[0]}function Ue(e){return e.replace(/(^\/+|\/+$)/g,"").split("/")}function Me(e){return e.replace(/(^\/+|\/+$)/g,"")}function Ae(e,t){return{route:e,score:e.default?0:Ue(e.path).reduce(((e,t)=>(e+=4,!function(e){return""===e}(t)?!function(e){return Pe.test(e)}(t)?qe(t)?e-=5:e+=3:e+=2:e+=1,e)),0),index:t}}function Fe(e,t){let n,r;const[o]=t.split("?"),i=Ue(o),s=""===i[0],a=function(e){return e.map(Ae).sort(((e,t)=>e.score<t.score?1:e.score>t.score?-1:e.index-t.index))}(e);for(let e=0,o=a.length;e<o;e++){const o=a[e].route;let c=!1;if(o.default){r={route:o,params:{},uri:t};continue}const l=Ue(o.path),u={},d=Math.max(i.length,l.length);let p=0;for(;p<d;p++){const e=l[p],t=i[p];if(void 0!==e&&qe(e)){u["*"===e?"*":e.slice(1)]=i.slice(p).map(decodeURIComponent).join("/");break}if(void 0===t){c=!0;break}let n=Pe.exec(e);if(n&&!s){const e=decodeURIComponent(t);u[n[1]]=e}else if(e!==t){c=!0;break}}if(!c){n={route:o,params:u,uri:"/"+i.slice(0,p).join("/")};break}}return n||r||null}function Be(e,t){return`${Me("/"===t?e:`${Me(e)}/${Me(t)}`)}/`}function He(e){let t;const n=e[10].default,r=u(n,e,e[9],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,[t]){r&&r.p&&512&t&&p(r,n,e,e[9],t,null,null)},i(e){t||(he(r,e),t=!0)},o(e){ve(r,e),t=!1},d(e){r&&r.d(e)}}}function We(e,t,n){let r,o,i,{$$slots:s={},$$scope:a}=t,{basepath:c="/"}=t,{url:u=null}=t;const d=J(Re),p=J(je),f=Ie([]);l(e,f,(e=>n(8,i=e)));const m=Ie(null);let h=!1;const v=d||Ie(u?{pathname:u}:De.location);l(e,v,(e=>n(7,o=e)));const g=p?p.routerBase:Ie({path:c,uri:c});l(e,g,(e=>n(6,r=e)));const y=ze([g,m],(([e,t])=>{if(null===t)return e;const{path:n}=e,{route:r,uri:o}=t;return{path:r.default?n:r.path.replace(/\*.*$/,""),uri:o}}));return d||(X((()=>De.listen((e=>{v.set(e.location)})))),G(Re,v)),G(je,{activeRoute:m,base:g,routerBase:y,registerRoute:function(e){const{path:t}=r;let{path:n}=e;if(e._path=n,e.path=Be(t,n),"undefined"==typeof window){if(h)return;const t=function(e,t){return Fe([e],t)}(e,o.pathname);t&&(m.set(t),h=!0)}else f.update((t=>(t.push(e),t)))},unregisterRoute:function(e){f.update((t=>{const n=t.indexOf(e);return t.splice(n,1),t}))}}),e.$$set=e=>{"basepath"in e&&n(3,c=e.basepath),"url"in e&&n(4,u=e.url),"$$scope"in e&&n(9,a=e.$$scope)},e.$$.update=()=>{if(64&e.$$.dirty){const{path:e}=r;f.update((t=>(t.forEach((t=>t.path=Be(e,t._path))),t)))}if(384&e.$$.dirty){const e=Fe(i,o.pathname);m.set(e)}},[f,v,g,c,u,m,r,o,i,a,s]}class Xe extends Ce{constructor(e){super(),Te(this,e,We,He,a,{basepath:3,url:4,activeRoute:5})}get activeRoute(){return this.$$.ctx[5]}}const Ye=e=>({params:4&e,location:16&e}),Ge=e=>({params:e[2],location:e[4]});function Je(e){let t,n,r,o;const i=[Ke,Ve],s=[];function a(e,t){return null!==e[0]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=O()},m(e,n){s[t].m(e,n),w(e,r,n),o=!0},p(e,o){let c=t;t=a(e),t===c?s[t].p(e,o):(fe(),ve(s[c],1,1,(()=>{s[c]=null})),me(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){o||(he(n),o=!0)},o(e){ve(n),o=!1},d(e){s[t].d(e),e&&x(r)}}}function Ve(e){let t;const n=e[10].default,r=u(n,e,e[9],Ge);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&532&t&&p(r,n,e,e[9],t,Ye,Ge)},i(e){t||(he(r,e),t=!0)},o(e){ve(r,e),t=!1},d(e){r&&r.d(e)}}}function Ke(e){let t,r,o;const i=[{location:e[4]},e[2],e[3]];var s=e[0];function a(e){let t={};for(let e=0;e<i.length;e+=1)t=n(t,i[e]);return{props:t}}return s&&(t=new s(a())),{c(){t&&xe(t.$$.fragment),r=O()},m(e,n){t&&ke(t,e,n),w(e,r,n),o=!0},p(e,n){const o=28&n?function(e,t){const n={},r={},o={$$scope:1};let i=e.length;for(;i--;){const s=e[i],a=t[i];if(a){for(const e in s)e in a||(r[e]=1);for(const e in a)o[e]||(n[e]=a[e],o[e]=1);e[i]=a}else for(const e in s)o[e]=1}for(const e in r)e in n||(n[e]=void 0);return n}(i,[16&n&&{location:e[4]},4&n&&$e(e[2]),8&n&&$e(e[3])]):{};if(s!==(s=e[0])){if(t){fe();const e=t;ve(e.$$.fragment,1,0,(()=>{Se(e,1)})),me()}s?(t=new s(a()),xe(t.$$.fragment),he(t.$$.fragment,1),ke(t,r.parentNode,r)):t=null}else s&&t.$set(o)},i(e){o||(t&&he(t.$$.fragment,e),o=!0)},o(e){t&&ve(t.$$.fragment,e),o=!1},d(e){e&&x(r),t&&Se(t,e)}}}function Qe(e){let t,n,r=null!==e[1]&&e[1].route===e[7]&&Je(e);return{c(){r&&r.c(),t=O()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,[n]){null!==e[1]&&e[1].route===e[7]?r?(r.p(e,n),2&n&&he(r,1)):(r=Je(e),r.c(),he(r,1),r.m(t.parentNode,t)):r&&(fe(),ve(r,1,1,(()=>{r=null})),me())},i(e){n||(he(r),n=!0)},o(e){ve(r),n=!1},d(e){r&&r.d(e),e&&x(t)}}}function Ze(e,t,r){let o,i,{$$slots:s={},$$scope:a}=t,{path:c=""}=t,{component:u=null}=t;const{registerRoute:d,unregisterRoute:p,activeRoute:m}=J(je);l(e,m,(e=>r(1,o=e)));const h=J(Re);l(e,h,(e=>r(4,i=e)));const v={path:c,default:""===c};let g={},y={};return d(v),"undefined"!=typeof window&&Y((()=>{p(v)})),e.$$set=e=>{r(13,t=n(n({},t),f(e))),"path"in e&&r(8,c=e.path),"component"in e&&r(0,u=e.component),"$$scope"in e&&r(9,a=e.$$scope)},e.$$.update=()=>{2&e.$$.dirty&&o&&o.route===v&&r(2,g=o.params);{const{path:e,component:n,...o}=t;r(3,y=o)}},t=f(t),[u,o,g,y,i,m,h,v,c,a,s]}class et extends Ce{constructor(e){super(),Te(this,e,Ze,Qe,a,{path:8,component:0})}}function tt(e){function t(e){const t=e.currentTarget;""===t.target&&function(e){const t=location.host;return e.host==t||0===e.href.indexOf(`https://${t}`)||0===e.href.indexOf(`http://${t}`)}(t)&&function(e){return!e.defaultPrevented&&0===e.button&&!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)&&(e.preventDefault(),Ne(t.pathname+t.search,{replace:t.hasAttribute("replace")}))}return e.addEventListener("click",t),{destroy(){e.removeEventListener("click",t)}}}const nt=Ie("#46b978");const rt=function(){let e=Boolean(localStorage.getItem("sideNav"))||!1;const{subscribe:t,set:n,update:r}=Ie(e);return{subscribe:t,set:e=>{localStorage.setItem("sideNav",e),n(e)}}}(),ot=Ie(!0);if("undefined"!=typeof navigator&&"ReactNative"===navigator.product&&"undefined"==typeof crypto)throw new Error("React Native does not have a built-in secure random generator. If you donâ€™t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID. If you use Expo, install `expo-random` and use `nanoid/async`.");if("undefined"!=typeof msCrypto&&"undefined"==typeof crypto)throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if("undefined"==typeof crypto)throw new Error("Your browser does not have secure random generator. If you donâ€™t need unpredictable IDs, you can use nanoid/non-secure.");let it=e=>crypto.getRandomValues(new Uint8Array(e));const st={black:"#000000",grey:"#e5e5e5",red:"#941E1E",white:"#ffffff",green:"#3B922D"},at=e=>null!=st[e.toLowerCase()]?st[e.toLowerCase()]:st.black,ct=e=>Object.entries(e).reduce(((e,[t,n])=>e+t+": "+n+";"),""),lt=(e,t)=>"https://firebasestorage.googleapis.com/v0/b/unify-tn.appspot.com/o/"+encodeURIComponent(t)+"?alt=media&token="+e,ut=((e,t)=>((e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return()=>{let i="";for(;;){let s=n(o),a=o;for(;a--;)if(i+=e[s[a]&r]||"",i.length===t)return i}}})(e,t,it))("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",6),dt=Ie(0),pt=Ie({}),ft={Delivered:"34bf65",Printing:"2985d4",Delivering:"ffb100","In Progress":"34bf65"},mt=({cost:e,profit:t,delivery:n,taxRate:r,clicToPay:o,ceil:i})=>{null==r&&(r=.19),null==o&&(o=.025),console.log(e);let s=(t*(1+r)+n+e)*(1+o);return console.log(s),i&&(s=Math.ceil(s)),s};firebase.initializeApp({apiKey:"AIzaSyDucnhtBFM0HOg8dxk3lUIRcV8pHmifzXc",authDomain:"unify-tn.firebaseapp.com",databaseURL:"https://unify-tn.firebaseio.com",projectId:"unify-tn",storageBucket:"unify-tn.appspot.com",messagingSenderId:"393516846997",appId:"1:393516846997:web:616a0b2f63d1ab7d82b09c"});const ht=firebase.firestore(),vt=firebase.auth(),gt=Ie("init"),yt=firebase.storage();function _t(t){let n,r,o;return{c(){n=E("svg"),r=E("circle"),j(r,"class","path svelte-bzpqu"),j(r,"fill","none"),j(r,"stroke-width","6"),j(r,"stroke-linecap","round"),j(r,"cx","33"),j(r,"cy","33"),j(r,"r","30"),j(n,"class","spinner svelte-bzpqu"),j(n,"style",o="height:"+t[0]+"; width:"+t[1]+";"),j(n,"viewBox","0 0 66 66"),j(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){w(e,n,t),$(n,r)},p(e,[t]){3&t&&o!==(o="height:"+e[0]+"; width:"+e[1]+";")&&j(n,"style",o)},i:e,o:e,d(e){e&&x(n)}}}function bt(e,t,n){let{height:r="65px"}=t,{width:o="65px"}=t;return e.$$set=e=>{"height"in e&&n(0,r=e.height),"width"in e&&n(1,o=e.width)},[r,o]}vt.onAuthStateChanged((async function(e){if(e){console.log(e);let t=await e.getIdTokenResult();if(console.log(t),e.claims=t.claims,null==e.claims.username)return dt.set({accentColor:"error",title:"Error",content:"This is user account, not a content creator account"}),void await firebase.auth().signOut();console.log(t),e.docData=(await ht.collection("creators").doc(t.claims.username).get()).data(),e.docData&&e.docData.accentColor&&nt.set(e.docData.accentColor),console.log("the kuser"),console.log(e),gt.set(e)}else gt.set(0)}));class $t extends Ce{constructor(e){super(),Te(this,e,bt,_t,a,{height:0,width:1})}}function wt(t){let n,r,o;return r=new $t({props:{width:"75px",height:"75px"}}),{c(){n=S("div"),xe(r.$$.fragment),j(n,"class","u-center-area svelte-xka8c7")},m(e,t){w(e,n,t),ke(r,n,null),o=!0},p:e,i(e){o||(he(r.$$.fragment,e),o=!0)},o(e){ve(r.$$.fragment,e),o=!1},d(e){e&&x(n),Se(r)}}}function xt(e){return X((()=>{Ne("/",{replace:!0})})),[]}class kt extends Ce{constructor(e){super(),Te(this,e,xt,wt,a,{})}}function St(t){let n,r,o,i,s,a,c;return{c(){n=S("header"),r=S("a"),o=S("img"),s=T(" Create a Merch"),o.src!==(i="/imgs/misc/merch.png")&&j(o,"src","/imgs/misc/merch.png"),j(o,"alt",""),j(o,"class","svelte-1utf3vu"),j(r,"href","/merch/create"),j(r,"class","u-button svelte-1utf3vu"),N(r,"background",t[0]),j(n,"class","svelte-1utf3vu")},m(e,t){w(e,n,t),$(n,r),$(r,o),$(r,s),a||(c=h(tt.call(null,r)),a=!0)},p(e,[t]){1&t&&N(r,"background",e[0])},i:e,o:e,d(e){e&&x(n),a=!1,c()}}}function Et(e,t,n){let r;return l(e,nt,(e=>n(0,r=e))),[r]}class Tt extends Ce{constructor(e){super(),Te(this,e,Et,St,a,{})}}function Ct(t){let n,r,o;return{c(){n=E("svg"),r=E("circle"),j(r,"class","path svelte-bzpqu"),j(r,"fill","none"),j(r,"stroke-width","6"),j(r,"stroke-linecap","round"),j(r,"cx","33"),j(r,"cy","33"),j(r,"r","30"),j(n,"class","spinner svelte-bzpqu"),j(n,"style",o="height:"+t[0]+"; width:"+t[1]+";"),j(n,"viewBox","0 0 66 66"),j(n,"xmlns","http://www.w3.org/2000/svg")},m(e,t){w(e,n,t),$(n,r)},p(e,[t]){3&t&&o!==(o="height:"+e[0]+"; width:"+e[1]+";")&&j(n,"style",o)},i:e,o:e,d(e){e&&x(n)}}}function Ot(e,t,n){let{height:r="100%"}=t,{width:o="100%"}=t;return e.$$set=e=>{"height"in e&&n(0,r=e.height),"width"in e&&n(1,o=e.width)},[r,o]}class It extends Ce{constructor(e){super(),Te(this,e,Ot,Ct,a,{height:0,width:1})}}function zt(e,t,n){const r=e.slice();return r[6]=t[n],r}function Rt(e,t,n){const r=e.slice();return r[9]=t[n][0],r[10]=t[n][1],r}function jt(t){let n,r=t[0],o=[];for(let e=0;e<r.length;e+=1)o[e]=Pt(zt(t,r,e));let i=null;return r.length||(i=Dt()),{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=O(),i&&i.c()},m(e,t){for(let n=0;n<o.length;n+=1)o[n].m(e,t);w(e,n,t),i&&i.m(e,t)},p(e,t){if(11&t){let s;for(r=e[0],s=0;s<r.length;s+=1){const i=zt(e,r,s);o[s]?o[s].p(i,t):(o[s]=Pt(i),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length,r.length?i&&(i.d(1),i=null):i||(i=Dt(),i.c(),i.m(n.parentNode,n))}},i:e,o:e,d(e){k(o,e),e&&x(n),i&&i.d(e)}}}function Lt(t){let n,r,o;return r=new It({props:{width:"75px",height:"75px"}}),{c(){n=S("div"),xe(r.$$.fragment),j(n,"class","u-center-area svelte-znmklq")},m(e,t){w(e,n,t),ke(r,n,null),o=!0},p:e,i(e){o||(he(r.$$.fragment,e),o=!0)},o(e){ve(r.$$.fragment,e),o=!1},d(e){e&&x(n),Se(r)}}}function Dt(e){let t;return{c(){t=S("div"),t.textContent="No orders\r\n\r\n                    ",j(t,"class","u-center-area svelte-znmklq")},m(e,n){w(e,t,n)},d(e){e&&x(t)}}}function Nt(e){let t,n,r,o,s,a,c,l,u,d,p,f,m,v,g,y,_,b,k,E,O,I,z,R,D,P,q,U,M,A,F,B,H,W,X,Y,G,J,V,K,Q,Z,ee,te,ne,re,oe,ie,se,ae,ce,le,ue,de,pe,fe,me,he,ve=e[6].cartID+"",ge=e[6].name+"",ye=(e[10].name.length>15?e[10].name.substr(0,15)+"...":e[10].name)+"",_e=e[10].id+"",be=e[10].creator+"",$e=e[10].size+"",we=e[10].quantity+"",xe=e[10].price+"",ke=e[3](e[6].timestamp)+"",Se=e[10].status+"";return{c(){t=S("div"),n=S("div"),r=S("a"),o=S("img"),c=C(),l=S("div"),u=S("div"),d=T("#"),p=T(ve),f=C(),m=S("div"),v=T(ge),g=C(),y=S("div"),_=S("a"),b=S("img"),O=C(),I=S("div"),z=S("div"),R=T(ye),D=T("#"),P=T(_e),q=C(),U=S("div"),M=T(be),A=C(),F=S("div"),B=S("div"),H=T("Color:\r\n                                        "),W=S("div"),X=C(),Y=S("div"),G=T("Size:\r\n                                        "),J=S("div"),V=T($e),K=C(),Q=S("div"),Z=S("div"),Z.textContent="Quantity: ",ee=T(we),te=C(),ne=S("div"),re=S("div"),re.textContent="Price: ",oe=T(xe),ie=T(" TND"),se=C(),ae=S("div"),ce=S("div"),ce.textContent="Date: ",le=T(ke),ue=C(),de=S("div"),pe=T(Se),fe=C(),j(o,"class","product_img svelte-znmklq"),o.src!==(s=e[10].img)&&j(o,"src",s),j(o,"alt","product"),j(r,"href",a="/"+e[1].userid+"/merch/"+e[10].id),j(r,"class","p_img svelte-znmklq"),j(n,"class","right_part svelte-znmklq"),j(u,"class","id svelte-znmklq"),j(m,"class","name-area svelte-znmklq"),j(b,"class","product_img svelte-znmklq"),b.src!==(k=e[10].img)&&j(b,"src",k),j(b,"alt","product"),j(_,"href",E="/"+e[1].userid+"/merch/"+e[10].id),j(_,"class","p_img svelte-znmklq"),j(z,"class","p_title svelte-znmklq"),j(U,"class","p_content_creator svelte-znmklq"),j(W,"class","shape svelte-znmklq"),N(W,"background-color","#"+e[10].color),j(B,"class","color svelte-znmklq"),j(J,"class","shape svelte-znmklq"),j(Y,"class","size svelte-znmklq"),j(F,"class","color_size svelte-znmklq"),j(I,"class","p_info svelte-znmklq"),j(y,"class","product svelte-znmklq"),j(Z,"class","reference svelte-znmklq"),j(Q,"class","quantity svelte-znmklq"),j(re,"class","reference svelte-znmklq"),j(ne,"class","total_price svelte-znmklq"),j(ce,"class","reference svelte-znmklq"),j(ae,"class","date svelte-znmklq"),j(de,"class","status svelte-znmklq"),N(de,"background-color","#"+ft[e[10].status]),j(l,"class","left_part svelte-znmklq"),j(t,"class","single_product svelte-znmklq")},m(e,i){w(e,t,i),$(t,n),$(n,r),$(r,o),$(t,c),$(t,l),$(l,u),$(u,d),$(u,p),$(l,f),$(l,m),$(m,v),$(l,g),$(l,y),$(y,_),$(_,b),$(y,O),$(y,I),$(I,z),$(z,R),$(z,D),$(z,P),$(I,q),$(I,U),$(U,M),$(I,A),$(I,F),$(F,B),$(B,H),$(B,W),$(F,X),$(F,Y),$(Y,G),$(Y,J),$(J,V),$(l,K),$(l,Q),$(Q,Z),$(Q,ee),$(l,te),$(l,ne),$(ne,re),$(ne,oe),$(ne,ie),$(l,se),$(l,ae),$(ae,ce),$(ae,le),$(l,ue),$(l,de),$(de,pe),$(t,fe),me||(he=[h(tt.call(null,r)),h(tt.call(null,_))],me=!0)},p(e,t){1&t&&o.src!==(s=e[10].img)&&j(o,"src",s),3&t&&a!==(a="/"+e[1].userid+"/merch/"+e[10].id)&&j(r,"href",a),1&t&&ve!==(ve=e[6].cartID+"")&&L(p,ve),1&t&&ge!==(ge=e[6].name+"")&&L(v,ge),1&t&&b.src!==(k=e[10].img)&&j(b,"src",k),3&t&&E!==(E="/"+e[1].userid+"/merch/"+e[10].id)&&j(_,"href",E),1&t&&ye!==(ye=(e[10].name.length>15?e[10].name.substr(0,15)+"...":e[10].name)+"")&&L(R,ye),1&t&&_e!==(_e=e[10].id+"")&&L(P,_e),1&t&&be!==(be=e[10].creator+"")&&L(M,be),1&t&&N(W,"background-color","#"+e[10].color),1&t&&$e!==($e=e[10].size+"")&&L(V,$e),1&t&&we!==(we=e[10].quantity+"")&&L(ee,we),1&t&&xe!==(xe=e[10].price+"")&&L(oe,xe),1&t&&ke!==(ke=e[3](e[6].timestamp)+"")&&L(le,ke),1&t&&Se!==(Se=e[10].status+"")&&L(pe,Se),1&t&&N(de,"background-color","#"+ft[e[10].status])},d(e){e&&x(t),me=!1,i(he)}}}function Pt(e){let t,n=Object.entries(e[6].items),r=[];for(let t=0;t<n.length;t+=1)r[t]=Nt(Rt(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=O()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);w(e,t,n)},p(e,o){if(11&o){let i;for(n=Object.entries(e[6].items),i=0;i<n.length;i+=1){const s=Rt(e,n,i);r[i]?r[i].p(s,o):(r[i]=Nt(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){k(r,e),e&&x(t)}}}function qt(e){let t,n,r,o,i,s,a,c,l,u,d,p,f,m,h,v;const g=[Lt,jt],y=[];function _(e,t){return e[2]?0:1}return p=_(e),f=y[p]=g[p](e),{c(){t=S("div"),n=S("div"),n.textContent="My Orders",r=C(),o=S("hr"),i=C(),s=S("div"),a=S("div"),a.innerHTML='<div class="id_title svelte-znmklq">ID</div> \n            <div class="name-area_title svelte-znmklq">Name</div> \n            <div class="Product_title svelte-znmklq">Product</div> \n            <div class="Quantity_title svelte-znmklq">Quantity</div> \n            <div class="Price_title svelte-znmklq">Price</div> \n            <div class="Date_title svelte-znmklq">Date</div> \n            <div class="Status_title svelte-znmklq">Status</div>',c=C(),l=S("hr"),u=C(),d=S("div"),f.c(),m=C(),h=S("hr"),j(n,"class","big_title svelte-znmklq"),j(o,"class","hr_to_remove svelte-znmklq"),j(a,"class","titles svelte-znmklq"),j(l,"class","hr_to_remove svelte-znmklq"),j(h,"class","svelte-znmklq"),j(d,"class","u_products svelte-znmklq"),j(s,"class","product_container svelte-znmklq"),j(t,"class","profile_container svelte-znmklq")},m(e,f){w(e,t,f),$(t,n),$(t,r),$(t,o),$(t,i),$(t,s),$(s,a),$(s,c),$(s,l),$(s,u),$(s,d),y[p].m(d,null),$(d,m),$(d,h),v=!0},p(e,[t]){let n=p;p=_(e),p===n?y[p].p(e,t):(fe(),ve(y[n],1,1,(()=>{y[n]=null})),me(),f=y[p],f?f.p(e,t):(f=y[p]=g[p](e),f.c()),he(f,1),f.m(d,m))},i(e){v||(he(f),v=!0)},o(e){ve(f),v=!1},d(e){e&&x(t),y[p].d()}}}function Ut(e,t,n){let{carts:r=[]}=t,{params:o={}}=t,{first:i=!0}=t;return e.$$set=e=>{"carts"in e&&n(0,r=e.carts),"params"in e&&n(1,o=e.params),"first"in e&&n(2,i=e.first)},[r,o,i,e=>{const t=new Date(1e3*e),n=t.getFullYear(),r=t.getMonth()+1;return t.getDate()+1+"/"+r+"/"+n}]}class Mt extends Ce{constructor(e){super(),Te(this,e,Ut,qt,a,{carts:0,params:1,first:2})}}function At(e,t,n){const r=e.slice();return r[12]=t[n][0],r[13]=t[n][1],r}function Ft(t){let n;return{c(){n=S("p"),n.textContent="XXXX"},m(e,t){w(e,n,t)},p:e,d(e){e&&x(n)}}}function Bt(e){let t,n,r=e[16]+"";return{c(){t=S("p"),n=T(r)},m(e,r){w(e,t,r),$(t,n)},p(e,t){1&t&&r!==(r=e[16]+"")&&L(n,r)},d(e){e&&x(t)}}}function Ht(t){let n;return{c(){n=T("loading...")},m(e,t){w(e,n,t)},p:e,d(e){e&&x(n)}}}function Wt(e){let t,n,r,o,i,s,a,c,l,u,d,p,f,m=e[13].desc+"",h={ctx:e,current:null,token:null,hasCatch:!0,pending:Ht,then:Bt,catch:Ft,value:16,error:17};return _e(l=e[13].value,h),{c(){t=S("div"),n=S("div"),r=S("img"),s=C(),a=S("div"),c=S("div"),h.block.c(),u=C(),d=S("div"),p=T(m),f=C(),r.src!==(o=e[13].img)&&j(r,"src",o),j(r,"alt",i=e[12]),j(r,"class","svelte-1maxzpm"),j(n,"class","u-image svelte-1maxzpm"),j(c,"class","u-number svelte-1maxzpm"),j(d,"class","u-description svelte-1maxzpm"),j(a,"class","u-content svelte-1maxzpm"),j(t,"class","kpi-card svelte-1maxzpm")},m(e,o){w(e,t,o),$(t,n),$(n,r),$(t,s),$(t,a),$(a,c),h.block.m(c,h.anchor=null),h.mount=()=>c,h.anchor=null,$(a,u),$(a,d),$(d,p),$(t,f)},p(t,n){if(e=t,1&n&&r.src!==(o=e[13].img)&&j(r,"src",o),1&n&&i!==(i=e[12])&&j(r,"alt",i),h.ctx=e,1&n&&l!==(l=e[13].value)&&_e(l,h));else{const t=e.slice();t[16]=t[17]=h.resolved,h.block.p(t,n)}1&n&&m!==(m=e[13].desc+"")&&L(p,m)},d(e){e&&x(t),h.block.d(),h.token=null,h=null}}}function Xt(e){let t,n,r,o,i,s,a,c,l,u,d,p,f,m,h,v,g,y,_,b;n=new Tt({});let E=Object.entries(e[0]),T=[];for(let t=0;t<E.length;t+=1)T[t]=Wt(At(e,E,t));return _=new Mt({props:{first:e[2],carts:e[1]}}),{c(){t=S("div"),xe(n.$$.fragment),r=C(),o=S("section"),i=S("div"),s=S("div"),s.textContent="Analytics Overview",a=C(),c=S("div"),l=S("i"),u=C(),d=S("select"),p=S("option"),p.textContent="Active",f=S("option"),f.textContent="Past week",m=S("option"),m.textContent="Past Month",h=S("option"),h.textContent="Past Year",v=C(),g=S("div");for(let e=0;e<T.length;e+=1)T[e].c();y=C(),xe(_.$$.fragment),j(s,"class","kpi-header-title svelte-1maxzpm"),j(l,"class","far fa-calendar-alt"),p.__value="Active",p.value=p.__value,f.__value="Past week",f.value=f.__value,m.__value="Past Month",m.value=m.__value,h.__value="Past Year",h.value=h.__value,N(d,"background-color",e[3]),j(d,"class","svelte-1maxzpm"),j(c,"class","analytics-filter svelte-1maxzpm"),j(i,"class","kpi-header svelte-1maxzpm"),j(g,"class","kpi-cards svelte-1maxzpm"),j(o,"class","kpi-section svelte-1maxzpm"),j(t,"class","u-view svelte-1maxzpm")},m(e,x){w(e,t,x),ke(n,t,null),$(t,r),$(t,o),$(o,i),$(i,s),$(i,a),$(i,c),$(c,l),$(c,u),$(c,d),$(d,p),$(d,f),$(d,m),$(d,h),$(o,v),$(o,g);for(let e=0;e<T.length;e+=1)T[e].m(g,null);$(t,y),ke(_,t,null),b=!0},p(e,[t]){if((!b||8&t)&&N(d,"background-color",e[3]),1&t){let n;for(E=Object.entries(e[0]),n=0;n<E.length;n+=1){const r=At(e,E,n);T[n]?T[n].p(r,t):(T[n]=Wt(r),T[n].c(),T[n].m(g,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=E.length}const n={};4&t&&(n.first=e[2]),2&t&&(n.carts=e[1]),_.$set(n)},i(e){b||(he(n.$$.fragment,e),he(_.$$.fragment,e),b=!0)},o(e){ve(n.$$.fragment,e),ve(_.$$.fragment,e),b=!1},d(e){e&&x(t),Se(n),k(T,e),Se(_)}}}function Yt(e,t,n){let r,o;l(e,gt,(e=>n(10,r=e))),l(e,nt,(e=>n(3,o=e))),document.title="Unify Creator - Overview";let i,s,a={orders:{img:"/imgs/misc/receipt.png",value:"Loading...",desc:"Number of orders"},profit:{img:"/imgs/misc/profit.png",value:"Loading...",desc:"Profit"},pay:{img:"imgs/misc/pay.png",value:0,desc:"Money to be paid out"}},c=[],u=!0,d=()=>{};var p,f;X((async()=>{"denied"!==Notification.permission&&"granted"!=Notification.permission&&Notification.requestPermission(),document.addEventListener(f,h,!1);let e=(await ht.doc("/creators/"+r.claims.username+"/merch/all").get()).data();d=ht.doc("creators/"+r.claims.username+"/orders/all").onSnapshot((t=>{n(2,u=!1);let o=t.data();if(null==o)return n(1,c=[]),n(0,a.profit.value=0,a),void n(0,a.orders.value=0,a);let l=o.orders;n(1,c=Object.entries(l).map((([t,n])=>{n.cartID=t,n.timestamp=n.timestamp.seconds;for(let[t,o]of Object.entries(n.items)){let t=e[o.id],n=t.imgs[o.color][t.featuredFace],i="creators/"+r.claims.username+"/merch/"+o.id+"/"+t.featuredFace+"-"+o.color;o.img=lt(n,i),o.name=t.name,null==o.status&&(o.status="In Progress")}return n}))),c.sort(((e,t)=>t.timestamp-e.timestamp)),n(1,c);let d={orders:{secured:0,escrow:0},profit:{secured:0,escrow:0}};for(let e of c)for(let[t,n]of Object.entries(e.items))[void 0,"In Progress","Printig","In Delivery"].some((e=>n.status==e))?(d.profit.escrow+=n.profit*n.quantity,d.orders.escrow+=1):"Delivered"==n.status&&(d.profit.secured+=n.profit*n.quantity);if(n(0,a.orders.value=String(d.orders.secured)+" ("+d.orders.escrow+")",a),n(0,a.profit.value=String(d.profit.secured)+" ("+d.profit.escrow+")",a),n(0,a),document[p]){if(!u){let e=c.filter((e=>!m.some((t=>t.cartID==e.cartID))));document.title="("+String(e.length)+") Orders",new Notification("Unify",{body:"("+String(e.length)+") Orders",icon:"./imgs/icon.png"}),setTimeout((()=>{i&&clearInterval(i),i=setInterval((()=>{document.title="("+String(e.length)+") Orders"}),2e3)}),1e3),s&&clearInterval(s),s=setInterval((()=>{document.title="Unify Creator - Overview"}),2e3)}}else m=c;console.log(c),n(2,u=!1)}))})),void 0!==document.hidden?(p="hidden",f="visibilitychange"):void 0!==document.msHidden?(p="msHidden",f="msvisibilitychange"):void 0!==document.webkitHidden&&(p="webkitHidden",f="webkitvisibilitychange");let m=[];const h=()=>{document[p]?m=c:(document.title.includes("Orders")&&(document.title="Unify Creator - Overview"),clearInterval(i),clearInterval(s))};return Y((()=>{d(),document.removeEventListener(f,h)})),[a,c,u,o]}class Gt extends Ce{constructor(e){super(),Te(this,e,Yt,Xt,a,{})}}function Jt(t){let n,r,o;return r=new $t({props:{height:"100px",width:"100px"}}),{c(){n=S("div"),xe(r.$$.fragment),j(n,"class","u-loading svelte-iof362")},m(e,t){w(e,n,t),ke(r,n,null),o=!0},p:e,i(e){o||(he(r.$$.fragment,e),o=!0)},o(e){ve(r.$$.fragment,e),o=!1},d(e){e&&x(n),Se(r)}}}function Vt(e){let t,n,r,o,s,a,c,l,u,d,p,f,m,v,g,y,_,b,k,E,O,R,L,N,P,q,U,M,A,F,B,H,W,X,Y,G,J,V,K,Q,Z,ee,te,ne=e[3]&&Kt(e);const re=[Zt,Qt],oe=[];function ie(e,t){return e[4]?0:1}return K=ie(e),Q=oe[K]=re[K](e),{c(){t=S("div"),n=S("div"),r=S("div"),o=S("a"),o.innerHTML='<img src="./imgs/icons/logo.png" alt="logo" class="svelte-iof362"/>Unify',s=C(),a=S("div"),a.textContent="Welcome Back ðŸ˜€",c=C(),l=S("div"),l.textContent="Your universe is waiting for you",u=C(),d=S("div"),p=S("div"),p.textContent="Sign in to Unify",f=C(),m=S("div"),m.textContent="use your email account",v=C(),g=S("div"),y=T("Don't have an account ? "),_=S("a"),_.textContent="Sign up here",b=C(),k=S("form"),ne&&ne.c(),E=C(),O=S("div"),R=S("div"),L=S("img"),P=C(),q=S("input"),U=C(),M=S("div"),A=S("img"),B=C(),H=S("input"),W=C(),X=S("div"),Y=S("a"),Y.textContent="Forget Your Password?",G=C(),J=S("div"),V=S("button"),Q.c(),j(o,"href","/"),j(o,"class","u_logo svelte-iof362"),j(a,"class","title svelte-iof362"),j(l,"class","desc svelte-iof362"),j(r,"class","left_side svelte-iof362"),j(p,"class","title svelte-iof362"),j(m,"class","orEmailText svelte-iof362"),j(_,"href","/register"),j(_,"class","svelte-iof362"),j(g,"class","no-have-acc svelte-iof362"),L.src!==(N="/imgs/misc/login_register/envelope.png")&&j(L,"src","/imgs/misc/login_register/envelope.png"),j(L,"alt","email"),j(L,"class","svelte-iof362"),j(q,"class","input email svelte-iof362"),j(q,"name","email"),j(q,"type","text"),j(q,"placeholder","Email"),j(R,"class","input svelte-iof362"),A.src!==(F="/imgs/misc/login_register/unlock.png")&&j(A,"src","/imgs/misc/login_register/unlock.png"),j(A,"alt","password"),j(A,"class","svelte-iof362"),j(H,"class","input password svelte-iof362"),j(H,"name","password"),j(H,"type","password"),j(H,"placeholder","Password"),j(M,"class","input svelte-iof362"),j(O,"class","inputContainer svelte-iof362"),j(Y,"href","/forgotpassword"),j(X,"class","forget svelte-iof362"),j(V,"class","signup_btn svelte-iof362"),j(V,"type","submit"),j(J,"class","signup svelte-iof362"),j(k,"class","svelte-iof362"),j(d,"class","right_side svelte-iof362"),j(n,"class","signUp_container svelte-iof362"),j(t,"class","container svelte-iof362")},m(i,x){w(i,t,x),$(t,n),$(n,r),$(r,o),$(r,s),$(r,a),$(r,c),$(r,l),$(n,u),$(n,d),$(d,p),$(d,f),$(d,m),$(d,v),$(d,g),$(g,y),$(g,_),$(d,b),$(d,k),ne&&ne.m(k,null),$(k,E),$(k,O),$(O,R),$(R,L),$(R,P),$(R,q),D(q,e[1]),$(O,U),$(O,M),$(M,A),$(M,B),$(M,H),D(H,e[2]),$(k,W),$(k,X),$(X,Y),$(k,G),$(k,J),$(J,V),oe[K].m(V,null),Z=!0,ee||(te=[h(tt.call(null,o)),h(tt.call(null,_)),I(q,"input",e[6]),I(H,"input",e[7]),h(tt.call(null,Y)),I(k,"submit",z(e[5]))],ee=!0)},p(e,t){e[3]?ne?ne.p(e,t):(ne=Kt(e),ne.c(),ne.m(k,E)):ne&&(ne.d(1),ne=null),2&t&&q.value!==e[1]&&D(q,e[1]),4&t&&H.value!==e[2]&&D(H,e[2]);let n=K;K=ie(e),K!==n&&(fe(),ve(oe[n],1,1,(()=>{oe[n]=null})),me(),Q=oe[K],Q||(Q=oe[K]=re[K](e),Q.c()),he(Q,1),Q.m(V,null))},i(e){Z||(he(Q),Z=!0)},o(e){ve(Q),Z=!1},d(e){e&&x(t),ne&&ne.d(),oe[K].d(),ee=!1,i(te)}}}function Kt(e){let t,n;return{c(){t=S("div"),n=T(e[3]),j(t,"class","notification is-danger svelte-iof362")},m(e,r){w(e,t,r),$(t,n)},p(e,t){8&t&&L(n,e[3])},d(e){e&&x(t)}}}function Qt(t){let n;return{c(){n=T("Submit")},m(e,t){w(e,n,t)},i:e,o:e,d(e){e&&x(n)}}}function Zt(e){let t,n;return t=new $t({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function en(e){let t,n,r,o;const i=[Vt,Jt],s=[];function a(e,t){return e[0]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=O()},m(e,n){s[t].m(e,n),w(e,r,n),o=!0},p(e,[o]){let c=t;t=a(e),t===c?s[t].p(e,o):(fe(),ve(s[c],1,1,(()=>{s[c]=null})),me(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){o||(he(n),o=!0)},o(e){ve(n),o=!1},d(e){s[t].d(e),e&&x(r)}}}function tn(e,t,n){let r;const o=gt.subscribe((e=>{"init"!=e&&(0!=e&&Ne("/",{replace:!1}),0==e&&n(0,r=!0))}));Y((()=>{o()}));let i="",s="",a="",c=!1;return[r,i,s,a,c,async()=>{c||(n(4,c=!0),await firebase.auth().signInWithEmailAndPassword(i,s).catch((function(e){e.code,n(3,a=e.message)})),n(4,c=!1))},function(){i=this.value,n(1,i)},function(){s=this.value,n(2,s)}]}class nn extends Ce{constructor(e){super(),Te(this,e,tn,en,a,{})}}function rn(t){let n,r,o;return r=new $t({props:{height:"100px",width:"100px"}}),{c(){n=S("div"),xe(r.$$.fragment),j(n,"class","u-loading svelte-1ctyt9f")},m(e,t){w(e,n,t),ke(r,n,null),o=!0},p:e,i(e){o||(he(r.$$.fragment,e),o=!0)},o(e){ve(r.$$.fragment,e),o=!1},d(e){e&&x(n),Se(r)}}}function on(e){let t;const n=e[2].default,r=u(n,e,e[1],null);return{c(){r&&r.c()},m(e,n){r&&r.m(e,n),t=!0},p(e,t){r&&r.p&&2&t&&p(r,n,e,e[1],t,null,null)},i(e){t||(he(r,e),t=!0)},o(e){ve(r,e),t=!1},d(e){r&&r.d(e)}}}function sn(e){let t,n,r,o;const i=[on,rn],s=[];function a(e,t){return e[0]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=O()},m(e,n){s[t].m(e,n),w(e,r,n),o=!0},p(e,[o]){let c=t;t=a(e),t===c?s[t].p(e,o):(fe(),ve(s[c],1,1,(()=>{s[c]=null})),me(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){o||(he(n),o=!0)},o(e){ve(n),o=!1},d(e){s[t].d(e),e&&x(r)}}}function an(e,t,n){let{$$slots:r={},$$scope:o}=t,i=!1;const s=gt.subscribe((e=>{"init"!==e&&(0===e?(console.error("unauthorized"),setTimeout((()=>{Ne("/login",{replace:!0})}),100)):n(0,i=!0))}));return Y((()=>{s()})),e.$$set=e=>{"$$scope"in e&&n(1,o=e.$$scope)},[i,o,r]}class cn extends Ce{constructor(e){super(),Te(this,e,an,sn,a,{})}}function ln(t){let n,r,o,i,s,a,c;return{c(){n=S("div"),r=S("div"),i=C(),s=S("img"),j(r,"style",o=ct({"background-color":t[0]})),j(r,"class","background svelte-6ssml8"),j(s,"crossorigin","anonymous"),s.src!==(a=t[1])&&j(s,"src",a),j(s,"alt","imag"),j(s,"class","svelte-6ssml8"),j(n,"style",c=ct({height:t[2],width:t[3]})),j(n,"class","image-wrapper svelte-6ssml8")},m(e,t){w(e,n,t),$(n,r),$(n,i),$(n,s)},p(e,[t]){1&t&&o!==(o=ct({"background-color":e[0]}))&&j(r,"style",o),2&t&&s.src!==(a=e[1])&&j(s,"src",a),12&t&&c!==(c=ct({height:e[2],width:e[3]}))&&j(n,"style",c)},i:e,o:e,d(e){e&&x(n)}}}function un(e,t,n){let{bgColor:r="#000000"}=t,{img:o}=t,{height:i="300px"}=t,{width:s="300px"}=t;return e.$$set=e=>{"bgColor"in e&&n(0,r=e.bgColor),"img"in e&&n(1,o=e.img),"height"in e&&n(2,i=e.height),"width"in e&&n(3,s=e.width)},[r,o,i,s]}class dn extends Ce{constructor(e){super(),Te(this,e,un,ln,a,{bgColor:0,img:1,height:2,width:3})}}function pn(e,t,n){const r=e.slice();return r[5]=t[n][0],r[6]=t[n][1],r}function fn(e){let t,n,r,o,i;const s=[hn,mn],a=[];function c(e,n){return 1&n&&(t=!!(Object.keys(e[0]).length>0)),t?0:1}return n=c(e,-1),r=a[n]=s[n](e),{c(){r.c(),o=O()},m(e,t){a[n].m(e,t),w(e,o,t),i=!0},p(e,t){let i=n;n=c(e,t),n===i?a[n].p(e,t):(fe(),ve(a[i],1,1,(()=>{a[i]=null})),me(),r=a[n],r?r.p(e,t):(r=a[n]=s[n](e),r.c()),he(r,1),r.m(o.parentNode,o))},i(e){i||(he(r),i=!0)},o(e){ve(r),i=!1},d(e){a[n].d(e),e&&x(o)}}}function mn(t){let n;return{c(){n=S("div"),n.textContent="No merch",j(n,"class","u-empty")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&x(n)}}}function hn(e){let t,n,r,o,i=Object.entries(e[0]),s=[];for(let t=0;t<i.length;t+=1)s[t]=vn(pn(e,i,t));const a=e=>ve(s[e],1,1,(()=>{s[e]=null}));return{c(){t=S("div"),t.textContent="Your current active merch",n=C(),r=S("div");for(let e=0;e<s.length;e+=1)s[e].c();j(t,"class","u-section-title svelte-9359ge"),j(r,"class","active-products svelte-9359ge")},m(e,i){w(e,t,i),w(e,n,i),w(e,r,i);for(let e=0;e<s.length;e+=1)s[e].m(r,null);o=!0},p(e,t){if(5&t){let n;for(i=Object.entries(e[0]),n=0;n<i.length;n+=1){const o=pn(e,i,n);s[n]?(s[n].p(o,t),he(s[n],1)):(s[n]=vn(o),s[n].c(),he(s[n],1),s[n].m(r,null))}for(fe(),n=i.length;n<s.length;n+=1)a(n);me()}},i(e){if(!o){for(let e=0;e<i.length;e+=1)he(s[e]);o=!0}},o(e){s=s.filter(Boolean);for(let e=0;e<s.length;e+=1)ve(s[e]);o=!1},d(e){e&&x(t),e&&x(n),e&&x(r),k(s,e)}}}function vn(e){let t,n,r,o,i,s,a,c,l,u,d,p,f,m,v,g,y,_,b,k,E=e[6].name+"",O=e[6].price+"";return r=new dn({props:{img:e[6].imgs[e[6].featuredColor][e[6].featuredFace],bgColor:at(e[6].color)}}),{c(){t=S("div"),n=S("div"),xe(r.$$.fragment),o=C(),i=S("div"),s=S("div"),a=T(E),c=C(),l=S("div"),u=S("div"),d=T(O),p=T("\r\n                                        TND"),f=C(),m=S("a"),v=T("Modify"),y=C(),j(n,"class","u-image-area svelte-9359ge"),j(s,"class","u-name svelte-9359ge"),j(u,"class","u-price svelte-9359ge"),j(m,"href",g="/merch/modify/"+e[5]),j(m,"class","u-modify svelte-9359ge"),j(l,"class","actions svelte-9359ge"),j(i,"class","u-informations svelte-9359ge"),N(i,"background",e[2]),j(t,"class","prod-card svelte-9359ge")},m(e,g){w(e,t,g),$(t,n),ke(r,n,null),$(t,o),$(t,i),$(i,s),$(s,a),$(i,c),$(i,l),$(l,u),$(u,d),$(u,p),$(l,f),$(l,m),$(m,v),$(t,y),_=!0,b||(k=h(tt.call(null,m)),b=!0)},p(e,t){const n={};1&t&&(n.img=e[6].imgs[e[6].featuredColor][e[6].featuredFace]),1&t&&(n.bgColor=at(e[6].color)),r.$set(n),(!_||1&t)&&E!==(E=e[6].name+"")&&L(a,E),(!_||1&t)&&O!==(O=e[6].price+"")&&L(d,O),(!_||1&t&&g!==(g="/merch/modify/"+e[5]))&&j(m,"href",g),(!_||4&t)&&N(i,"background",e[2])},i(e){_||(he(r.$$.fragment,e),_=!0)},o(e){ve(r.$$.fragment,e),_=!1},d(e){e&&x(t),Se(r),b=!1,k()}}}function gn(e){let t,n,r,o,i;n=new Tt({});let s=e[1]&&fn(e);return{c(){t=S("div"),xe(n.$$.fragment),r=C(),o=S("section"),s&&s.c(),j(o,"class","active-section svelte-9359ge"),j(t,"class","u-view svelte-9359ge")},m(e,a){w(e,t,a),ke(n,t,null),$(t,r),$(t,o),s&&s.m(o,null),i=!0},p(e,[t]){e[1]?s?(s.p(e,t),2&t&&he(s,1)):(s=fn(e),s.c(),he(s,1),s.m(o,null)):s&&(fe(),ve(s,1,1,(()=>{s=null})),me())},i(e){i||(he(n.$$.fragment,e),he(s),i=!0)},o(e){ve(n.$$.fragment,e),ve(s),i=!1},d(e){e&&x(t),Se(n),s&&s.d()}}}function yn(e,t,n){let r,o;l(e,gt,(e=>n(4,r=e))),l(e,nt,(e=>n(2,o=e)));let i=[],s=!1,a=()=>{};return a=ht.doc("/creators/"+r.claims.username+"/merch/all").onSnapshot((e=>{n(1,s=!0);let t=e.data();if(console.log(t),null!=t){for(let[e,n]of Object.entries(t)){console.log(n);for(let[t,o]of Object.entries(n.imgs)){console.log(o);for(let[i,s]of Object.entries(o)){let o="creators/"+r.claims.username+"/merch/"+e+"/"+i+"-"+t;n.imgs[t][i]=lt(s,o),console.log(n.imgs[t][i])}}}n(0,i=t),console.log(i),console.log(i.length)}else n(0,i=[])})),Y((()=>{a()})),[i,s,o]}class _n extends Ce{constructor(e){super(),Te(this,e,yn,gn,a,{})}}const bn=.19,$n=.025;let wn={front:{top:50,width:310,height:310},back:{top:300,width:210,height:300}};const xn={EUJHU3:{type:"hoodie",name:"Eco Unisex Hoodie",cost:32,print:{front:5,back:6},profit:7,delivery:7,material:"80% Certified Organic Cotton, 20% Recycled Polyester",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/hoodies/normal-front.png",back:"/imgs/clothes/hoodies/normal-back.png"},colors:["Black","Red","Green","White"],printable:{front:{top:150,width:280,height:190},back:{top:140,width:270,height:360}}},X8E7FC:{type:"hoodie",name:"Premium Unisex Hoodie",cost:36,profit:7,print:{front:5,back:6},delivery:7,material:"Regular fit, premium poly/cotton blend, white drawcords, unisex",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/hoodies/premium-front.png",back:"/imgs/clothes/hoodies/premium-back.png"},colors:["Red","Green"],printable:{front:{top:140,width:280,height:220},back:{top:170,width:230,height:350}}},EF7CEX:{type:"hoodie",name:"Zip Hoodie",cost:32,profit:7,delivery:7,print:{front:5,back:6},material:"Regular fit, premium poly/cotton blend, white drawcords, unisex",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/hoodies/ziphoodie-front.png",back:"/imgs/clothes/hoodies/ziphoodie-back.png"},colors:["Red","Green"],printable:{front:{top:160,width:280,height:210},back:{top:140,width:265,height:360}}},"25X8E7":{type:"sweatshirt",name:"Premium Unisex Sweatshirt",cost:17,profit:7,delivery:7,print:{front:5,back:6},material:"Slim fit, premium soft cotton, unisex",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/sweatshirts/normal-front.png",back:"/imgs/clothes/sweatshirts/normal-back.png"},colors:["Black","Red","Green","White"],printable:{front:{top:130,width:255,height:330},back:{top:120,width:220,height:360}}},NV7ECZ:{type:"long-tee",name:"Classic Long Sleeve Tee",disabled:!0,cost:14,profit:7,delivery:7,print:{front:5,back:6},material:"Regular fit, 100% cotton, unisex",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/hoodies/premium-front.png",back:"/imgs/clothes/hoodies/premium-back.png"},colors:["Black","White","Green"],printable:wn},REXE7C:{type:"long-tee",name:"Premium Long Sleeve Tee",disabled:!0,cost:17,profit:7,delivery:7,print:{front:5,back:6},material:"Slim fit, premium soft cotton, unisex",sizes:["XS","S","M","L","X","XL"],imgs:{front:"/imgs/clothes/long-tee/premium-front.png",back:"/imgs/clothes/long-tee/premium-back.png"},colors:["Black","Red","Green","White"],printable:wn}};function kn(e,t,n){const r=e.slice();return r[1]=t[n][0],r[2]=t[n][1],r}function Sn(e,t,n){const r=e.slice();return r[1]=t[n][0],r[5]=t[n][1],r}function En(e){let t,n,r,o,i,s,a,c,l,u,d=e[2].title+"",p=Object.entries(e[2].items),f=[];for(let t=0;t<p.length;t+=1)f[t]=Tn(Sn(e,p,t));const m=e=>ve(f[e],1,1,(()=>{f[e]=null}));return{c(){t=S("section"),n=S("div"),r=T(d),o=C(),i=S("hr"),s=C(),a=S("div");for(let e=0;e<f.length;e+=1)f[e].c();c=C(),j(n,"class","cat-title svelte-o79vnd"),N(i,"width","100%"),j(a,"class","u-items svelte-o79vnd"),j(t,"id",l=e[1]),j(t,"class","cat-section svelte-o79vnd")},m(e,l){w(e,t,l),$(t,n),$(n,r),$(t,o),$(t,i),$(t,s),$(t,a);for(let e=0;e<f.length;e+=1)f[e].m(a,null);$(t,c),u=!0},p(e,n){if((!u||1&n)&&d!==(d=e[2].title+"")&&L(r,d),1&n){let t;for(p=Object.entries(e[2].items),t=0;t<p.length;t+=1){const r=Sn(e,p,t);f[t]?(f[t].p(r,n),he(f[t],1)):(f[t]=Tn(r),f[t].c(),he(f[t],1),f[t].m(a,null))}for(fe(),t=p.length;t<f.length;t+=1)m(t);me()}(!u||1&n&&l!==(l=e[1]))&&j(t,"id",l)},i(e){if(!u){for(let e=0;e<p.length;e+=1)he(f[e]);u=!0}},o(e){f=f.filter(Boolean);for(let e=0;e<f.length;e+=1)ve(f[e]);u=!1},d(e){e&&x(t),k(f,e)}}}function Tn(e){let t,n,r,o,i,s,a,c,l,u,d,p,f,m,v,g,y,_,b,k,E,O,I,z,R,D,N=e[5].name+"",P=mt({cost:e[5].cost,delivery:e[5].delivery,profit:e[5].profit,ceil:!0})+"",q=e[5].material+"",U=e[5].sizes[0]+"",M=e[5].sizes[e[5].sizes.length-1]+"";return r=new dn({props:{img:e[5].imgs.front,bgColor:at(e[5].colors[0])}}),{c(){t=S("a"),n=S("div"),xe(r.$$.fragment),o=C(),i=S("div"),s=S("div"),a=T(N),c=C(),l=S("p"),u=T("Base Cost: "),d=T(P),p=T(" TND"),f=C(),m=S("p"),v=T(q),g=C(),y=S("p"),_=T(U),b=T(" - "),k=T(M),E=C(),j(n,"class","u-image-area svelte-o79vnd"),j(s,"class","u-name svelte-o79vnd"),j(l,"class","u-price svelte-o79vnd"),j(m,"class","svelte-o79vnd"),j(y,"class","svelte-o79vnd"),j(i,"class","u-informations svelte-o79vnd"),j(t,"href",O="/merch/create/"+e[1]),j(t,"id",I=e[1]),j(t,"class","prod-card svelte-o79vnd")},m(e,x){w(e,t,x),$(t,n),ke(r,n,null),$(t,o),$(t,i),$(i,s),$(s,a),$(i,c),$(i,l),$(l,u),$(l,d),$(l,p),$(i,f),$(i,m),$(m,v),$(i,g),$(i,y),$(y,_),$(y,b),$(y,k),$(t,E),z=!0,R||(D=h(tt.call(null,t)),R=!0)},p(e,n){const o={};1&n&&(o.img=e[5].imgs.front),1&n&&(o.bgColor=at(e[5].colors[0])),r.$set(o),(!z||1&n)&&N!==(N=e[5].name+"")&&L(a,N),(!z||1&n)&&P!==(P=mt({cost:e[5].cost,delivery:e[5].delivery,profit:e[5].profit,ceil:!0})+"")&&L(d,P),(!z||1&n)&&q!==(q=e[5].material+"")&&L(v,q),(!z||1&n)&&U!==(U=e[5].sizes[0]+"")&&L(_,U),(!z||1&n)&&M!==(M=e[5].sizes[e[5].sizes.length-1]+"")&&L(k,M),(!z||1&n&&O!==(O="/merch/create/"+e[1]))&&j(t,"href",O),(!z||1&n&&I!==(I=e[1]))&&j(t,"id",I)},i(e){z||(he(r.$$.fragment,e),z=!0)},o(e){ve(r.$$.fragment,e),z=!1},d(e){e&&x(t),Se(r),R=!1,D()}}}function Cn(e){let t,n,r=0!=Object.keys(e[2].items).length,o=r&&En(e);return{c(){o&&o.c(),t=O()},m(e,r){o&&o.m(e,r),w(e,t,r),n=!0},p(e,n){1&n&&(r=0!=Object.keys(e[2].items).length),r?o?(o.p(e,n),1&n&&he(o,1)):(o=En(e),o.c(),he(o,1),o.m(t.parentNode,t)):o&&(fe(),ve(o,1,1,(()=>{o=null})),me())},i(e){n||(he(o),n=!0)},o(e){ve(o),n=!1},d(e){o&&o.d(e),e&&x(t)}}}function On(e){let t,n,r,o,i,s,a,c=Object.entries(e[0]),l=[];for(let t=0;t<c.length;t+=1)l[t]=Cn(kn(e,c,t));const u=e=>ve(l[e],1,1,(()=>{l[e]=null}));return{c(){t=S("div"),n=S("header"),r=C(),o=S("div"),i=S("div"),i.textContent="Select a product to design",s=C();for(let e=0;e<l.length;e+=1)l[e].c();j(n,"class","svelte-o79vnd"),j(i,"class","view-title svelte-o79vnd"),j(o,"class","u-categories svelte-o79vnd"),j(t,"class","u-view svelte-o79vnd")},m(e,c){w(e,t,c),$(t,n),$(t,r),$(t,o),$(o,i),$(o,s);for(let e=0;e<l.length;e+=1)l[e].m(o,null);a=!0},p(e,[t]){if(1&t){let n;for(c=Object.entries(e[0]),n=0;n<c.length;n+=1){const r=kn(e,c,n);l[n]?(l[n].p(r,t),he(l[n],1)):(l[n]=Cn(r),l[n].c(),he(l[n],1),l[n].m(o,null))}for(fe(),n=c.length;n<l.length;n+=1)u(n);me()}},i(e){if(!a){for(let e=0;e<c.length;e+=1)he(l[e]);a=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)ve(l[e]);a=!1},d(e){e&&x(t),k(l,e)}}}function In(e,t,n){const r={hoodie:{title:"Hoodies",items:{}},"long-tee":{title:"Long Sleeve Tee",items:{}},sweatshirt:{title:"Sweatshirts",items:{}}};return Object.entries(xn).filter((([e,t])=>!0!==t.disabled)).reduce(((e,[t,o])=>{o.id=t,n(0,r[o.type].items[t]=o,r)}),{}),console.log(r),[r]}class zn extends Ce{constructor(e){super(),Te(this,e,In,On,a,{})}}function Rn(t){let n;return{c(){n=S("canvas"),j(n,"class","c-canva"),j(n,"id","front")},m(e,r){w(e,n,r),t[9](n)},p:e,i:e,o:e,d(e){e&&x(n),t[9](null)}}}function jn(t,n,r){let o,i,s=e,a=()=>(s(),s=c(f,(e=>r(10,o=e))),f),l=e,u=()=>(l(),l=c(y,(e=>r(11,i=e))),y);t.$$.on_destroy.push((()=>s())),t.$$.on_destroy.push((()=>l()));let{hash:d={}}=n,{facade:p}=n,{selectedColor:f}=n;a();let{mockupURL:h}=n,{showBoundaries:v}=n,{boundaryData:g}=n,{printarea:y}=n;u();let _,{mockup:b}=n;return X((async()=>{r(3,d.canva=new fabric.Canvas(_,{width:600,height:600}),d),r(3,d.canva.stateful=!0,d),r(3,d.background=new fabric.Rect({id:"color-box",fill:st[o.toLocaleLowerCase()],width:600,height:600,selectable:!1,evented:!1}),d),d.background.center(),d.canva.add(d.background);var e=new fabric.Rect({id:"boundary",top:g.top,width:g.width,height:g.height,selectable:!1,evented:!1,strokeDashArray:[5,2],strokeWidth:2,stroke:"blue",fill:st[o.toLocaleLowerCase()],absolutePositioned:!0});e.center(),d.canva.add(e),e.center(),e.set({top:g.top}),e.setCoords(),e.saveState(),r(3,d.boundary=e,d),await fabric.Image.fromURL(h,(function(e){r(3,d.mockup=e,d),e.id="mockup",e.scaleToWidth(600,!1),e.set("selectable",!1),e.set("evented",!1),d.canva.add(e)})),v.subscribe((t=>{e.opacity=1==t?1:0,d.canva.renderAll()})),f.subscribe((e=>{d.background.set("fill",st[e.toLocaleLowerCase()]),d.boundary.set("fill",st[e.toLocaleLowerCase()]),d.canva.renderAll()})),console.log(e.top);let t=!1;const n=()=>{let n=d.canva.getObjects().filter((e=>!["color-box","boundary","mockup"].includes(e.id)));if(console.log(n),0==n.length)return void(t&&(console.log("had objects"),m(y,i={...i,[p.toLocaleLowerCase()]:{...i[p.toLocaleLowerCase()],price:0,area:0}},i),t=!1));t=!0;let r=[],o=[],s=e.aCoords,a=s.tl.x,c=s.tr.x,l=s.br.y,u=s.tr.y;for(let e of n){let t=[],n=[];Object.values(e.aCoords).map((e=>{t.push(e.x),n.push(e.y)}));const i=t.every((e=>e>c)),s=t.every((e=>e<a)),d=n.every((e=>e>l)),p=n.every((e=>e<u));console.log("right out of view : "+i),console.log("left out of view : "+s),console.log("bottom out of view : "+d),console.log("top out of view : "+p),console.log(n),console.log(u),i||s||d||p?console.log("item out of view not taking into account"):(r.push(...t),o.push(...n))}if(console.log("xs, ys"),o.sort(((e,t)=>e-t)),r.sort(((e,t)=>e-t)),console.log(o),console.log(r),0==o.length&&0==r.length)return console.log("no print"),void m(y,i={...i,[p.toLocaleLowerCase()]:{...i[p.toLocaleLowerCase()],price:0,area:0}},i);let f=.00146028037,h=r[r.length-1];h>c&&(console.log("price right out"),h=c);let v=r[0];v<a&&(console.log("price left out"),v=a);let g=o[o.length-1];g>l&&(console.log("price bottom out"),g=l);let _=o[0];_<u&&(console.log("price top out"),_=u),console.log("min Y: "+_+" max Y: "+g),console.log("min X : "+v+" max X "+h),console.log(Math.abs(g-_)*f);let b=((g-g)**2+(h-v)**2)**.5*f*((h-h)**2+(g-_)**2)**.5*f;console.log("covered area :"+b);let $=120*b;$<i[p.toLocaleLowerCase()].minPrice&&($=i[p.toLocaleLowerCase()].minPrice),m(y,i={...i,[p.toLocaleLowerCase()]:{...i[p.toLocaleLowerCase()],price:$,area:b}},i)};d.canva.on("object:added",(()=>{setTimeout((()=>{n()}),100)})),d.canva.on("object:removed",(()=>{console.log("running removed"),setTimeout((()=>{n()}),100)})),d.canva.on("object:moved",(function(e){a&&(a=!1,setTimeout((()=>{n()}),100))})),d.canva.on("object:scaled",(e=>{setTimeout((()=>{n()}),100)}));let s=!0,a=!1;d.canva.on("object:moving",(function(e){a=!0})),d.canva.on("mouse:move",(function(e){0!=s&&(console.log("x: "+e.e.layerX+"; y: "+e.e.layerY),s=!1,setTimeout((()=>{s=!0}),300))}))})),t.$$set=e=>{"hash"in e&&r(3,d=e.hash),"facade"in e&&r(4,p=e.facade),"selectedColor"in e&&a(r(0,f=e.selectedColor)),"mockupURL"in e&&r(5,h=e.mockupURL),"showBoundaries"in e&&r(6,v=e.showBoundaries),"boundaryData"in e&&r(7,g=e.boundaryData),"printarea"in e&&u(r(1,y=e.printarea)),"mockup"in e&&r(8,b=e.mockup)},[f,y,_,d,p,h,v,g,b,function(e){Q[e?"unshift":"push"]((()=>{_=e,r(2,_)}))}]}class Ln extends Ce{constructor(e){super(),Te(this,e,jn,Rn,a,{hash:3,facade:4,selectedColor:0,mockupURL:5,showBoundaries:6,boundaryData:7,printarea:1,mockup:8})}}function Dn(t){let n;return{c(){n=T("no profit")},m(e,t){w(e,n,t)},p:e,d(e){e&&x(n)}}}function Nn(e){let t,n,r;return{c(){t=T("TND "),n=T(e[3]),r=T(" profit/sale")},m(e,o){w(e,t,o),w(e,n,o),w(e,r,o)},p(e,t){8&t&&L(n,e[3])},d(e){e&&x(t),e&&x(n),e&&x(r)}}}function Pn(t){let n,r,o,i,s,a,c,l,u;function d(e,t){return e[4].profitable?Nn:Dn}let p=d(t),f=p(t);return{c(){n=S("div"),r=S("div"),o=S("div"),o.textContent="TND",i=C(),s=S("input"),a=C(),c=S("div"),f.c(),j(o,"class","u-currency svelte-rzzikl"),P(o,"red",!t[4].profitable),s.value=t[0],j(s,"class","price-input svelte-rzzikl"),j(s,"type","number"),P(s,"red",!t[4].profitable),j(r,"class","u-price-wrapper svelte-rzzikl"),P(r,"red",!t[4].profitable),j(c,"class","u-profit svelte-rzzikl"),P(c,"red",!t[4].profitable),j(n,"class","u-price-calculator svelte-rzzikl")},m(e,d){w(e,n,d),$(n,r),$(r,o),$(r,i),$(r,s),t[12](s),$(n,a),$(n,c),f.m(c,null),l||(u=I(s,"input",t[5]),l=!0)},p(e,[t]){16&t&&P(o,"red",!e[4].profitable),1&t&&(s.value=e[0]),16&t&&P(s,"red",!e[4].profitable),16&t&&P(r,"red",!e[4].profitable),p===(p=d(e))&&f?f.p(e,t):(f.d(1),f=p(e),f&&(f.c(),f.m(c,null))),16&t&&P(c,"red",!e[4].profitable)},i:e,o:e,d(e){e&&x(n),t[12](null),f.d(),l=!1,u()}}}function qn(t,n,r){let o,i=e,s=()=>(i(),i=c(u,(e=>r(4,o=e))),u);t.$$.on_destroy.push((()=>i())),function(){const e=W()}();let{cost:a}=n,{unifyProfit:l}=n,{priceCalculatorData:u}=n;s();let d,{delivery:p}=n,{printarea:f}=n,{frontCost:h=0}=n,{backCost:v=0}=n,{price:g=Math.ceil((l*(1+bn)+p+a+h+v)*(1+$n))+2}=n,y=!1;f?.subscribe&&f.subscribe((e=>{if(!1!==y||0!=e.front.price||0!=e.back.price)if(!0===y&&0==e.front.price&&0==e.back.price){y=!1;let t=Math.floor((g/(1+$n)-a-p-h-v)/(1+bn)-l);console.log("creatorPorift: "+t),r(6,h=e.front.price),r(7,v=e.back.price),r(0,g=Math.ceil(((l+t)*(1+bn)+p+a+h+v)*(1+$n))),b=!(t<1),r(2,d.value=g,d),m(u,o={profit:t,price:g,profitable:b},o)}else{y=!0,console.log(e);let t=Math.floor((o.price/(1+$n)-a-p-h-v)/(1+bn)-l);console.log("creatorPorift: "+t),r(6,h=e.front.price),r(7,v=e.back.price),r(0,g=Math.ceil(((l+t)*(1+bn)+p+a+h+v)*(1+$n))),b=!(t<1),r(2,d.value=g,d),m(u,o={profit:t,price:g,profitable:b},o)}}));let _=Math.floor((g/(1+$n)-a-p-h-v)/(1+bn)-l),b=!(_<1);console.log(b),m(u,o={profit:_,price:g,profitable:b},o),console.log(o);return t.$$set=e=>{"cost"in e&&r(8,a=e.cost),"unifyProfit"in e&&r(9,l=e.unifyProfit),"priceCalculatorData"in e&&s(r(1,u=e.priceCalculatorData)),"delivery"in e&&r(10,p=e.delivery),"printarea"in e&&r(11,f=e.printarea),"frontCost"in e&&r(6,h=e.frontCost),"backCost"in e&&r(7,v=e.backCost),"price"in e&&r(0,g=e.price)},[g,u,d,_,o,e=>{let t=e.target.value;console.log("input price:"+t),console.log("itemcost:"+a),console.log("unify profit:"+l),r(3,_=Math.floor((t/(1+$n)-a-p-h-v)/(1+bn)-l)),b=!(_<1),m(u,o={profit:_,price:t,profitable:b},o),console.log(o),console.log("profit:"+_)},h,v,a,l,p,f,function(e){Q[e?"unshift":"push"]((()=>{d=e,r(2,d)}))}]}class Un extends Ce{constructor(e){super(),Te(this,e,qn,Pn,a,{cost:8,unifyProfit:9,priceCalculatorData:1,delivery:10,printarea:11,frontCost:6,backCost:7,price:0})}}function Mn(e,t,n){const r=e.slice();return r[43]=t[n],r}function An(e,t,n){const r=e.slice();return r[43]=t[n],r}function Fn(e,t,n){const r=e.slice();return r[48]=t[n],r}function Bn(e){let t,n,r;return n=new $t({}),{c(){t=S("div"),xe(n.$$.fragment),j(t,"class","u-spinner-area svelte-1ef5fzl")},m(e,o){w(e,t,o),ke(n,t,null),r=!0},i(e){r||(he(n.$$.fragment,e),r=!0)},o(e){ve(n.$$.fragment,e),r=!1},d(e){e&&x(t),Se(n)}}}function Hn(e){let t,n=e[2].colors,r=[];for(let t=0;t<n.length;t+=1)r[t]=Wn(Fn(e,n,t));return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=O()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);w(e,t,n)},p(e,o){if(1048708&o[0]){let i;for(n=e[2].colors,i=0;i<n.length;i+=1){const s=Fn(e,n,i);r[i]?r[i].p(s,o):(r[i]=Wn(s),r[i].c(),r[i].m(t.parentNode,t))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){k(r,e),e&&x(t)}}}function Wn(e){let t,n,r,o,i,s,a;function c(){return e[26](e[48])}return{c(){t=S("abbr"),n=S("div"),o=C(),j(n,"style",r=ct({"background-color":st[e[48].toLocaleLowerCase()]})),j(n,"class","color-circle svelte-1ef5fzl"),P(n,"active",e[7].includes(e[48])),j(t,"class","color-circle-container svelte-1ef5fzl"),j(t,"title",i=e[48])},m(e,r){w(e,t,r),$(t,n),$(t,o),s||(a=I(n,"click",c),s=!0)},p(o,s){e=o,4&s[0]&&r!==(r=ct({"background-color":st[e[48].toLocaleLowerCase()]}))&&j(n,"style",r),132&s[0]&&P(n,"active",e[7].includes(e[48])),4&s[0]&&i!==(i=e[48])&&j(t,"title",i)},d(e){e&&x(t),s=!1,a()}}}function Xn(e){let t,n;return t=new Un({props:{unifyProfit:e[2].profit,cost:e[2].cost,delivery:e[2].delivery,priceCalculatorData:e[9],printarea:e[11]}}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},p(e,n){const r={};4&n[0]&&(r.unifyProfit=e[2].profit),4&n[0]&&(r.cost=e[2].cost),4&n[0]&&(r.delivery=e[2].delivery),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Yn(e){let t,n,r,o;function i(){return e[29](e[43])}return{c(){t=S("div"),n=T(e[43]),j(t,"class","facade svelte-1ef5fzl"),P(t,"active",e[6]==e[43])},m(e,s){w(e,t,s),$(t,n),r||(o=I(t,"click",i),r=!0)},p(n,r){e=n,64&r[0]&&P(t,"active",e[6]==e[43])},d(e){e&&x(t),r=!1,o()}}}function Gn(e){let t,n,r;function o(t){e[30](t)}let i={facade:"Front",selectedColor:e[14],mockupURL:e[2].imgs.front,showBoundaries:e[10],boundaryData:e[2].printable.front,mockup:e[2],printarea:e[11]};return void 0!==e[4].front&&(i.hash=e[4].front),t=new Ln({props:i}),Q.push((()=>we(t,"hash",o))),{c(){xe(t.$$.fragment)},m(e,n){ke(t,e,n),r=!0},p(e,r){const o={};4&r[0]&&(o.mockupURL=e[2].imgs.front),4&r[0]&&(o.boundaryData=e[2].printable.front),4&r[0]&&(o.mockup=e[2]),!n&&16&r[0]&&(n=!0,o.hash=e[4].front,oe((()=>n=!1))),t.$set(o)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ve(t.$$.fragment,e),r=!1},d(e){Se(t,e)}}}function Jn(e){let t,n,r;function o(t){e[31](t)}let i={facade:"Back",selectedColor:e[14],mockupURL:e[2].imgs.back,showBoundaries:e[10],mockup:e[2],boundaryData:e[2].printable.back,printarea:e[11]};return void 0!==e[4].back&&(i.hash=e[4].back),t=new Ln({props:i}),Q.push((()=>we(t,"hash",o))),{c(){xe(t.$$.fragment)},m(e,n){ke(t,e,n),r=!0},p(e,r){const o={};4&r[0]&&(o.mockupURL=e[2].imgs.back),4&r[0]&&(o.mockup=e[2]),4&r[0]&&(o.boundaryData=e[2].printable.back),!n&&16&r[0]&&(n=!0,o.hash=e[4].back,oe((()=>n=!1))),t.$set(o)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ve(t.$$.fragment,e),r=!1},d(e){Se(t,e)}}}function Vn(e){let t,n,r,o;function i(){return e[32](e[43])}return{c(){t=S("div"),n=T(e[43]),j(t,"class","action svelte-1ef5fzl"),P(t,"active",e[8]==e[43])},m(e,s){w(e,t,s),$(t,n),r||(o=I(t,"click",i),r=!0)},p(n,r){e=n,256&r[0]&&P(t,"active",e[8]==e[43])},d(e){e&&x(t),r=!1,o()}}}function Kn(e){let t,n,r,o,s,a,c,l,u,d,p,f,m,h,v,g,y,_,b,E,T,O,L,N,q,U,M,A,F,B,H,W,X,Y,G,J,V,K,Q,Z,ee,te,ne,re,oe,ie,se,ae,ce,le,ue,de,pe,ge,ye,_e,be,$e=e[1]&&Bn(),we=e[2]&&e[2].colors&&Hn(e),xe=e[0]&&Xn(e),ke=["Front","Back"],Se=[];for(let t=0;t<2;t+=1)Se[t]=Yn(An(e,ke,t));let Ee=e[2].imgs.front&&Gn(e),Te=e[2].imgs.back&&Jn(e),Ce=["Design","Preview"],Oe=[];for(let t=0;t<2;t+=1)Oe[t]=Vn(Mn(e,Ce,t));return{c(){t=S("div"),$e&&$e.c(),n=C(),r=S("div"),o=S("div"),o.textContent="Create Your Merch",s=C(),a=S("div"),c=S("div"),c.textContent="Merch Name",l=C(),u=S("input"),d=C(),p=S("div"),f=S("div"),f.textContent="Design your product",m=C(),h=S("div"),v=S("label"),g=S("input"),y=C(),_=S("img"),E=C(),T=S("span"),T.textContent="Add Image",O=C(),L=S("div"),N=S("div"),N.textContent="Select Product Color",q=C(),U=S("div"),we&&we.c(),M=C(),A=S("div"),F=S("div"),F.textContent="Which face customers see first",B=C(),H=S("div"),W=S("div"),W.textContent="Front",X=C(),Y=S("div"),Y.textContent="Back",G=C(),J=S("div"),V=S("div"),V.textContent="Set Your Price",K=C(),xe&&xe.c(),Q=C(),Z=S("div"),ee=S("div"),ee.textContent="CREATE",te=C(),ne=S("div"),re=S("div");for(let e=0;e<2;e+=1)Se[e].c();oe=C(),ie=S("div"),se=S("div"),ae=S("div"),Ee&&Ee.c(),ce=C(),le=S("div"),Te&&Te.c(),ue=C(),de=S("div");for(let e=0;e<2;e+=1)Oe[e].c();pe=C(),ge=S("div"),ge.textContent="pictures",j(o,"class","u-title svelte-1ef5fzl"),j(c,"class","control-title svelte-1ef5fzl"),j(u,"placeholder","Merch Name"),j(u,"type","text"),j(u,"class","merch-name svelte-1ef5fzl"),P(u,"border-error",e[5]),j(a,"class","control-container svelte-1ef5fzl"),j(f,"class","control-title svelte-1ef5fzl"),j(g,"accept","image/png, image/jpeg"),j(g,"id","img-uploader"),j(g,"type","file"),j(g,"class","svelte-1ef5fzl"),_.src!==(b="/imgs/misc/designer/picture.png")&&j(_,"src","/imgs/misc/designer/picture.png"),j(_,"alt","im"),j(_,"class","svelte-1ef5fzl"),j(v,"for","img-uploader"),j(v,"class","option svelte-1ef5fzl"),j(h,"class","options svelte-1ef5fzl"),j(p,"class","control-container svelte-1ef5fzl"),j(N,"class","control-title svelte-1ef5fzl"),j(U,"class","colors-container svelte-1ef5fzl"),j(L,"class","control-container svelte-1ef5fzl"),j(F,"class","control-title svelte-1ef5fzl"),j(W,"class","one-face svelte-1ef5fzl"),P(W,"active","front"==e[3].featuredFace),j(Y,"class","one-face svelte-1ef5fzl"),P(Y,"active","back"==e[3].featuredFace),j(H,"class","show-faces svelte-1ef5fzl"),j(A,"class","control-container svelte-1ef5fzl"),j(V,"class","control-title svelte-1ef5fzl"),j(J,"class","control-container svelte-1ef5fzl"),j(ee,"class","u-finalize svelte-1ef5fzl"),j(Z,"class","control-container flexed svelte-1ef5fzl"),j(r,"class","controls svelte-1ef5fzl"),j(re,"class","facades svelte-1ef5fzl"),j(ae,"class","u-canva-container svelte-1ef5fzl"),P(ae,"active","Front"==e[6]),j(le,"class","u-canva-container svelte-1ef5fzl"),P(le,"active","Back"==e[6]),j(se,"class","design-area svelte-1ef5fzl"),j(ge,"class","action svelte-1ef5fzl"),j(de,"class","actions svelte-1ef5fzl"),j(ie,"class","u-box svelte-1ef5fzl"),j(ne,"class","design-container svelte-1ef5fzl"),j(t,"class","u-view svelte-1ef5fzl")},m(i,b){w(i,t,b),$e&&$e.m(t,null),$(t,n),$(t,r),$(r,o),$(r,s),$(r,a),$(a,c),$(a,l),$(a,u),D(u,e[3].name),$(r,d),$(r,p),$(p,f),$(p,m),$(p,h),$(h,v),$(v,g),$(v,y),$(v,_),$(v,E),$(v,T),$(r,O),$(r,L),$(L,N),$(L,q),$(L,U),we&&we.m(U,null),$(r,M),$(r,A),$(A,F),$(A,B),$(A,H),$(H,W),$(H,X),$(H,Y),$(r,G),$(r,J),$(J,V),$(J,K),xe&&xe.m(J,null),$(r,Q),$(r,Z),$(Z,ee),$(t,te),$(t,ne),$(ne,re);for(let e=0;e<2;e+=1)Se[e].m(re,null);$(ne,oe),$(ne,ie),$(ie,se),$(se,ae),Ee&&Ee.m(ae,null),$(se,ce),$(se,le),Te&&Te.m(le,null),$(ie,ue),$(ie,de);for(let e=0;e<2;e+=1)Oe[e].m(de,null);$(de,pe),$(de,ge),ye=!0,_e||(be=[I(u,"input",e[24]),I(u,"click",e[25]),I(g,"change",e[17]),I(W,"click",e[27]),I(Y,"click",e[28]),I(ee,"click",e[19]),I(ge,"click",e[21]),I(ne,"keyup",e[16]),I(t,"drop",z(e[18])),I(t,"dragover",R(z(e[23])))],_e=!0)},p(e,r){if(e[1]?$e?2&r[0]&&he($e,1):($e=Bn(),$e.c(),he($e,1),$e.m(t,n)):$e&&(fe(),ve($e,1,1,(()=>{$e=null})),me()),8&r[0]&&u.value!==e[3].name&&D(u,e[3].name),32&r[0]&&P(u,"border-error",e[5]),e[2]&&e[2].colors?we?we.p(e,r):(we=Hn(e),we.c(),we.m(U,null)):we&&(we.d(1),we=null),8&r[0]&&P(W,"active","front"==e[3].featuredFace),8&r[0]&&P(Y,"active","back"==e[3].featuredFace),e[0]?xe?(xe.p(e,r),1&r[0]&&he(xe,1)):(xe=Xn(e),xe.c(),he(xe,1),xe.m(J,null)):xe&&(fe(),ve(xe,1,1,(()=>{xe=null})),me()),64&r[0]){let t;for(ke=["Front","Back"],t=0;t<2;t+=1){const n=An(e,ke,t);Se[t]?Se[t].p(n,r):(Se[t]=Yn(n),Se[t].c(),Se[t].m(re,null))}for(;t<2;t+=1)Se[t].d(1)}if(e[2].imgs.front?Ee?(Ee.p(e,r),4&r[0]&&he(Ee,1)):(Ee=Gn(e),Ee.c(),he(Ee,1),Ee.m(ae,null)):Ee&&(fe(),ve(Ee,1,1,(()=>{Ee=null})),me()),64&r[0]&&P(ae,"active","Front"==e[6]),e[2].imgs.back?Te?(Te.p(e,r),4&r[0]&&he(Te,1)):(Te=Jn(e),Te.c(),he(Te,1),Te.m(le,null)):Te&&(fe(),ve(Te,1,1,(()=>{Te=null})),me()),64&r[0]&&P(le,"active","Back"==e[6]),256&r[0]){let t;for(Ce=["Design","Preview"],t=0;t<2;t+=1){const n=Mn(e,Ce,t);Oe[t]?Oe[t].p(n,r):(Oe[t]=Vn(n),Oe[t].c(),Oe[t].m(de,pe))}for(;t<2;t+=1)Oe[t].d(1)}},i(e){ye||(he($e),he(xe),he(Ee),he(Te),ye=!0)},o(e){ve($e),ve(xe),ve(Ee),ve(Te),ye=!1},d(e){e&&x(t),$e&&$e.d(),we&&we.d(),xe&&xe.d(),k(Se,e),Ee&&Ee.d(),Te&&Te.d(),k(Oe,e),_e=!1,i(be)}}}function Qn(e,t,n){let r,o,i,s,a,c,u,d,p,f;l(e,ot,(e=>n(35,i=e))),l(e,rt,(e=>n(36,s=e))),l(e,gt,(e=>n(39,d=e)));let{params:h}=t;console.log(h),console.log(xn);let v=!1;const g=Ie({});l(e,g,(e=>n(38,u=e)));const y=Ie(!0);l(e,y,(e=>n(40,p=e)));let _=!1,b={imgs:{front:"",back:""},profit:1,cost:10};const $={id:ut(),name:"",featuredFace:"front",mockup:h.itemid,imgs:{front:"",back:""},price:0},w=Ie({front:{area:0,price:0},back:{area:0,price:0}});l(e,w,(e=>n(34,o=e)));const x=Ie("Design");l(e,x,(e=>n(8,f=e)));const k=Ie("Front");l(e,k,(e=>n(6,r=e)));const S=Ie("Blue");l(e,S,(e=>n(37,a=e)));const E=Ie([]);l(e,E,(e=>n(7,c=e)));const T=e=>{if(e=e||window.event,console.log(e.code),"Delete"==e.code&&C[r.toLocaleLowerCase()].canva.getActiveObjects().length>0)for(let e of C[r.toLocaleLowerCase()].canva.getActiveObjects())C[r.toLocaleLowerCase()].canva.remove(e)};let C={front:{canva:"",background:"",mockup:"",items:[]},back:{canva:"",background:"",mockup:"",items:[]}};X((async()=>{console.log(xn[h.itemid]),null==xn[h.itemid]&&(console.log("navigating"),Ne("/merch/create")),n(2,b=xn[h.itemid]),m(w,o={front:{area:0,price:0,minPrice:b.print.front},back:{area:0,price:0,minPrice:b.print.back}},o),n(0,v=!0),m(ot,i=!1,i),m(rt,s=!0,s),m(S,a=b.colors[0],a),m(E,c=[b.colors[0]],c),document.addEventListener("keyup",T)})),Y((()=>{m(ot,i=!0,i),document.removeEventListener("keyup",T)}));const O=async e=>{console.log("adding image to "+r.toLocaleLowerCase());let t=C[r.toLocaleLowerCase()];await fabric.Image.fromURL(URL.createObjectURL(e),(function(e){e.clipPath=C[r.toLocaleLowerCase()].boundary;let n=ut();e.originalGID=n,t.items.push(e),e.scaleToWidth(100,!1),e.center(),t.canva.add(e),e.center(),e.set({top:b.printable[r.toLocaleLowerCase()].top+5}),e.setCoords(),e.saveState(),console.log(e._originalElement.currentSrc)})),setTimeout((()=>{(()=>{let e=C[r.toLocaleLowerCase()];e.canva.sendToBack(e.background),e.canva.bringToFront(e.mockup),e.canva.renderAll()})()}),1e3)};let I=!1;const z=e=>{c.includes(e)?(m(E,c=c.filter((t=>t!=e)),c),0==c.length?(m(E,c=[b.colors[0]],c),m(S,a=b.colors[0],a)):m(S,a=c[0],a)):(m(E,c=[...c,e],c),m(S,a=e,a))};return e.$$set=e=>{"params"in e&&n(22,h=e.params)},[v,_,b,$,C,I,r,c,f,g,y,w,x,k,S,E,T,async e=>{let t=e.target.files[0];null!=t&&(t.size>6291456?dt.set({accentColor:"alert",title:"Image size",content:"Image size should not exceed 6 MBs"}):O(t))},e=>{let t=e.dataTransfer.files[0];null!=t&&(t.size>6291456?dt.set({accentColor:"alert",title:"Image size",content:"Image size should not exceed 6 MBs"}):O(t))},async()=>{if(console.log($),0==$.name.length)return n(5,I=!0),void dt.set({accentColor:"alert",title:"Merch name",content:"Input merch name"});if(C.front.items.length+C.back.items.length==0)return void dt.set({accentColor:"alert",title:"Add customizations",content:"Atleast 1 customization is needed to create merch"});if(u.profit<2)return void dt.set({accentColor:"alert",title:"Profit",content:"A merch should generate atleast a profit of 2 tnd"});n(1,_=!0),n(3,$.creator=d.claims.username,$),n(3,$.price=u.price,$),n(3,$.profit=u.profit,$),n(3,$.sizes=b.sizes,$);let e=(e,t)=>new Promise((async(n,r)=>{let o,i="creators/"+t,s=yt.ref().child(i);o="string"==typeof e?s.putString(e,"data_url"):s.put(e);o.on("state_changed",(e=>{Math.round(e.bytesTransferred/e.totalBytes*100)}),(e=>{console.log(e),r(e)}),(async()=>{n(await o.snapshot.ref.getDownloadURL())}))}));m(y,p=!1,p),n(3,$.colors=c,$);let t=a;n(3,$.featuredColor=t,$);for(let t of $.colors){m(S,a=t,a);let r=d.claims.username+"/merch/"+$.id+"/front-"+t,o=d.claims.username+"/merch/"+$.id+"/back-"+t;n(3,$.imgs[t]=$.imgs[t]||{},$),n(3,$.imgs[t].front=(await e(C.front.canva.toDataURL({format:"jpeg",quality:.9}),r)).split("token=",2)[1],$),n(3,$.imgs[t].back=(await e(C.back.canva.toDataURL({format:"jpeg",quality:.9}),o)).split("token=",2)[1],$)}m(y,p=!0,p),m(S,a=t,a),n(3,$.print={front:"",back:""},$);for(let t of["front","back"]){if(C[t].canva.getObjects().filter((e=>!["color-box","boundary","mockup"].includes(e.id))).length>0){let r=d.claims.username+"/merch/"+$.id+"/"+t+"-print.png";C[t].mockup.set("opacity",0),C[t].background.set("opacity",0),C[t].boundary.set("opacity",0);const o=C[t].canva.toDataURL({top:C[t].boundary.top+C[t].boundary.strokeWidth,left:C[t].boundary.left+C[t].boundary.strokeWidth,width:C[t].boundary.width-C[t].boundary.strokeWidth,height:C[t].boundary.height-C[t].boundary.strokeWidth,multiplier:7,quality:1,format:"png"});C[t].mockup.set("opacity",1),C[t].background.set("opacity",1),C[t].boundary.set("opacity",1);let i=(await e(o,r)).split("token=",2)[1];n(3,$.print[t]=i,$)}}n(3,$.color=a,$),console.log($),n(3,$.timestamp=firebase.firestore.FieldValue.serverTimestamp(),$);const r=ht.batch();r.set(ht.doc("/creators/"+d.claims.username+"/merch/all"),{[$.id]:$},{merge:!0}),r.set(ht.doc("/creators/"+d.claims.username+"/merch/"+$.id),$),await r.commit(),n(1,_=!1),dt.set({accentColor:"success",title:"Success",content:"Merch created"}),Ne("/merch/all",{replace:!0})},z,()=>{var e=document.createElement("a");C.front.mockup.set("opacity",0),C.front.background.set("opacity",0),C.front.boundary.set("opacity",0);var t=C.front.canva.toDataURL({top:C.front.boundary.top+C.front.boundary.strokeWidth,left:C.front.boundary.left+C.front.boundary.strokeWidth,width:C.front.boundary.width-C.front.boundary.strokeWidth,height:C.front.boundary.height-C.front.boundary.strokeWidth,multiplier:7,format:"png"});C.front.mockup.set("opacity",1),C.front.background.set("opacity",1),C.front.boundary.set("opacity",1),t.substr(22,t.length);var n=function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),o=r.length,i=new Uint8Array(o);o--;)i[o]=r.charCodeAt(o);return new Blob([i],{type:n})}(t),r=URL.createObjectURL(n);e.download="helloWorld.png",e.href=r,e.click()},h,function(t){V(e,t)},function(){$.name=this.value,n(3,$)},()=>{n(5,I=!1)},e=>{z(e)},()=>{n(3,$.featuredFace="front",$)},()=>{n(3,$.featuredFace="back",$)},e=>{r!=e&&m(k,r=e,r)},function(t){e.$$.not_equal(C.front,t)&&(C.front=t,n(4,C))},function(t){e.$$.not_equal(C.back,t)&&(C.back=t,n(4,C))},e=>{f!=e&&m(x,f=e,f)}]}class Zn extends Ce{constructor(e){super(),Te(this,e,Qn,Kn,a,{params:22},[-1,-1])}}function er(t){let n,r;return n=new $t({}),{c(){xe(n.$$.fragment)},m(e,t){ke(n,e,t),r=!0},p:e,i(e){r||(he(n.$$.fragment,e),r=!0)},o(e){ve(n.$$.fragment,e),r=!1},d(e){Se(n,e)}}}function tr(e){let t,n,r,o,s,a,c,l,u,d,p,f,m,h,v,g,y,_,b,k,E,T,O,z,R,L,D,P,q,U,M,A,F;const B=[rr,nr],H=[];function W(e,t){return e[2]?0:1}r=W(e),o=H[r]=B[r](e),L=new Un({props:{priceCalculatorData:e[8],cost:e[1].cost,unifyProfit:e[1].profit,price:e[1].price,delivery:e[1].delivery}});const X=[ir,or],Y=[];function G(e,t){return e[3]?0:1}return q=G(e),U=Y[q]=X[q](e),{c(){t=S("header"),n=S("div"),o.c(),s=C(),a=S("div"),c=S("div"),l=S("div"),u=S("img"),p=C(),f=S("div"),m=S("img"),v=C(),g=S("div"),y=S("div"),_=S("label"),_.textContent="Merch Name",b=C(),k=S("input"),T=C(),O=S("div"),z=S("label"),z.textContent="Price",R=C(),xe(L.$$.fragment),D=C(),P=S("div"),U.c(),j(n,"href","/merch/create"),j(n,"class","u-button svelte-or7ce"),j(t,"class","svelte-or7ce"),u.src!==(d=e[1].imgs[e[1].featuredColor].front)&&j(u,"src",d),j(u,"alt","front"),j(u,"class","svelte-or7ce"),j(l,"class","image-container svelte-or7ce"),m.src!==(h=e[1].imgs[e[1].featuredColor].back)&&j(m,"src",h),j(m,"alt","back"),j(m,"class","svelte-or7ce"),j(f,"class","image-container svelte-or7ce"),j(c,"class","u-image-section svelte-or7ce"),j(_,"for","name"),j(_,"class","svelte-or7ce"),k.value=E=e[1].name,j(k,"class","input-text svelte-or7ce"),j(k,"type","text"),j(k,"id","name"),j(y,"class","input-container svelte-or7ce"),j(z,"for","name"),j(z,"class","svelte-or7ce"),j(O,"class","input-container svelte-or7ce"),j(P,"class","u-update svelte-or7ce"),N(P,"background",e[6]),N(P,"color",e[5]),N(P,"border","1px solid "+e[7]),j(g,"class","u-info-section svelte-or7ce"),j(a,"class","u-content svelte-or7ce")},m(o,i){w(o,t,i),$(t,n),H[r].m(n,null),w(o,s,i),w(o,a,i),$(a,c),$(c,l),$(l,u),$(c,p),$(c,f),$(f,m),$(a,v),$(a,g),$(g,y),$(y,_),$(y,b),$(y,k),e[14](k),$(g,T),$(g,O),$(O,z),$(O,R),ke(L,O,null),$(g,D),$(g,P),Y[q].m(P,null),M=!0,A||(F=[I(n,"click",e[9]),I(P,"click",e[10]),I(P,"mouseover",e[11]),I(P,"mouseout",e[12])],A=!0)},p(e,t){let i=r;r=W(e),r!==i&&(fe(),ve(H[i],1,1,(()=>{H[i]=null})),me(),o=H[r],o||(o=H[r]=B[r](e),o.c()),he(o,1),o.m(n,null)),(!M||2&t&&u.src!==(d=e[1].imgs[e[1].featuredColor].front))&&j(u,"src",d),(!M||2&t&&m.src!==(h=e[1].imgs[e[1].featuredColor].back))&&j(m,"src",h),(!M||2&t&&E!==(E=e[1].name)&&k.value!==E)&&(k.value=E);const s={};2&t&&(s.cost=e[1].cost),2&t&&(s.unifyProfit=e[1].profit),2&t&&(s.price=e[1].price),2&t&&(s.delivery=e[1].delivery),L.$set(s);let a=q;q=G(e),q!==a&&(fe(),ve(Y[a],1,1,(()=>{Y[a]=null})),me(),U=Y[q],U||(U=Y[q]=X[q](e),U.c()),he(U,1),U.m(P,null)),(!M||64&t)&&N(P,"background",e[6]),(!M||32&t)&&N(P,"color",e[5]),(!M||128&t)&&N(P,"border","1px solid "+e[7])},i(e){M||(he(o),he(L.$$.fragment,e),he(U),M=!0)},o(e){ve(o),ve(L.$$.fragment,e),ve(U),M=!1},d(n){n&&x(t),H[r].d(),n&&x(s),n&&x(a),e[14](null),Se(L),Y[q].d(),A=!1,i(F)}}}function nr(t){let n;return{c(){n=T("Delete")},m(e,t){w(e,n,t)},i:e,o:e,d(e){e&&x(n)}}}function rr(e){let t,n;return t=new $t({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function or(t){let n;return{c(){n=T("Update")},m(e,t){w(e,n,t)},i:e,o:e,d(e){e&&x(n)}}}function ir(e){let t,n;return t=new $t({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function sr(e){let t,n,r,o;const i=[tr,er],s=[];function a(e,t){return e[0]&&e[1]?0:1}return n=a(e),r=s[n]=i[n](e),{c(){t=S("div"),r.c(),j(t,"class","u-view svelte-or7ce"),P(t,"center",!e[0])},m(e,r){w(e,t,r),s[n].m(t,null),o=!0},p(e,[o]){let c=n;n=a(e),n===c?s[n].p(e,o):(fe(),ve(s[c],1,1,(()=>{s[c]=null})),me(),r=s[n],r?r.p(e,o):(r=s[n]=i[n](e),r.c()),he(r,1),r.m(t,null)),1&o&&P(t,"center",!e[0])},i(e){o||(he(r),o=!0)},o(e){ve(r),o=!1},d(e){e&&x(t),s[n].d()}}}function ar(e,t,n){let r,o,i,s;l(e,gt,(e=>n(15,r=e))),l(e,pt,(e=>n(16,o=e))),l(e,nt,(e=>n(18,s=e)));let{params:a={}}=t;const c=Ie({});l(e,c,(e=>n(17,i=e)));let u,d=!1;X((async()=>{let e=(await ht.doc("/creators/"+r.claims.username+"/merch/"+a.itemid).get()).data();null==e&&Ne("/merch/all");for(let[t,n]of Object.entries(e.imgs)){console.log(n);for(let[o,i]of Object.entries(n)){let n="creators/"+r.claims.username+"/merch/"+a.itemid+"/"+o+"-"+t;e.imgs[t][o]=lt(i,n),console.log(e.imgs[t][o])}}console.log(e),e.cost=xn[e.mockup].cost,e.profit=xn[e.mockup].profit,e.delivery=xn[e.mockup].delivery,n(1,u=e),n(0,d=!0)}));let p=!1;let f=!1;let m,h="white",v=s,g=s;return e.$$set=e=>{"params"in e&&n(13,a=e.params)},[d,u,p,f,m,h,v,g,c,async()=>{if(p)return;if(n(2,p=!0),"true"==await o({title:"Delete Merch "+u.name,desc:"Are you sure you want to delete item "+u.id,buttons:[{name:"Confirm",value:!0,color:"ok"},{name:"Decline",value:!1,color:"danger"}]})){let e=ht.batch();e.update(ht.doc("/creators/"+r.claims.username+"/merch/"+a.itemid),{deleted:!0}),e.update(ht.doc("/creators/"+r.claims.username+"/merch/all"),{[a.itemid+"."+deleted]:!0}),await e.commit(),dt.set({accentColor:"success",title:"Success",content:"Merch Deleted"}),setTimeout((()=>{Ne("/merch/all")}),800)}n(2,p=!1)},async()=>{if(1==f)return;if(n(3,f=!0),i.profit<2)return dt.set({accentColor:"alert",title:"Profit",content:"Item should generate at least 2tnd profit"}),void n(3,f=!1);if(0==m.value.length)return dt.set({accentColor:"alert",title:"Merch Name",content:"Merch must have a name"}),void n(3,f=!1);let e={},t={};if(m.value!=u.name&&(e.name=m.value,t[a.itemid+".name"]=m.value),i.price!=u.price&&(e.price=i.price,t[a.itemid+".price"]=i.price),0!=Object.keys(e).length){let n=ht.batch();n.update(ht.doc("/creators/"+r.claims.username+"/merch/"+a.itemid),e),n.update(ht.doc("/creators/"+r.claims.username+"/merch/all"),t),await n.commit(),dt.set({accentColor:"success",title:"Success",content:"Merch Updated"})}else dt.set({accentColor:"alert",title:"No Modification",content:"Nothing to Update"});setTimeout((()=>{n(3,f=!1)}),8e3)},e=>{n(5,h=s),n(6,v="white"),n(7,g=s)},e=>{n(5,h="white"),n(6,v=s),n(7,g=s)},a,function(e){Q[e?"unshift":"push"]((()=>{m=e,n(4,m)}))}]}class cr extends Ce{constructor(e){super(),Te(this,e,ar,sr,a,{params:13})}}function lr(e){let t,n;return t=new _n({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function ur(e){let t,n;return t=new zn({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function dr(e){let t,n;return t=new Zn({props:{params:e[0]}}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.params=e[0]),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function pr(e){let t,n;return t=new cr({props:{params:e[0]}}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.params=e[0]),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function fr(e){let t,n,r,o,i,s,a,c;return t=new et({props:{path:"/all",$$slots:{default:[lr]},$$scope:{ctx:e}}}),r=new et({props:{path:"/create",$$slots:{default:[ur]},$$scope:{ctx:e}}}),i=new et({props:{path:"/create/:itemid",$$slots:{default:[dr,({params:e})=>({0:e}),({params:e})=>e?1:0]},$$scope:{ctx:e}}}),a=new et({props:{path:"/modify/:itemid",$$slots:{default:[pr,({params:e})=>({0:e}),({params:e})=>e?1:0]},$$scope:{ctx:e}}}),{c(){xe(t.$$.fragment),n=C(),xe(r.$$.fragment),o=C(),xe(i.$$.fragment),s=C(),xe(a.$$.fragment)},m(e,l){ke(t,e,l),w(e,n,l),ke(r,e,l),w(e,o,l),ke(i,e,l),w(e,s,l),ke(a,e,l),c=!0},p(e,n){const o={};2&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};2&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s);const c={};3&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const l={};3&n&&(l.$$scope={dirty:n,ctx:e}),a.$set(l)},i(e){c||(he(t.$$.fragment,e),he(r.$$.fragment,e),he(i.$$.fragment,e),he(a.$$.fragment,e),c=!0)},o(e){ve(t.$$.fragment,e),ve(r.$$.fragment,e),ve(i.$$.fragment,e),ve(a.$$.fragment,e),c=!1},d(e){Se(t,e),e&&x(n),Se(r,e),e&&x(o),Se(i,e),e&&x(s),Se(a,e)}}}function mr(e){let t,n;return t=new Xe({props:{$$slots:{default:[fr]},$$scope:{ctx:e}}}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}class hr extends Ce{constructor(e){super(),Te(this,e,null,mr,a,{})}}function vr(t){let n,r,o,i,s,a,c,l,u,d;return{c(){n=S("div"),r=S("label"),o=T(t[1]),s=C(),a=S("div"),c=S("input"),j(r,"for",i=t[2]?t[2]:t[1]),j(r,"required","required"),j(r,"class","input-label svelte-1rpjl5r"),N(r,"color",t[4]),j(c,"id",l=t[2]?t[2]:t[1]),j(c,"type","text"),c.required="required",j(c,"tabindex","1"),j(c,"placeholder",t[3]),j(c,"class","input-text svelte-1rpjl5r"),j(a,"class","input-wrapper-container svelte-1rpjl5r"),j(n,"class","input-wrapper svelte-1rpjl5r")},m(e,i){w(e,n,i),$(n,r),$(r,o),$(n,s),$(n,a),$(a,c),D(c,t[0]),u||(d=I(c,"input",t[5]),u=!0)},p(e,[t]){2&t&&L(o,e[1]),6&t&&i!==(i=e[2]?e[2]:e[1])&&j(r,"for",i),16&t&&N(r,"color",e[4]),6&t&&l!==(l=e[2]?e[2]:e[1])&&j(c,"id",l),8&t&&j(c,"placeholder",e[3]),1&t&&c.value!==e[0]&&D(c,e[0])},i:e,o:e,d(e){e&&x(n),u=!1,d()}}}function gr(e,t,n){let r;l(e,nt,(e=>n(4,r=e)));let{title:o=""}=t,{id:i}=t,{text:s=""}=t,{placeholder:a=""}=t;return e.$$set=e=>{"title"in e&&n(1,o=e.title),"id"in e&&n(2,i=e.id),"text"in e&&n(0,s=e.text),"placeholder"in e&&n(3,a=e.placeholder)},[s,o,i,a,r,function(){s=this.value,n(0,s)}]}class yr extends Ce{constructor(e){super(),Te(this,e,gr,vr,a,{title:1,id:2,text:0,placeholder:3})}}function _r(t){let n,r,o,s,a,c,l,u,d,p,f,m;return{c(){n=S("div"),r=S("label"),o=T(t[1]),a=C(),c=S("div"),l=S("input"),u=C(),d=S("input"),N(r,"color",t[3]),j(r,"for",s=t[2]?t[2]:t[1]),j(r,"required","required"),j(r,"class","input-label svelte-1ez622k"),j(l,"class","color-selector svelte-1ez622k"),j(l,"type","color"),d.disabled=!0,j(d,"id",p=t[2]?t[2]:t[1]),j(d,"type","text"),d.required="required",j(d,"tabindex","1"),j(d,"class","input-text svelte-1ez622k"),j(c,"class","input-wrapper-container svelte-1ez622k"),j(n,"class","input-wrapper svelte-1ez622k")},m(e,i){w(e,n,i),$(n,r),$(r,o),$(n,a),$(n,c),$(c,l),D(l,t[0]),$(c,u),$(c,d),D(d,t[0]),f||(m=[I(l,"input",t[4]),I(d,"input",t[5])],f=!0)},p(e,[t]){2&t&&L(o,e[1]),8&t&&N(r,"color",e[3]),6&t&&s!==(s=e[2]?e[2]:e[1])&&j(r,"for",s),1&t&&D(l,e[0]),6&t&&p!==(p=e[2]?e[2]:e[1])&&j(d,"id",p),1&t&&d.value!==e[0]&&D(d,e[0])},i:e,o:e,d(e){e&&x(n),f=!1,i(m)}}}function br(e,t,n){let r;l(e,nt,(e=>n(3,r=e)));let{title:o=""}=t,{id:i}=t,{text:s=""}=t;return e.$$set=e=>{"title"in e&&n(1,o=e.title),"id"in e&&n(2,i=e.id),"text"in e&&n(0,s=e.text)},[s,o,i,r,function(){s=this.value,n(0,s)},function(){s=this.value,n(0,s)}]}class $r extends Ce{constructor(e){super(),Te(this,e,br,_r,a,{title:1,id:2,text:0})}}function wr(t){let n;return{c(){n=S("div"),j(n,"class","banner-image svelte-1kxzeau")},m(e,t){w(e,n,t)},p:e,d(e){e&&x(n)}}}function xr(e){let t;return{c(){t=S("div"),j(t,"class","banner-image svelte-1kxzeau"),N(t,"background-image","url("+URL.createObjectURL(e[0].banner)+")")},m(e,n){w(e,t,n)},p(e,n){1&n[0]&&N(t,"background-image","url("+URL.createObjectURL(e[0].banner)+")")},d(e){e&&x(t)}}}function kr(e){let t;return{c(){t=S("div"),j(t,"crossorigin","anonymous"),j(t,"class","banner-image svelte-1kxzeau"),N(t,"background-image","url("+lt(e[0].logo,"creators/"+e[3].claims?.username+"/banner")+")")},m(e,n){w(e,t,n)},p(e,n){9&n[0]&&N(t,"background-image","url("+lt(e[0].logo,"creators/"+e[3].claims?.username+"/banner")+")")},d(e){e&&x(t)}}}function Sr(e){let t,n,r;return{c(){t=S("img"),j(t,"class","logo-image svelte-1kxzeau"),t.src!==(n="/imgs/defaultUser.png")&&j(t,"src","/imgs/defaultUser.png"),j(t,"alt",r=e[0].logo)},m(e,n){w(e,t,n)},p(e,n){1&n[0]&&r!==(r=e[0].logo)&&j(t,"alt",r)},d(e){e&&x(t)}}}function Er(e){let t,n;return{c(){t=S("img"),j(t,"class","logo-image svelte-1kxzeau"),t.src!==(n=URL.createObjectURL(e[0].logo))&&j(t,"src",n),j(t,"alt","logo")},m(e,n){w(e,t,n)},p(e,r){1&r[0]&&t.src!==(n=URL.createObjectURL(e[0].logo))&&j(t,"src",n)},d(e){e&&x(t)}}}function Tr(e){let t,n;return{c(){t=S("img"),j(t,"crossorigin","anonymous"),j(t,"class","logo-image svelte-1kxzeau"),t.src!==(n=lt(e[0].logo,"creators/"+e[3].claims?.username+"/logo"))&&j(t,"src",n),j(t,"alt","logo")},m(e,n){w(e,t,n)},p(e,r){9&r[0]&&t.src!==(n=lt(e[0].logo,"creators/"+e[3].claims?.username+"/logo"))&&j(t,"src",n)},d(e){e&&x(t)}}}function Cr(e){let t,n,r,o,s=e[0].name+"";return{c(){t=S("div"),n=T(s),j(t,"class","creator_name svelte-1kxzeau"),j(t,"contenteditable","true")},m(i,s){w(i,t,s),$(t,n),r||(o=[I(t,"click",R(z(e[12]))),I(t,"input",e[17])],r=!0)},p(e,t){1&t[0]&&s!==(s=e[0].name+"")&&L(n,s)},d(e){e&&x(t),r=!1,i(o)}}}function Or(e){let t,n,r,o,s=e[3].claims?.username+"";return{c(){t=S("div"),n=T(s),j(t,"class","creator_name svelte-1kxzeau"),j(t,"contenteditable","true")},m(i,s){w(i,t,s),$(t,n),r||(o=[I(t,"click",R(z(e[11]))),I(t,"input",e[16])],r=!0)},p(e,t){8&t[0]&&s!==(s=e[3].claims?.username+"")&&L(n,s)},d(e){e&&x(t),r=!1,i(o)}}}function Ir(t){let n;return{c(){n=T("Save")},m(e,t){w(e,n,t)},i:e,o:e,d(e){e&&x(n)}}}function zr(e){let t,n;return t=new $t({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Rr(e){let t,n,r,o,s,a,c,l,u,d,p,f,m,v,g,y,_,b,k,E,O,L,q,U,M,A,F,B,H,W,X,Y,G,J,V,K,Z,ee,te,ne,re,ie,se,ae,ce,le,ue,de,pe,ge,ye,_e,be,$e,Ee,Te,Ce,Oe,Ie,ze,Re,je,Le,De,Ne,Pe,qe,Ue,Me,Ae,Fe,Be,He,We,Xe,Ye,Ge,Je,Ve,Ke,Qe,Ze,et,nt,rt,ot,it,st,at,ct,lt,ut,dt,pt,ft,mt,ht,vt,gt,yt,_t,bt,$t,wt,xt,kt,St,Et,Ct,Ot,It,zt,Rt,jt,Lt,Dt;function Nt(e,t){return"string"==typeof e[0].banner&&e[0].banner.length>0?kr:"string"!=typeof e[0].banner?xr:wr}n=new Tt({});let Pt=Nt(e),qt=Pt(e);function Ut(e,t){return"string"==typeof e[0].logo&&e[0].logo.length>0?Tr:"string"!=typeof e[0].logo?Er:Sr}let Mt=Ut(e),At=Mt(e);function Ft(e,t){return""==e[0].name?Or:Cr}let Bt=Ft(e),Ht=Bt(e);function Wt(t){e[19](t)}function Xt(t){e[20](t)}let Yt={title:"Store Name"};function Gt(t){e[21](t)}void 0!==e[0].name&&(Yt.value=e[0].name),void 0!==e[0].name&&(Yt.text=e[0].name),Pe=new yr({props:Yt}),Q.push((()=>we(Pe,"value",Wt))),Q.push((()=>we(Pe,"text",Xt)));let Jt={title:"Accent Color"};function Vt(t){e[23](t)}void 0!==e[0].accentColor&&(Jt.text=e[0].accentColor),Ae=new $r({props:Jt}),Q.push((()=>we(Ae,"text",Gt)));let Kt={placeholder:"Link",title:"Youtube"};function Qt(t){e[24](t)}void 0!==e[0].youtube&&(Kt.text=e[0].youtube),Ze=new yr({props:Kt}),Q.push((()=>we(Ze,"text",Vt)));let Zt={placeholder:"Link",title:"Facebook"};function en(t){e[25](t)}void 0!==e[0].facebook&&(Zt.text=e[0].facebook),rt=new yr({props:Zt}),Q.push((()=>we(rt,"text",Qt)));let tn={placeholder:"Link",title:"Instagram"};function nn(t){e[26](t)}void 0!==e[0].instagram&&(tn.text=e[0].instagram),st=new yr({props:tn}),Q.push((()=>we(st,"text",en)));let rn={placeholder:"Link",title:"Twitch"};function on(t){e[27](t)}void 0!==e[0].twitch&&(rn.text=e[0].twitch),lt=new yr({props:rn}),Q.push((()=>we(lt,"text",nn)));let sn={placeholder:"Link",title:"Nimo"};function an(t){e[28](t)}void 0!==e[0].nimo&&(sn.text=e[0].nimo),pt=new yr({props:sn}),Q.push((()=>we(pt,"text",on)));let cn={placeholder:"Link",title:"Twitter"};function ln(t){e[29](t)}void 0!==e[0].twitter&&(cn.text=e[0].twitter),ht=new yr({props:cn}),Q.push((()=>we(ht,"text",an)));let un={placeholder:"Link",title:"Baaz"};function dn(t){e[30](t)}void 0!==e[0].baaz&&(un.text=e[0].baaz),yt=new yr({props:un}),Q.push((()=>we(yt,"text",ln)));let pn={placeholder:"Link",title:"Tiktok"};function fn(t){e[31](t)}void 0!==e[0].Tiktok&&(pn.text=e[0].Tiktok),$t=new yr({props:pn}),Q.push((()=>we($t,"text",dn)));let mn={placeholder:"Link",title:"pinterest"};void 0!==e[0].pinterest&&(mn.text=e[0].pinterest),kt=new yr({props:mn}),Q.push((()=>we(kt,"text",fn)));const hn=[zr,Ir],vn=[];function gn(e,t){return e[2]?0:1}return Ot=gn(e),It=vn[Ot]=hn[Ot](e),{c(){t=S("div"),xe(n.$$.fragment),r=C(),o=S("section"),s=S("label"),a=S("input"),c=C(),qt.c(),l=C(),u=S("div"),u.innerHTML='<img src="/imgs/misc/camera.svg" alt="camera" class="camera svelte-1kxzeau"/>\n                Edit Cover Photo',d=C(),p=S("label"),f=S("input"),m=C(),v=S("div"),At.c(),g=C(),y=S("div"),y.innerHTML='<img src="/imgs/misc/camera.svg" alt="camera" class="camera svelte-1kxzeau"/>',_=C(),Ht.c(),b=C(),k=S("section"),E=S("div"),O=S("div"),L=S("input"),U=C(),M=S("div"),M.innerHTML='<img src="/imgs/misc/copy.png" alt="copy" class="svelte-1kxzeau"/>',A=C(),F=S("div"),B=S("div"),H=S("div"),W=T("Account Data"),X=C(),Y=S("div"),G=S("div"),J=T("Email"),V=C(),K=S("input"),ee=C(),te=S("div"),ne=S("a"),ne.innerHTML='<img class="u-edit svelte-1kxzeau" src="/imgs/misc/edit.svg" alt="edit"/>',re=C(),ie=S("div"),se=T("Phone Number"),ae=C(),ce=S("input"),ue=C(),de=S("div"),pe=S("div"),ge=T("Personal Data"),ye=C(),_e=S("div"),be=S("div"),$e=T("Name"),Ee=C(),Te=S("input"),Oe=C(),Ie=S("div"),ze=S("div"),Re=T("Date of Birth"),je=C(),Le=S("input"),De=C(),Ne=S("div"),xe(Pe.$$.fragment),Me=C(),xe(Ae.$$.fragment),Be=C(),He=S("div"),We=S("div"),Xe=T("Description"),Ye=C(),Ge=S("textarea"),Je=C(),Ve=S("div"),Ve.textContent="Social Media",Ke=C(),Qe=S("div"),xe(Ze.$$.fragment),nt=C(),xe(rt.$$.fragment),it=C(),xe(st.$$.fragment),ct=C(),xe(lt.$$.fragment),dt=C(),xe(pt.$$.fragment),mt=C(),xe(ht.$$.fragment),gt=C(),xe(yt.$$.fragment),bt=C(),xe($t.$$.fragment),xt=C(),xe(kt.$$.fragment),Et=C(),Ct=S("button"),It.c(),zt=C(),Rt=S("div"),Rt.textContent="Logout",j(a,"type","file"),j(a,"accept","image/png, image/jpeg"),j(a,"id","banner-upload"),j(a,"class","svelte-1kxzeau"),j(u,"class","camera_container svelte-1kxzeau"),j(s,"for","banner-upload"),j(s,"class","banner svelte-1kxzeau"),P(s,"filled",e[0].banner),j(f,"type","file"),j(f,"accept","image/png, image/jpeg"),j(f,"id","logo-upload"),j(f,"class","svelte-1kxzeau"),j(y,"class","camera_container svelte-1kxzeau"),j(v,"class","logo_container svelte-1kxzeau"),j(p,"for","logo-upload"),j(p,"class","logo svelte-1kxzeau"),P(p,"filled",e[0].logo),j(o,"class","banner-logo-area svelte-1kxzeau"),L.disabled=!0,j(L,"type","text"),j(L,"class","name svelte-1kxzeau"),j(L,"id","myStoreID"),L.value=q="https://unify.tn/"+e[3].claims?.username+"/merch",j(M,"class","copyimg svelte-1kxzeau"),j(O,"class","inputContainer svelte-1kxzeau"),j(E,"class","input myStore svelte-1kxzeau"),j(H,"class","title svelte-1kxzeau"),N(H,"color",e[4]),j(G,"class","title svelte-1kxzeau"),N(G,"color",e[4]),K.disabled=!0,j(K,"type","email"),j(K,"class","email svelte-1kxzeau"),K.value=Z=e[3].email?e[3].email:"",j(Y,"class","input svelte-1kxzeau"),j(ne,"href","/phoneverification?backurl=/profile"),j(ie,"class","title svelte-1kxzeau"),N(ie,"color",e[4]),ce.disabled=!0,j(ce,"type","phone"),j(ce,"class","phone_num svelte-1kxzeau"),ce.value=le=e[3].phoneNumber?e[3].phoneNumber:"",j(te,"class","input svelte-1kxzeau"),j(B,"class","account_data svelte-1kxzeau"),j(pe,"class","title svelte-1kxzeau"),N(pe,"color",e[4]),j(be,"class","title svelte-1kxzeau"),N(be,"color",e[4]),j(Te,"type","text"),j(Te,"class","name svelte-1kxzeau"),Te.value=Ce=e[3].displayName?e[3].displayName:"",j(_e,"class","input svelte-1kxzeau"),j(ze,"class","title svelte-1kxzeau"),N(ze,"color",e[4]),j(Le,"type","date"),j(Le,"class","birth_date svelte-1kxzeau"),j(Ie,"class","input svelte-1kxzeau"),j(de,"class","personal_data svelte-1kxzeau"),j(F,"class","user_data svelte-1kxzeau"),j(We,"class","title svelte-1kxzeau"),N(We,"color",e[4]),j(Ge,"class","description svelte-1kxzeau"),j(Ge,"name","description"),j(Ge,"maxlength","350"),j(He,"class","input svelte-1kxzeau"),j(Ne,"class","u-information-box svelte-1kxzeau"),j(Ve,"class","u-section-title svelte-1kxzeau"),j(Qe,"class","u-information-box svelte-1kxzeau"),j(Ct,"class","save-btn svelte-1kxzeau"),N(Ct,"background",e[4]),j(Rt,"class","signout svelte-1kxzeau"),j(k,"class","u-info-area svelte-1kxzeau"),j(t,"class","u-view svelte-1kxzeau")},m(i,x){w(i,t,x),ke(n,t,null),$(t,r),$(t,o),$(o,s),$(s,a),$(s,c),qt.m(s,null),$(s,l),$(s,u),$(o,d),$(o,p),$(p,f),$(p,m),$(p,v),At.m(v,null),$(v,g),$(v,y),$(p,_),Ht.m(p,null),$(t,b),$(t,k),$(k,E),$(E,O),$(O,L),$(O,U),$(O,M),$(k,A),$(k,F),$(F,B),$(B,H),$(H,W),$(B,X),$(B,Y),$(Y,G),$(G,J),$(Y,V),$(Y,K),$(B,ee),$(B,te),$(te,ne),$(te,re),$(te,ie),$(ie,se),$(te,ae),$(te,ce),$(F,ue),$(F,de),$(de,pe),$(pe,ge),$(de,ye),$(de,_e),$(_e,be),$(be,$e),$(_e,Ee),$(_e,Te),$(de,Oe),$(de,Ie),$(Ie,ze),$(ze,Re),$(Ie,je),$(Ie,Le),$(k,De),$(k,Ne),ke(Pe,Ne,null),$(Ne,Me),ke(Ae,Ne,null),$(Ne,Be),$(Ne,He),$(He,We),$(We,Xe),$(He,Ye),$(He,Ge),D(Ge,e[0].description),$(k,Je),$(k,Ve),$(k,Ke),$(k,Qe),ke(Ze,Qe,null),$(Qe,nt),ke(rt,Qe,null),$(Qe,it),ke(st,Qe,null),$(Qe,ct),ke(lt,Qe,null),$(Qe,dt),ke(pt,Qe,null),$(Qe,mt),ke(ht,Qe,null),$(Qe,gt),ke(yt,Qe,null),$(Qe,bt),ke($t,Qe,null),$(Qe,xt),ke(kt,Qe,null),$(k,Et),$(k,Ct),vn[Ot].m(Ct,null),$(k,zt),$(k,Rt),jt=!0,Lt||(Dt=[I(a,"change",e[7]),I(s,"drop",z(e[5])),I(s,"dragover",R(z(e[15]))),I(f,"change",e[8]),I(y,"drop",z(e[6])),I(y,"dragover",R(z(e[14]))),I(v,"drop",z(e[6])),I(v,"dragover",R(z(e[13]))),I(M,"click",e[10]),h(tt.call(null,ne)),I(Te,"input",e[18]),I(Ge,"input",e[22]),I(Ct,"click",e[9]),I(Rt,"click",e[32])],Lt=!0)},p(e,t){Pt===(Pt=Nt(e))&&qt?qt.p(e,t):(qt.d(1),qt=Pt(e),qt&&(qt.c(),qt.m(s,l))),1&t[0]&&P(s,"filled",e[0].banner),Mt===(Mt=Ut(e))&&At?At.p(e,t):(At.d(1),At=Mt(e),At&&(At.c(),At.m(v,g))),Bt===(Bt=Ft(e))&&Ht?Ht.p(e,t):(Ht.d(1),Ht=Bt(e),Ht&&(Ht.c(),Ht.m(p,null))),1&t[0]&&P(p,"filled",e[0].logo),(!jt||8&t[0]&&q!==(q="https://unify.tn/"+e[3].claims?.username+"/merch")&&L.value!==q)&&(L.value=q),(!jt||16&t[0])&&N(H,"color",e[4]),(!jt||16&t[0])&&N(G,"color",e[4]),(!jt||8&t[0]&&Z!==(Z=e[3].email?e[3].email:"")&&K.value!==Z)&&(K.value=Z),(!jt||16&t[0])&&N(ie,"color",e[4]),(!jt||8&t[0]&&le!==(le=e[3].phoneNumber?e[3].phoneNumber:""))&&(ce.value=le),(!jt||16&t[0])&&N(pe,"color",e[4]),(!jt||16&t[0])&&N(be,"color",e[4]),(!jt||8&t[0]&&Ce!==(Ce=e[3].displayName?e[3].displayName:"")&&Te.value!==Ce)&&(Te.value=Ce),(!jt||16&t[0])&&N(ze,"color",e[4]);const n={};!qe&&1&t[0]&&(qe=!0,n.value=e[0].name,oe((()=>qe=!1))),!Ue&&1&t[0]&&(Ue=!0,n.text=e[0].name,oe((()=>Ue=!1))),Pe.$set(n);const r={};!Fe&&1&t[0]&&(Fe=!0,r.text=e[0].accentColor,oe((()=>Fe=!1))),Ae.$set(r),(!jt||16&t[0])&&N(We,"color",e[4]),1&t[0]&&D(Ge,e[0].description);const o={};!et&&1&t[0]&&(et=!0,o.text=e[0].youtube,oe((()=>et=!1))),Ze.$set(o);const i={};!ot&&1&t[0]&&(ot=!0,i.text=e[0].facebook,oe((()=>ot=!1))),rt.$set(i);const a={};!at&&1&t[0]&&(at=!0,a.text=e[0].instagram,oe((()=>at=!1))),st.$set(a);const c={};!ut&&1&t[0]&&(ut=!0,c.text=e[0].twitch,oe((()=>ut=!1))),lt.$set(c);const u={};!ft&&1&t[0]&&(ft=!0,u.text=e[0].nimo,oe((()=>ft=!1))),pt.$set(u);const d={};!vt&&1&t[0]&&(vt=!0,d.text=e[0].twitter,oe((()=>vt=!1))),ht.$set(d);const f={};!_t&&1&t[0]&&(_t=!0,f.text=e[0].baaz,oe((()=>_t=!1))),yt.$set(f);const m={};!wt&&1&t[0]&&(wt=!0,m.text=e[0].Tiktok,oe((()=>wt=!1))),$t.$set(m);const h={};!St&&1&t[0]&&(St=!0,h.text=e[0].pinterest,oe((()=>St=!1))),kt.$set(h);let y=Ot;Ot=gn(e),Ot!==y&&(fe(),ve(vn[y],1,1,(()=>{vn[y]=null})),me(),It=vn[Ot],It||(It=vn[Ot]=hn[Ot](e),It.c()),he(It,1),It.m(Ct,null)),(!jt||16&t[0])&&N(Ct,"background",e[4])},i(e){jt||(he(n.$$.fragment,e),he(Pe.$$.fragment,e),he(Ae.$$.fragment,e),he(Ze.$$.fragment,e),he(rt.$$.fragment,e),he(st.$$.fragment,e),he(lt.$$.fragment,e),he(pt.$$.fragment,e),he(ht.$$.fragment,e),he(yt.$$.fragment,e),he($t.$$.fragment,e),he(kt.$$.fragment,e),he(It),jt=!0)},o(e){ve(n.$$.fragment,e),ve(Pe.$$.fragment,e),ve(Ae.$$.fragment,e),ve(Ze.$$.fragment,e),ve(rt.$$.fragment,e),ve(st.$$.fragment,e),ve(lt.$$.fragment,e),ve(pt.$$.fragment,e),ve(ht.$$.fragment,e),ve(yt.$$.fragment,e),ve($t.$$.fragment,e),ve(kt.$$.fragment,e),ve(It),jt=!1},d(e){e&&x(t),Se(n),qt.d(),At.d(),Ht.d(),Se(Pe),Se(Ae),Se(Ze),Se(rt),Se(st),Se(lt),Se(pt),Se(ht),Se(yt),Se($t),Se(kt),vn[Ot].d(),Lt=!1,i(Dt)}}}function jr(e,t,n){let r,o;l(e,gt,(e=>n(3,r=e))),l(e,nt,(e=>n(4,o=e)));let i={banner:"",logo:"",...r.docData},s=r.displayName;const a=(e,t)=>new Promise((async(n,r)=>{let o,i="creators/"+t,s=yt.ref().child(i);o="string"==typeof e?s.putString(e,"data_url"):s.put(e);o.on("state_changed",(e=>{Math.round(e.bytesTransferred/e.totalBytes*100)}),(e=>{console.log(e),r(e)}),(async()=>{n(await o.snapshot.ref.getDownloadURL())}))}));let c=!1;return[i,s,c,r,o,e=>{console.log("got banner");let t=e.dataTransfer.files[0];null!=t&&(t.size>1048576?dt.set({accentColor:"error",title:"Image Size",content:"Banner size should not exceed 1 MB"}):n(0,i.banner=t,i))},e=>{let t=e.dataTransfer.files[0];null!=t&&(t.size>524288?dt.set({accentColor:"error",title:"Image Size",content:"Profile picture size should not exceed 0.5 MB"}):n(0,i.logo=t,i))},e=>{let t=e.target.files[0];null!=t&&(t.size>1048576?dt.set({accentColor:"error",title:"Image Size",content:"Banner size should not exceed 1 MB"}):n(0,i.banner=t,i))},e=>{let t=e.target.files[0];null!=t&&(t.size>524288?dt.set({accentColor:"error",title:"Image Size",content:"Profile picture size should not exceed 0.5 MB"}):n(0,i.logo=t,i))},async()=>{if(1==c)return;n(2,c=!0),"string"!=typeof i.logo&&n(0,i.logo=(await a(i.logo,r.claims?.username+"/logo")).split("token=",2)[1],i),"string"!=typeof i.banner&&n(0,i.banner=(await a(i.banner,r.claims?.username+"/banner")).split("token=",2)[1],i);let e=!1;if(s!=r.displayName){e=!0;let t=[],n=r.updateProfile({displayName:s});t.push(n),n=ht.doc("/creators/all").set({[r.claims.username]:{persoName:s}},{merge:!0}),t.push(n),await Promise.all(t)}let t=!1;for(let e of Object.keys(r.docData))r.docData[e]!=i[e]&&(t=!0);let l=Object.keys(r.docData),u=Object.keys(i);l.every((e=>u.includes(e)))&&l.length==u.length||(t=!0);for(let e of["youtube","facebook","instagram","twitch","nimo","twitter","baaz","Tiktok","pinterest"])["facebook.com","twitch.tv","youtube.com","instagram.com","twitter.com","tiktok.com","baaz.com","nimo.tv","smart.link","pinterest.com"].some((t=>i[e].includes(t)||0==i[e].length))||(dt.set({accentColor:"alert",title:"Error",content:e+" link is malformed"}),t=!1);1==t&&await ht.doc("/creators/"+r.claims?.username).set(i,{merge:!0}),(e||t)&&dt.set({accentColor:"success",title:"Success",content:"Profile updated"}),m(gt,r={...r,docData:{...r.docData,...i}},r),r.docData?.accentColor&&m(nt,o=r.docData.accentColor,o),console.log(r),n(2,c=!1)},async()=>{await navigator.clipboard.writeText("https://unify.tn/"+r.claims?.username+"/merch"),dt.set({accentColor:"success",title:"success",content:"Link copied to clipboard"})},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},function(t){V(e,t)},e=>{n(0,i.name=e.target.innerHTML,i)},e=>{n(0,i.name=e.target.innerHTML,i)},e=>{n(1,s=e.target.value)},function(t){e.$$.not_equal(i.name,t)&&(i.name=t,n(0,i))},function(t){e.$$.not_equal(i.name,t)&&(i.name=t,n(0,i))},function(t){e.$$.not_equal(i.accentColor,t)&&(i.accentColor=t,n(0,i))},function(){i.description=this.value,n(0,i)},function(t){e.$$.not_equal(i.youtube,t)&&(i.youtube=t,n(0,i))},function(t){e.$$.not_equal(i.facebook,t)&&(i.facebook=t,n(0,i))},function(t){e.$$.not_equal(i.instagram,t)&&(i.instagram=t,n(0,i))},function(t){e.$$.not_equal(i.twitch,t)&&(i.twitch=t,n(0,i))},function(t){e.$$.not_equal(i.nimo,t)&&(i.nimo=t,n(0,i))},function(t){e.$$.not_equal(i.twitter,t)&&(i.twitter=t,n(0,i))},function(t){e.$$.not_equal(i.baaz,t)&&(i.baaz=t,n(0,i))},function(t){e.$$.not_equal(i.Tiktok,t)&&(i.Tiktok=t,n(0,i))},function(t){e.$$.not_equal(i.pinterest,t)&&(i.pinterest=t,n(0,i))},()=>{firebase.auth().signOut()}]}class Lr extends Ce{constructor(e){super(),Te(this,e,jr,Rr,a,{},[-1,-1])}}function Dr(t){let n,r,o;return{c(){n=S("div"),n.textContent="sss",r=C(),o=S("canvas"),j(o,"id","canvas"),j(o,"width","400"),j(o,"height","280")},m(e,t){w(e,n,t),w(e,r,t),w(e,o,t)},p:e,i:e,o:e,d(e){e&&x(n),e&&x(r),e&&x(o)}}}function Nr(e){let t={};return X((()=>{t=new fabric.Canvas("canvas"),t.stateful=!0;var e=new fabric.Rect({width:390,height:230,left:5,top:5,selectable:!1,strokeDashArray:[5,2],stroke:"blue",fill:"transparent"}),n=new fabric.Rect({width:250,height:110,left:50,top:50,selectable:!1,strokeDashArray:[2,5],stroke:"black",fill:"transparent"}),r=new fabric.Circle({radius:30,fill:"rgba(255,0,0,0.8)",top:50,left:50,hasControls:!1});t.add(e),t.add(n),t.add(r),t.on("object:moving",(function(e){var t,r,o=((r=[]).push((t=n).aCoords.tl),r.push(t.aCoords.tr),r.push(t.aCoords.br),r.push(t.aCoords.bl),r.push(t.aCoords.tl),r);(function(e,t){for(var n=!1,r=0,o=t.length-1;r<t.length;o=r++){var i=t[r].x,s=t[r].y,a=t[o].x,c=t[o].y;s>e.y!=c>e.y&&e.x<(a-i)*(e.y-s)/(c-s)+i&&(n=!n)}return n})({x:e.target.left,y:e.target.top},o)?(e.target.setCoords(),e.target.saveState()):(e.target.left=e.target._stateProperties.left,e.target.top=e.target._stateProperties.top)}))})),[]}class Pr extends Ce{constructor(e){super(),Te(this,e,Nr,Dr,a,{})}}function qr(t){let n,r,o;return r=new $t({props:{height:"100px",width:"100px"}}),{c(){n=S("div"),xe(r.$$.fragment),j(n,"class","u-loading svelte-19nlj8z")},m(e,t){w(e,n,t),ke(r,n,null),o=!0},p:e,i(e){o||(he(r.$$.fragment,e),o=!0)},o(e){ve(r.$$.fragment,e),o=!1},d(e){e&&x(n),Se(r)}}}function Ur(e){let t,n,r,o,s,a,c,l,u,d,p,f,m,v,g,y,_,b,k,E,O,R,L,D,N,P,q,U,M,A,F,B,H,W,X,Y,G,J,V,K,Q,Z,ee,te,ne,re,oe,ie,se,ae,ce,le,ue,de,pe,ge,ye,_e=e[7]&&Mr(e);const be=[Fr,Ar],$e=[];function we(e,t){return e[1]?0:1}return ue=we(e),de=$e[ue]=be[ue](e),{c(){t=S("div"),n=S("div"),r=S("div"),o=S("a"),o.innerHTML='<img src="imgs/icons/logo.png" alt="logo" class="svelte-19nlj8z"/>Unify',s=C(),a=S("div"),a.textContent="Dear creator,",c=C(),l=S("div"),l.innerHTML="Are you ready to develop <div>your merchandise platform?</div>  <div>Start NOW.</div>",u=C(),d=S("div"),p=S("div"),p.textContent="Sign up to Unify",f=C(),m=S("div"),m.textContent="sign up using your email",v=C(),g=S("div"),y=T("Aready have an account ? "),_=S("a"),_.textContent="Sign in here",b=C(),k=S("form"),_e&&_e.c(),E=C(),O=S("div"),R=S("img"),D=C(),N=S("input"),P=C(),q=S("div"),U=S("img"),A=C(),F=S("input"),B=C(),H=S("div"),W=S("img"),Y=C(),G=S("input"),J=C(),V=S("div"),K=S("img"),Z=C(),ee=S("input"),te=C(),ne=S("div"),re=S("img"),ie=C(),se=S("input"),ae=C(),ce=S("div"),le=S("button"),de.c(),j(o,"href","/"),j(o,"class","u_logo svelte-19nlj8z"),j(a,"class","title svelte-19nlj8z"),j(l,"class","desc svelte-19nlj8z"),j(r,"class","left_side svelte-19nlj8z"),j(p,"class","title svelte-19nlj8z"),j(m,"class","orEmailText svelte-19nlj8z"),j(_,"href","/login"),j(_,"class","svelte-19nlj8z"),j(g,"class","have-acc svelte-19nlj8z"),R.src!==(L="/imgs/misc/login_register/name.png")&&j(R,"src","/imgs/misc/login_register/name.png"),j(R,"alt","name"),j(R,"class","svelte-19nlj8z"),N.required=!0,j(N,"type","text"),j(N,"class","name svelte-19nlj8z"),j(N,"placeholder","Full Name"),j(O,"class","input svelte-19nlj8z"),U.src!==(M="/imgs/misc/login_register/envelope.png")&&j(U,"src","/imgs/misc/login_register/envelope.png"),j(U,"alt","email"),j(U,"class","svelte-19nlj8z"),F.required=!0,j(F,"type","email"),j(F,"class","email svelte-19nlj8z"),j(F,"placeholder","Email"),j(q,"class","input svelte-19nlj8z"),W.src!==(X="/imgs/misc/login_register/user.png")&&j(W,"src","/imgs/misc/login_register/user.png"),j(W,"alt","email"),j(W,"class","svelte-19nlj8z"),G.required=!0,j(G,"name","email"),j(G,"type","text"),j(G,"class","username svelte-19nlj8z"),j(G,"placeholder","Username"),j(H,"class","input svelte-19nlj8z"),K.src!==(Q="/imgs/misc/login_register/unlock.png")&&j(K,"src","/imgs/misc/login_register/unlock.png"),j(K,"alt","email"),j(K,"class","svelte-19nlj8z"),j(ee,"name","password"),ee.required=!0,j(ee,"type","password"),j(ee,"class","password svelte-19nlj8z"),j(ee,"placeholder","Password"),j(V,"class","input svelte-19nlj8z"),re.src!==(oe="/imgs/misc/login_register/unlock.png")&&j(re,"src","/imgs/misc/login_register/unlock.png"),j(re,"alt","email"),j(re,"class","svelte-19nlj8z"),se.required=!0,j(se,"type","password"),j(se,"class","re_password svelte-19nlj8z"),j(se,"placeholder","Confirm password"),j(ne,"class","input svelte-19nlj8z"),j(le,"type","submit"),j(le,"class","signup_btn svelte-19nlj8z"),j(ce,"class","signup svelte-19nlj8z"),j(k,"class","inputContainer svelte-19nlj8z"),j(d,"class","right_side svelte-19nlj8z"),j(n,"class","signUp_container svelte-19nlj8z"),j(t,"class","container svelte-19nlj8z")},m(i,x){w(i,t,x),$(t,n),$(n,r),$(r,o),$(r,s),$(r,a),$(r,c),$(r,l),$(n,u),$(n,d),$(d,p),$(d,f),$(d,m),$(d,v),$(d,g),$(g,y),$(g,_),$(d,b),$(d,k),_e&&_e.m(k,null),$(k,E),$(k,O),$(O,R),$(O,D),$(O,N),e[9](N),$(k,P),$(k,q),$(q,U),$(q,A),$(q,F),e[10](F),$(k,B),$(k,H),$(H,W),$(H,Y),$(H,G),e[11](G),$(k,J),$(k,V),$(V,K),$(V,Z),$(V,ee),e[12](ee),$(k,te),$(k,ne),$(ne,re),$(ne,ie),$(ne,se),e[13](se),$(k,ae),$(k,ce),$(ce,le),$e[ue].m(le,null),pe=!0,ge||(ye=[h(tt.call(null,o)),h(tt.call(null,_)),I(k,"submit",z(e[8]))],ge=!0)},p(e,t){e[7]?_e?_e.p(e,t):(_e=Mr(e),_e.c(),_e.m(k,E)):_e&&(_e.d(1),_e=null);let n=ue;ue=we(e),ue!==n&&(fe(),ve($e[n],1,1,(()=>{$e[n]=null})),me(),de=$e[ue],de||(de=$e[ue]=be[ue](e),de.c()),he(de,1),de.m(le,null))},i(e){pe||(he(de),pe=!0)},o(e){ve(de),pe=!1},d(n){n&&x(t),_e&&_e.d(),e[9](null),e[10](null),e[11](null),e[12](null),e[13](null),$e[ue].d(),ge=!1,i(ye)}}}function Mr(e){let t,n;return{c(){t=S("div"),n=T(e[7]),j(t,"class","error-container svelte-19nlj8z")},m(e,r){w(e,t,r),$(t,n)},p(e,t){128&t&&L(n,e[7])},d(e){e&&x(t)}}}function Ar(t){let n;return{c(){n=T("Register")},m(e,t){w(e,n,t)},i:e,o:e,d(e){e&&x(n)}}}function Fr(e){let t,n;return t=new $t({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Br(e){let t,n,r,o;const i=[Ur,qr],s=[];function a(e,t){return e[0]?0:1}return t=a(e),n=s[t]=i[t](e),{c(){n.c(),r=O()},m(e,n){s[t].m(e,n),w(e,r,n),o=!0},p(e,[o]){let c=t;t=a(e),t===c?s[t].p(e,o):(fe(),ve(s[c],1,1,(()=>{s[c]=null})),me(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),he(n,1),n.m(r.parentNode,r))},i(e){o||(he(n),o=!0)},o(e){ve(n),o=!1},d(e){s[t].d(e),e&&x(r)}}}function Hr(e,t,n){let r;const o=gt.subscribe((e=>{"init"!=e&&(0!=e&&Ne("/",{replace:!1}),0==e&&n(0,r=!0))}));Y((()=>{o()}));let i=!1,s="",a="",c="",l="",u="",d="";return[r,i,s,a,c,l,u,d,async()=>{if(i)return;if(n(1,i=!0),l.value!=c.value)return n(7,d="Password and Re-Password are different"),void n(1,i=!1);if(null==s.value.match(/^[a-zA-Z0-9]+$/))return n(7,d="Username must only included letters and digits"),void n(1,i=!1);s.value;let e=await(async(e,t)=>await fetch(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8","Access-Control-Origin":"*"},mode:"cors",body:new URLSearchParams(t)}))("https://api.unify.tn/.netlify/functions/express/createCreator",{email:u.value,password:c.value,username:s.value.toLowerCase(),persoName:a.value}),t=await e.json();console.log(t),0==t.success?n(7,d=t.error.message):vt.signInWithCustomToken(t.authToken),n(1,i=!1)},function(e){Q[e?"unshift":"push"]((()=>{a=e,n(3,a)}))},function(e){Q[e?"unshift":"push"]((()=>{u=e,n(6,u)}))},function(e){Q[e?"unshift":"push"]((()=>{s=e,n(2,s)}))},function(e){Q[e?"unshift":"push"]((()=>{c=e,n(4,c)}))},function(e){Q[e?"unshift":"push"]((()=>{l=e,n(5,l)}))}]}class Wr extends Ce{constructor(e){super(),Te(this,e,Hr,Br,a,{})}}function Xr(t){let n;return{c(){n=S("div"),n.textContent="Success: Phone Updated.",j(n,"class","title svelte-8gv24i")},m(e,t){w(e,n,t)},p:e,i:e,o:e,d(e){e&&x(n)}}}function Yr(e){let t,n,r,o,s,a,c,l,u,d,p,f,m,h,v,g,y,_,b,k;function E(e,t){return e[7]&&e[7].phoneNumber?Jr:Gr}let T=E(e),O=T(e),R=e[3]&&Vr(e),L=e[2]&&Kr(e),D=e[2]&&Qr(e);const N=[no,to],P=[];function q(e,t){return e[4]?0:1}return g=q(e),y=P[g]=N[g](e),{c(){t=S("div"),O.c(),n=C(),R&&R.c(),r=C(),o=S("div"),s=S("form"),a=S("i"),c=C(),l=S("input"),d=C(),L&&L.c(),p=C(),f=S("div"),D&&D.c(),m=C(),h=S("div"),v=S("button"),y.c(),j(t,"class","title svelte-8gv24i"),j(a,"class","fas fa-phone svelte-8gv24i"),j(l,"type","text"),j(l,"class","verification svelte-8gv24i"),j(l,"placeholder","Phone Number"),l.value=u=e[7]&&e[7].phoneNumber?e[7].phoneNumber:"",j(s,"class","input"),j(o,"class","inputContainer svelte-8gv24i"),j(v,"id","sign-in-button"),j(v,"class","resend_btn svelte-8gv24i"),j(h,"class","resend"),j(f,"class","verification_btns svelte-8gv24i")},m(i,u){w(i,t,u),O.m(t,null),w(i,n,u),R&&R.m(i,u),w(i,r,u),w(i,o,u),$(o,s),$(s,a),$(s,c),$(s,l),e[10](l),$(o,d),L&&L.m(o,null),w(i,p,u),w(i,f,u),D&&D.m(f,null),$(f,m),$(f,h),$(h,v),P[g].m(v,null),_=!0,b||(k=[I(s,"submit",z(e[8])),I(v,"click",e[8])],b=!0)},p(e,n){T!==(T=E(e))&&(O.d(1),O=T(e),O&&(O.c(),O.m(t,null))),e[3]?R?R.p(e,n):(R=Vr(e),R.c(),R.m(r.parentNode,r)):R&&(R.d(1),R=null),(!_||128&n&&u!==(u=e[7]&&e[7].phoneNumber?e[7].phoneNumber:"")&&l.value!==u)&&(l.value=u),e[2]?L?L.p(e,n):(L=Kr(e),L.c(),L.m(o,null)):L&&(L.d(1),L=null),e[2]?D?(D.p(e,n),4&n&&he(D,1)):(D=Qr(e),D.c(),he(D,1),D.m(f,m)):D&&(fe(),ve(D,1,1,(()=>{D=null})),me());let i=g;g=q(e),g!==i&&(fe(),ve(P[i],1,1,(()=>{P[i]=null})),me(),y=P[g],y||(y=P[g]=N[g](e),y.c()),he(y,1),y.m(v,null))},i(e){_||(he(D),he(y),_=!0)},o(e){ve(D),ve(y),_=!1},d(s){s&&x(t),O.d(),s&&x(n),R&&R.d(s),s&&x(r),s&&x(o),e[10](null),L&&L.d(),s&&x(p),s&&x(f),D&&D.d(),P[g].d(),b=!1,i(k)}}}function Gr(e){let t;return{c(){t=T("Verify your phone number")},m(e,n){w(e,t,n)},d(e){e&&x(t)}}}function Jr(e){let t;return{c(){t=T("Update your phone number")},m(e,n){w(e,t,n)},d(e){e&&x(t)}}}function Vr(e){let t,n;return{c(){t=S("div"),n=T(e[3]),j(t,"class","error-container svelte-8gv24i")},m(e,r){w(e,t,r),$(t,n)},p(e,t){8&t&&L(n,e[3])},d(e){e&&x(t)}}}function Kr(t){let n,r,o,i,s,a;return{c(){n=S("form"),r=S("i"),o=C(),i=S("input"),j(r,"class","fas fa-key svelte-8gv24i"),j(i,"type","text"),j(i,"class","verification svelte-8gv24i"),j(i,"placeholder","Verification Code"),j(n,"class","input")},m(e,c){w(e,n,c),$(n,r),$(n,o),$(n,i),t[11](i),s||(a=I(n,"submit",z(t[9])),s=!0)},p:e,d(e){e&&x(n),t[11](null),s=!1,a()}}}function Qr(e){let t,n,r,o,i,s,a;const c=[eo,Zr],l=[];function u(e,t){return e[6]?0:1}return r=u(e),o=l[r]=c[r](e),{c(){t=S("div"),n=S("button"),o.c(),j(n,"class","send_btn svelte-8gv24i"),j(t,"class","send")},m(o,c){w(o,t,c),$(t,n),l[r].m(n,null),i=!0,s||(a=I(n,"click",e[9]),s=!0)},p(e,t){let i=r;r=u(e),r!==i&&(fe(),ve(l[i],1,1,(()=>{l[i]=null})),me(),o=l[r],o||(o=l[r]=c[r](e),o.c()),he(o,1),o.m(n,null))},i(e){i||(he(o),i=!0)},o(e){ve(o),i=!1},d(e){e&&x(t),l[r].d(),s=!1,a()}}}function Zr(t){let n;return{c(){n=T("Verify")},m(e,t){w(e,n,t)},i:e,o:e,d(e){e&&x(n)}}}function eo(e){let t,n;return t=new It({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function to(t){let n;return{c(){n=T("Send")},m(e,t){w(e,n,t)},i:e,o:e,d(e){e&&x(n)}}}function no(e){let t,n;return t=new It({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function ro(e){let t,n,r,o,i,s,a,c,l,u,d,p;const f=[Yr,Xr],m=[];function v(e,t){return 0==e[5]?0:1}return o=v(e),i=m[o]=f[o](e),{c(){t=S("div"),n=S("a"),n.innerHTML='<img src="/imgs/logo.png" alt="logo" class="svelte-8gv24i"/>Unify',r=C(),i.c(),s=C(),a=S("div"),c=C(),l=S("div"),j(n,"href","/"),j(n,"class","u_logo svelte-8gv24i"),j(a,"class","circle_top svelte-8gv24i"),j(l,"class","circle_bottom svelte-8gv24i"),j(t,"class","left_side svelte-8gv24i")},m(e,i){w(e,t,i),$(t,n),$(t,r),m[o].m(t,null),$(t,s),$(t,a),$(t,c),$(t,l),u=!0,d||(p=h(tt.call(null,n)),d=!0)},p(e,[n]){let r=o;o=v(e),o===r?m[o].p(e,n):(fe(),ve(m[r],1,1,(()=>{m[r]=null})),me(),i=m[o],i?i.p(e,n):(i=m[o]=f[o](e),i.c()),he(i,1),i.m(t,s))},i(e){u||(he(i),u=!0)},o(e){ve(i),u=!1},d(e){e&&x(t),m[o].d(),d=!1,p()}}}function oo(e,t,n){let r,o,i;l(e,gt,(e=>n(7,r=e))),gt.subscribe((e=>{0==e?console.log("initng"):null==e&&(console.log("no user"),Ne("/signup"))}));let s,a=!1,c=!1;X((()=>{window.recaptchaVerifier=new firebase.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:e=>{console.log("solved")}}),console.log(location.search);let e=new URLSearchParams(location.search);console.log(e.get("backurl")),document.title="Unify Creator - Phone Verification"}));let u=!1,d=!1;return[o,i,a,s,c,u,d,r,async()=>{if(c)return;n(3,s=void 0),n(4,c=!0);let e=o.value;if(console.log(e),e.includes("+")||(e="+216"+e),r&&r.phoneNumber&&e==r.phoneNumber)return n(3,s="To update your phone number you need to input an new one"),void n(4,c=!1);console.log(e),await vt.signInWithPhoneNumber(e,window.recaptchaVerifier).then((e=>{console.log(e),window.confirmationResult=e,console.log(window.confirmationResult),n(2,a=!0),n(4,c=!1)})).catch((e=>{window.recaptchaVerifier.render().then((function(e){grecaptcha.reset(e)})),n(3,s="An error occured while sending SMS please try again"),n(4,c=!1)})),n(4,c=!1)},async()=>{if(!d){if(n(6,d=!0),n(5,u=!1),n(3,s=""),console.log("first"),null==i.value||null==i.value||""==i.value)return n(3,s="Please enter the code you received on your phone"),n(5,u=!1),void n(6,d=!1);var e=firebase.auth.PhoneAuthProvider.credential(window.confirmationResult.verificationId,i.value);if(console.log("second"),console.log(e),r){console.log("4");try{await r.updatePhoneNumber(e),console.log(r),await ht.doc("admin/collections/creators/all").set({[r.claims.username]:{phoneNumber:r.phoneNumber}},{merge:!0}),n(5,u=!0);let t=new URLSearchParams(location.search);null!=t.get("backurl")&&Ne(t.get("backurl"))}catch(e){console.log(e),"auth/invalid-verification-code"==e.code?(n(3,s="The code is incorrect, please verify it."),n(5,u=!1)):"auth/credential-already-in-use"==e.code?(console.log("inside"),n(3,s="Phone number already in use by another account"),n(5,u=!1)):"auth/missing-verification-code"==e.code?(n(3,s="Unexpected error occured no code was written"),n(5,u=!1)):(n(3,s="Unexpected error occured, please trying"),n(5,u=!1))}}n(6,d=!1)}},function(e){Q[e?"unshift":"push"]((()=>{o=e,n(0,o)}))},function(e){Q[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class io extends Ce{constructor(e){super(),Te(this,e,oo,ro,a,{})}}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var so=function(e,t){return(so=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function ao(e,t){function n(){this.constructor=e}so(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var co,lo,uo,po,fo=function(){return(fo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function mo(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}function ho(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function vo(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function go(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(vo(arguments[t]));return e}function yo(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return To(e,Error)}}function _o(e){return"[object ErrorEvent]"===Object.prototype.toString.call(e)}function bo(e){return"[object DOMError]"===Object.prototype.toString.call(e)}function $o(e){return"[object String]"===Object.prototype.toString.call(e)}function wo(e){return null===e||"object"!=typeof e&&"function"!=typeof e}function xo(e){return"[object Object]"===Object.prototype.toString.call(e)}function ko(e){return"undefined"!=typeof Event&&To(e,Event)}function So(e){return"undefined"!=typeof Element&&To(e,Element)}function Eo(e){return Boolean(e&&e.then&&"function"==typeof e.then)}function To(e,t){try{return e instanceof t}catch(e){return!1}}function Co(e){try{for(var t=e,n=[],r=0,o=0,i=" > ".length,s=void 0;t&&r++<5&&!("html"===(s=Oo(t))||r>1&&o+n.length*i+s.length>=80);)n.push(s),o+=s.length,t=t.parentNode;return n.reverse().join(" > ")}catch(e){return"<unknown>"}}function Oo(e){var t,n,r,o,i,s=e,a=[];if(!s||!s.tagName)return"";if(a.push(s.tagName.toLowerCase()),s.id&&a.push("#"+s.id),(t=s.className)&&$o(t))for(n=t.split(/\s+/),i=0;i<n.length;i++)a.push("."+n[i]);var c=["type","name","title","alt"];for(i=0;i<c.length;i++)r=c[i],(o=s.getAttribute(r))&&a.push("["+r+'="'+o+'"]');return a.join("")}!function(e){e.Ok="ok",e.Exited="exited",e.Crashed="crashed",e.Abnormal="abnormal"}(co||(co={})),function(e){e.Fatal="fatal",e.Error="error",e.Warning="warning",e.Log="log",e.Info="info",e.Debug="debug",e.Critical="critical"}(lo||(lo={})),function(e){e.fromString=function(t){switch(t){case"debug":return e.Debug;case"info":return e.Info;case"warn":case"warning":return e.Warning;case"error":return e.Error;case"fatal":return e.Fatal;case"critical":return e.Critical;case"log":default:return e.Log}}}(lo||(lo={})),function(e){e.Unknown="unknown",e.Skipped="skipped",e.Success="success",e.RateLimit="rate_limit",e.Invalid="invalid",e.Failed="failed"}(uo||(uo={})),function(e){e.fromHttpCode=function(t){return t>=200&&t<300?e.Success:429===t?e.RateLimit:t>=400&&t<500?e.Invalid:t>=500?e.Failed:e.Unknown}}(uo||(uo={})),function(e){e.Explicit="explicitly_set",e.Sampler="client_sampler",e.Rate="client_rate",e.Inheritance="inheritance"}(po||(po={}));var Io=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){return e.__proto__=t,e}:function(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e});var zo=function(e){function t(t){var n=this.constructor,r=e.call(this,t)||this;return r.message=t,r.name=n.prototype.constructor.name,Io(r,n.prototype),r}return ao(t,e),t}(Error),Ro=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/,jo="Invalid Dsn",Lo=function(){function e(e){"string"==typeof e?this._fromString(e):this._fromComponents(e),this._validate()}return e.prototype.toString=function(e){void 0===e&&(e=!1);var t=this,n=t.host,r=t.path,o=t.pass,i=t.port,s=t.projectId;return t.protocol+"://"+t.publicKey+(e&&o?":"+o:"")+"@"+n+(i?":"+i:"")+"/"+(r?r+"/":r)+s},e.prototype._fromString=function(e){var t=Ro.exec(e);if(!t)throw new zo(jo);var n=vo(t.slice(1),6),r=n[0],o=n[1],i=n[2],s=void 0===i?"":i,a=n[3],c=n[4],l=void 0===c?"":c,u="",d=n[5],p=d.split("/");if(p.length>1&&(u=p.slice(0,-1).join("/"),d=p.pop()),d){var f=d.match(/^\d+/);f&&(d=f[0])}this._fromComponents({host:a,pass:s,path:u,projectId:d,port:l,protocol:r,publicKey:o})},e.prototype._fromComponents=function(e){"user"in e&&!("publicKey"in e)&&(e.publicKey=e.user),this.user=e.publicKey||"",this.protocol=e.protocol,this.publicKey=e.publicKey||"",this.pass=e.pass||"",this.host=e.host,this.port=e.port||"",this.path=e.path||"",this.projectId=e.projectId},e.prototype._validate=function(){var e=this;if(["protocol","publicKey","host","projectId"].forEach((function(t){if(!e[t])throw new zo("Invalid Dsn: "+t+" missing")})),!this.projectId.match(/^\d+$/))throw new zo("Invalid Dsn: Invalid projectId "+this.projectId);if("http"!==this.protocol&&"https"!==this.protocol)throw new zo("Invalid Dsn: Invalid protocol "+this.protocol);if(this.port&&isNaN(parseInt(this.port,10)))throw new zo("Invalid Dsn: Invalid port "+this.port)},e}();function Do(){return"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function No(e,t){return e.require(t)}function Po(e,t){return void 0===t&&(t=0),"string"!=typeof e||0===t||e.length<=t?e:e.substr(0,t)+"..."}function qo(e,t){if(!Array.isArray(e))return"";for(var n=[],r=0;r<e.length;r++){var o=e[r];try{n.push(String(o))}catch(e){n.push("[value cannot be serialized]")}}return n.join(t)}function Uo(e,t){return!!$o(e)&&(n=t,"[object RegExp]"===Object.prototype.toString.call(n)?t.test(e):"string"==typeof t&&-1!==e.indexOf(t));var n}var Mo={};function Ao(){return Do()?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:Mo}function Fo(){var e=Ao(),t=e.crypto||e.msCrypto;if(void 0!==t&&t.getRandomValues){var n=new Uint16Array(8);t.getRandomValues(n),n[3]=4095&n[3]|16384,n[4]=16383&n[4]|32768;var r=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return r(n[0])+r(n[1])+r(n[2])+r(n[3])+r(n[4])+r(n[5])+r(n[6])+r(n[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}function Bo(e){if(!e)return{};var t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};var n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],relative:t[5]+n+r}}function Ho(e){if(e.message)return e.message;if(e.exception&&e.exception.values&&e.exception.values[0]){var t=e.exception.values[0];return t.type&&t.value?t.type+": "+t.value:t.type||t.value||e.event_id||"<unknown>"}return e.event_id||"<unknown>"}function Wo(e){var t=Ao();if(!("console"in t))return e();var n=t.console,r={};["debug","info","warn","error","log","assert"].forEach((function(e){e in t.console&&n[e].__sentry_original__&&(r[e]=n[e],n[e]=n[e].__sentry_original__)}));var o=e();return Object.keys(r).forEach((function(e){n[e]=r[e]})),o}function Xo(e,t,n){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].value=e.exception.values[0].value||t||"",e.exception.values[0].type=e.exception.values[0].type||n||"Error"}function Yo(e,t){void 0===t&&(t={});try{e.exception.values[0].mechanism=e.exception.values[0].mechanism||{},Object.keys(t).forEach((function(n){e.exception.values[0].mechanism[n]=t[n]}))}catch(e){}}var Go=Ao(),Jo="Sentry Logger ",Vo=function(){function e(){this._enabled=!1}return e.prototype.disable=function(){this._enabled=!1},e.prototype.enable=function(){this._enabled=!0},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Wo((function(){Go.console.log(Jo+"[Log]: "+e.join(" "))}))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Wo((function(){Go.console.warn(Jo+"[Warn]: "+e.join(" "))}))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._enabled&&Wo((function(){Go.console.error(Jo+"[Error]: "+e.join(" "))}))},e}();Go.__SENTRY__=Go.__SENTRY__||{};var Ko=Go.__SENTRY__.logger||(Go.__SENTRY__.logger=new Vo),Qo=function(){function e(){this._hasWeakSet="function"==typeof WeakSet,this._inner=this._hasWeakSet?new WeakSet:[]}return e.prototype.memoize=function(e){if(this._hasWeakSet)return!!this._inner.has(e)||(this._inner.add(e),!1);for(var t=0;t<this._inner.length;t++){if(this._inner[t]===e)return!0}return this._inner.push(e),!1},e.prototype.unmemoize=function(e){if(this._hasWeakSet)this._inner.delete(e);else for(var t=0;t<this._inner.length;t++)if(this._inner[t]===e){this._inner.splice(t,1);break}},e}(),Zo="<anonymous>";function ei(e){try{return e&&"function"==typeof e&&e.name||Zo}catch(e){return Zo}}function ti(e,t,n){if(t in e){var r=e[t],o=n(r);if("function"==typeof o)try{o.prototype=o.prototype||{},Object.defineProperties(o,{__sentry_original__:{enumerable:!1,value:r}})}catch(e){}e[t]=o}}function ni(e){if(yo(e)){var t=e,n={message:t.message,name:t.name,stack:t.stack};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}if(ko(e)){var o=e,i={};i.type=o.type;try{i.target=So(o.target)?Co(o.target):Object.prototype.toString.call(o.target)}catch(e){i.target="<unknown>"}try{i.currentTarget=So(o.currentTarget)?Co(o.currentTarget):Object.prototype.toString.call(o.currentTarget)}catch(e){i.currentTarget="<unknown>"}for(var r in"undefined"!=typeof CustomEvent&&To(e,CustomEvent)&&(i.detail=o.detail),o)Object.prototype.hasOwnProperty.call(o,r)&&(i[r]=o);return i}return e}function ri(e){return function(e){return~-encodeURI(e).split(/%..|./).length}(JSON.stringify(e))}function oi(e,t,n){void 0===t&&(t=3),void 0===n&&(n=102400);var r=ai(e,t);return ri(r)>n?oi(e,t-1,n):r}function ii(e,t){return"domain"===t&&e&&"object"==typeof e&&e._events?"[Domain]":"domainEmitter"===t?"[DomainEmitter]":"undefined"!=typeof global&&e===global?"[Global]":"undefined"!=typeof window&&e===window?"[Window]":"undefined"!=typeof document&&e===document?"[Document]":xo(n=e)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n?"[SyntheticEvent]":"number"==typeof e&&e!=e?"[NaN]":void 0===e?"[undefined]":"function"==typeof e?"[Function: "+ei(e)+"]":"symbol"==typeof e?"["+String(e)+"]":"bigint"==typeof e?"[BigInt: "+String(e)+"]":e;var n}function si(e,t,n,r){if(void 0===n&&(n=1/0),void 0===r&&(r=new Qo),0===n)return function(e){var t=Object.prototype.toString.call(e);if("string"==typeof e)return e;if("[object Object]"===t)return"[Object]";if("[object Array]"===t)return"[Array]";var n=ii(e);return wo(n)?n:t}(t);if(null!=t&&"function"==typeof t.toJSON)return t.toJSON();var o=ii(t,e);if(wo(o))return o;var i=ni(t),s=Array.isArray(t)?[]:{};if(r.memoize(t))return"[Circular ~]";for(var a in i)Object.prototype.hasOwnProperty.call(i,a)&&(s[a]=si(a,i[a],n-1,r));return r.unmemoize(t),s}function ai(e,t){try{return JSON.parse(JSON.stringify(e,(function(e,n){return si(e,n,t)})))}catch(e){return"**non-serializable**"}}function ci(e,t){void 0===t&&(t=40);var n=Object.keys(ni(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Po(n[0],t);for(var r=n.length;r>0;r--){var o=n.slice(0,r).join(", ");if(!(o.length>t))return r===n.length?o:Po(o,t)}return""}function li(e){var t,n;if(xo(e)){var r=e,o={};try{for(var i=ho(Object.keys(r)),s=i.next();!s.done;s=i.next()){var a=s.value;void 0!==r[a]&&(o[a]=li(r[a]))}}catch(e){t={error:e}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return o}return Array.isArray(e)?e.map(li):e}function ui(){if(!("fetch"in Ao()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(e){return!1}}function di(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function pi(){if(!ui())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(e){return!1}}var fi,mi=Ao(),hi={},vi={};function gi(e){if(!vi[e])switch(vi[e]=!0,e){case"console":!function(){if(!("console"in mi))return;["debug","info","warn","error","log","assert"].forEach((function(e){e in mi.console&&ti(mi.console,e,(function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];_i("console",{args:n,level:e}),t&&Function.prototype.apply.call(t,mi.console,n)}}))}))}();break;case"dom":!function(){if(!("document"in mi))return;var e=_i.bind(null,"dom"),t=ki(e,!0);mi.document.addEventListener("click",t,!1),mi.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach((function(t){var n=mi[t]&&mi[t].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ti(n,"addEventListener",(function(t){return function(n,r,o){if("click"===n||"keypress"==n)try{var i=this,s=i.__sentry_instrumentation_handlers__=i.__sentry_instrumentation_handlers__||{},a=s[n]=s[n]||{refCount:0};if(!a.handler){var c=ki(e);a.handler=c,t.call(this,n,c,o)}a.refCount+=1}catch(e){}return t.call(this,n,r,o)}})),ti(n,"removeEventListener",(function(e){return function(t,n,r){if("click"===t||"keypress"==t)try{var o=this,i=o.__sentry_instrumentation_handlers__||{},s=i[t];s&&(s.refCount-=1,s.refCount<=0&&(e.call(this,t,s.handler,r),s.handler=void 0,delete i[t]),0===Object.keys(i).length&&delete o.__sentry_instrumentation_handlers__)}catch(e){}return e.call(this,t,n,r)}})))}))}();break;case"xhr":!function(){if(!("XMLHttpRequest"in mi))return;var e=[],t=[],n=XMLHttpRequest.prototype;ti(n,"open",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=this,s=r[1];i.__sentry_xhr__={method:$o(r[0])?r[0].toUpperCase():r[0],url:r[1]},$o(s)&&"POST"===i.__sentry_xhr__.method&&s.match(/sentry_key/)&&(i.__sentry_own_request__=!0);var a=function(){if(4===i.readyState){try{i.__sentry_xhr__&&(i.__sentry_xhr__.status_code=i.status)}catch(e){}try{var n=e.indexOf(i);if(-1!==n){e.splice(n);var o=t.splice(n)[0];i.__sentry_xhr__&&void 0!==o[0]&&(i.__sentry_xhr__.body=o[0])}}catch(e){}_i("xhr",{args:r,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:i})}};return"onreadystatechange"in i&&"function"==typeof i.onreadystatechange?ti(i,"onreadystatechange",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return a(),e.apply(i,t)}})):i.addEventListener("readystatechange",a),n.apply(i,r)}})),ti(n,"send",(function(n){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];return e.push(this),t.push(r),_i("xhr",{args:r,startTimestamp:Date.now(),xhr:this}),n.apply(this,r)}}))}();break;case"fetch":!function(){if(!function(){if(!ui())return!1;var e=Ao();if(di(e.fetch))return!0;var t=!1,n=e.document;if(n&&"function"==typeof n.createElement)try{var r=n.createElement("iframe");r.hidden=!0,n.head.appendChild(r),r.contentWindow&&r.contentWindow.fetch&&(t=di(r.contentWindow.fetch)),n.head.removeChild(r)}catch(e){Ko.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",e)}return t}())return;ti(mi,"fetch",(function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r={args:t,fetchData:{method:bi(t),url:$i(t)},startTimestamp:Date.now()};return _i("fetch",fo({},r)),e.apply(mi,t).then((function(e){return _i("fetch",fo(fo({},r),{endTimestamp:Date.now(),response:e})),e}),(function(e){throw _i("fetch",fo(fo({},r),{endTimestamp:Date.now(),error:e})),e}))}}))}();break;case"history":!function(){if(!function(){var e=Ao(),t=e.chrome,n=t&&t.app&&t.app.runtime,r="history"in e&&!!e.history.pushState&&!!e.history.replaceState;return!n&&r}())return;var e=mi.onpopstate;function t(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t.length>2?t[2]:void 0;if(r){var o=fi,i=String(r);fi=i,_i("history",{from:o,to:i})}return e.apply(this,t)}}mi.onpopstate=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=mi.location.href,o=fi;if(fi=r,_i("history",{from:o,to:r}),e)return e.apply(this,t)},ti(mi.history,"pushState",t),ti(mi.history,"replaceState",t)}();break;case"error":Si=mi.onerror,mi.onerror=function(e,t,n,r,o){return _i("error",{column:r,error:o,line:n,msg:e,url:t}),!!Si&&Si.apply(this,arguments)};break;case"unhandledrejection":Ti=mi.onunhandledrejection,mi.onunhandledrejection=function(e){return _i("unhandledrejection",e),!Ti||Ti.apply(this,arguments)};break;default:Ko.warn("unknown instrumentation type:",e)}}function yi(e){e&&"string"==typeof e.type&&"function"==typeof e.callback&&(hi[e.type]=hi[e.type]||[],hi[e.type].push(e.callback),gi(e.type))}function _i(e,t){var n,r;if(e&&hi[e])try{for(var o=ho(hi[e]||[]),i=o.next();!i.done;i=o.next()){var s=i.value;try{s(t)}catch(t){Ko.error("Error while triggering instrumentation handler.\nType: "+e+"\nName: "+ei(s)+"\nError: "+t)}}}catch(e){n={error:e}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}function bi(e){return void 0===e&&(e=[]),"Request"in mi&&To(e[0],Request)&&e[0].method?String(e[0].method).toUpperCase():e[1]&&e[1].method?String(e[1].method).toUpperCase():"GET"}function $i(e){return void 0===e&&(e=[]),"string"==typeof e[0]?e[0]:"Request"in mi&&To(e[0],Request)?e[0].url:String(e[0])}var wi,xi;function ki(e,t){return void 0===t&&(t=!1),function(n){if(n&&xi!==n&&!function(e){if("keypress"!==e.type)return!1;try{var t=e.target;if(!t||!t.tagName)return!0;if("INPUT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable)return!1}catch(e){}return!0}(n)){var r="keypress"===n.type?"input":n.type;(void 0===wi||function(e,t){if(!e)return!0;if(e.type!==t.type)return!0;try{if(e.target!==t.target)return!0}catch(e){}return!1}(xi,n))&&(e({event:n,name:r,global:t}),xi=n),clearTimeout(wi),wi=mi.setTimeout((function(){wi=void 0}),1e3)}}}var Si=null;var Ei,Ti=null;!function(e){e.PENDING="PENDING",e.RESOLVED="RESOLVED",e.REJECTED="REJECTED"}(Ei||(Ei={}));var Ci=function(){function e(e){var t=this;this._state=Ei.PENDING,this._handlers=[],this._resolve=function(e){t._setResult(Ei.RESOLVED,e)},this._reject=function(e){t._setResult(Ei.REJECTED,e)},this._setResult=function(e,n){t._state===Ei.PENDING&&(Eo(n)?n.then(t._resolve,t._reject):(t._state=e,t._value=n,t._executeHandlers()))},this._attachHandler=function(e){t._handlers=t._handlers.concat(e),t._executeHandlers()},this._executeHandlers=function(){if(t._state!==Ei.PENDING){var e=t._handlers.slice();t._handlers=[],e.forEach((function(e){e.done||(t._state===Ei.RESOLVED&&e.onfulfilled&&e.onfulfilled(t._value),t._state===Ei.REJECTED&&e.onrejected&&e.onrejected(t._value),e.done=!0)}))}};try{e(this._resolve,this._reject)}catch(e){this._reject(e)}}return e.resolve=function(t){return new e((function(e){e(t)}))},e.reject=function(t){return new e((function(e,n){n(t)}))},e.all=function(t){return new e((function(n,r){if(Array.isArray(t))if(0!==t.length){var o=t.length,i=[];t.forEach((function(t,s){e.resolve(t).then((function(e){i[s]=e,0===(o-=1)&&n(i)})).then(null,r)}))}else n([]);else r(new TypeError("Promise.all requires an array as input."))}))},e.prototype.then=function(t,n){var r=this;return new e((function(e,o){r._attachHandler({done:!1,onfulfilled:function(n){if(t)try{return void e(t(n))}catch(e){return void o(e)}else e(n)},onrejected:function(t){if(n)try{return void e(n(t))}catch(e){return void o(e)}else o(t)}})}))},e.prototype.catch=function(e){return this.then((function(e){return e}),e)},e.prototype.finally=function(t){var n=this;return new e((function(e,r){var o,i;return n.then((function(e){i=!1,o=e,t&&t()}),(function(e){i=!0,o=e,t&&t()})).then((function(){i?r(o):e(o)}))}))},e.prototype.toString=function(){return"[object SyncPromise]"},e}(),Oi=function(){function e(e){this._limit=e,this._buffer=[]}return e.prototype.isReady=function(){return void 0===this._limit||this.length()<this._limit},e.prototype.add=function(e){var t=this;return this.isReady()?(-1===this._buffer.indexOf(e)&&this._buffer.push(e),e.then((function(){return t.remove(e)})).then(null,(function(){return t.remove(e).then(null,(function(){}))})),e):Ci.reject(new zo("Not adding Promise due to buffer limit reached."))},e.prototype.remove=function(e){return this._buffer.splice(this._buffer.indexOf(e),1)[0]},e.prototype.length=function(){return this._buffer.length},e.prototype.drain=function(e){var t=this;return new Ci((function(n){var r=setTimeout((function(){e&&e>0&&n(!1)}),e);Ci.all(t._buffer).then((function(){clearTimeout(r),n(!0)})).then(null,(function(){n(!0)}))}))},e}(),Ii={nowSeconds:function(){return Date.now()/1e3}};var zi=Do()?function(){try{return No(module,"perf_hooks").performance}catch(e){return}}():function(){var e=Ao().performance;if(e&&e.now)return{now:function(){return e.now()},timeOrigin:Date.now()-e.now()}}(),Ri=void 0===zi?Ii:{nowSeconds:function(){return(zi.timeOrigin+zi.now())/1e3}},ji=Ii.nowSeconds.bind(Ii),Li=Ri.nowSeconds.bind(Ri),Di=function(){var e=Ao().performance;if(e)return e.timeOrigin?e.timeOrigin:e.timing&&e.timing.navigationStart||Date.now()}(),Ni=function(){function e(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={}}return e.clone=function(t){var n=new e;return t&&(n._breadcrumbs=go(t._breadcrumbs),n._tags=fo({},t._tags),n._extra=fo({},t._extra),n._contexts=fo({},t._contexts),n._user=t._user,n._level=t._level,n._span=t._span,n._session=t._session,n._transactionName=t._transactionName,n._fingerprint=t._fingerprint,n._eventProcessors=go(t._eventProcessors)),n},e.prototype.addScopeListener=function(e){this._scopeListeners.push(e)},e.prototype.addEventProcessor=function(e){return this._eventProcessors.push(e),this},e.prototype.setUser=function(e){return this._user=e||{},this._session&&this._session.update({user:e}),this._notifyScopeListeners(),this},e.prototype.getUser=function(){return this._user},e.prototype.setTags=function(e){return this._tags=fo(fo({},this._tags),e),this._notifyScopeListeners(),this},e.prototype.setTag=function(e,t){var n;return this._tags=fo(fo({},this._tags),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setExtras=function(e){return this._extra=fo(fo({},this._extra),e),this._notifyScopeListeners(),this},e.prototype.setExtra=function(e,t){var n;return this._extra=fo(fo({},this._extra),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setFingerprint=function(e){return this._fingerprint=e,this._notifyScopeListeners(),this},e.prototype.setLevel=function(e){return this._level=e,this._notifyScopeListeners(),this},e.prototype.setTransactionName=function(e){return this._transactionName=e,this._notifyScopeListeners(),this},e.prototype.setTransaction=function(e){return this.setTransactionName(e)},e.prototype.setContext=function(e,t){var n;return null===t?delete this._contexts[e]:this._contexts=fo(fo({},this._contexts),((n={})[e]=t,n)),this._notifyScopeListeners(),this},e.prototype.setSpan=function(e){return this._span=e,this._notifyScopeListeners(),this},e.prototype.getSpan=function(){return this._span},e.prototype.getTransaction=function(){var e,t,n,r,o=this.getSpan();return(null===(e=o)||void 0===e?void 0:e.transaction)?null===(t=o)||void 0===t?void 0:t.transaction:(null===(r=null===(n=o)||void 0===n?void 0:n.spanRecorder)||void 0===r?void 0:r.spans[0])?o.spanRecorder.spans[0]:void 0},e.prototype.setSession=function(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this},e.prototype.getSession=function(){return this._session},e.prototype.update=function(t){if(!t)return this;if("function"==typeof t){var n=t(this);return n instanceof e?n:this}return t instanceof e?(this._tags=fo(fo({},this._tags),t._tags),this._extra=fo(fo({},this._extra),t._extra),this._contexts=fo(fo({},this._contexts),t._contexts),t._user&&Object.keys(t._user).length&&(this._user=t._user),t._level&&(this._level=t._level),t._fingerprint&&(this._fingerprint=t._fingerprint)):xo(t)&&(t=t,this._tags=fo(fo({},this._tags),t.tags),this._extra=fo(fo({},this._extra),t.extra),this._contexts=fo(fo({},this._contexts),t.contexts),t.user&&(this._user=t.user),t.level&&(this._level=t.level),t.fingerprint&&(this._fingerprint=t.fingerprint)),this},e.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},e.prototype.addBreadcrumb=function(e,t){var n=fo({timestamp:ji()},e);return this._breadcrumbs=void 0!==t&&t>=0?go(this._breadcrumbs,[n]).slice(-t):go(this._breadcrumbs,[n]),this._notifyScopeListeners(),this},e.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},e.prototype.applyToEvent=function(e,t){var n;if(this._extra&&Object.keys(this._extra).length&&(e.extra=fo(fo({},this._extra),e.extra)),this._tags&&Object.keys(this._tags).length&&(e.tags=fo(fo({},this._tags),e.tags)),this._user&&Object.keys(this._user).length&&(e.user=fo(fo({},this._user),e.user)),this._contexts&&Object.keys(this._contexts).length&&(e.contexts=fo(fo({},this._contexts),e.contexts)),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts=fo({trace:this._span.getTraceContext()},e.contexts);var r=null===(n=this._span.transaction)||void 0===n?void 0:n.name;r&&(e.tags=fo({transaction:r},e.tags))}return this._applyFingerprint(e),e.breadcrumbs=go(e.breadcrumbs||[],this._breadcrumbs),e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,this._notifyEventProcessors(go(Pi(),this._eventProcessors),e,t)},e.prototype._notifyEventProcessors=function(e,t,n,r){var o=this;return void 0===r&&(r=0),new Ci((function(i,s){var a=e[r];if(null===t||"function"!=typeof a)i(t);else{var c=a(fo({},t),n);Eo(c)?c.then((function(t){return o._notifyEventProcessors(e,t,n,r+1).then(i)})).then(null,s):o._notifyEventProcessors(e,c,n,r+1).then(i).then(null,s)}}))},e.prototype._notifyScopeListeners=function(){var e=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(t){t(e)})),this._notifyingListeners=!1)},e.prototype._applyFingerprint=function(e){e.fingerprint=e.fingerprint?Array.isArray(e.fingerprint)?e.fingerprint:[e.fingerprint]:[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint},e}();function Pi(){var e=Ao();return e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.globalEventProcessors=e.__SENTRY__.globalEventProcessors||[],e.__SENTRY__.globalEventProcessors}function qi(e){Pi().push(e)}var Ui=function(){function e(e){this.errors=0,this.sid=Fo(),this.timestamp=Date.now(),this.started=Date.now(),this.duration=0,this.status=co.Ok,this.init=!0,e&&this.update(e)}return e.prototype.update=function(e){void 0===e&&(e={}),e.user&&(e.user.ip_address&&(this.ipAddress=e.user.ip_address),e.did||(this.did=e.user.id||e.user.email||e.user.username)),this.timestamp=e.timestamp||Date.now(),e.sid&&(this.sid=32===e.sid.length?e.sid:Fo()),void 0!==e.init&&(this.init=e.init),e.did&&(this.did=""+e.did),"number"==typeof e.started&&(this.started=e.started),"number"==typeof e.duration?this.duration=e.duration:this.duration=this.timestamp-this.started,e.release&&(this.release=e.release),e.environment&&(this.environment=e.environment),e.ipAddress&&(this.ipAddress=e.ipAddress),e.userAgent&&(this.userAgent=e.userAgent),"number"==typeof e.errors&&(this.errors=e.errors),e.status&&(this.status=e.status)},e.prototype.close=function(e){e?this.update({status:e}):this.status===co.Ok?this.update({status:co.Exited}):this.update()},e.prototype.toJSON=function(){return li({sid:""+this.sid,init:this.init,started:new Date(this.started).toISOString(),timestamp:new Date(this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:li({release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent})})},e}(),Mi=function(){function e(e,t,n){void 0===t&&(t=new Ni),void 0===n&&(n=3),this._version=n,this._stack=[{}],this.getStackTop().scope=t,this.bindClient(e)}return e.prototype.isOlderThan=function(e){return this._version<e},e.prototype.bindClient=function(e){this.getStackTop().client=e,e&&e.setupIntegrations&&e.setupIntegrations()},e.prototype.pushScope=function(){var e=Ni.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e},e.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},e.prototype.withScope=function(e){var t=this.pushScope();try{e(t)}finally{this.popScope()}},e.prototype.getClient=function(){return this.getStackTop().client},e.prototype.getScope=function(){return this.getStackTop().scope},e.prototype.getStack=function(){return this._stack},e.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},e.prototype.captureException=function(e,t){var n=this._lastEventId=Fo(),r=t;if(!t){var o=void 0;try{throw new Error("Sentry syntheticException")}catch(e){o=e}r={originalException:e,syntheticException:o}}return this._invokeClient("captureException",e,fo(fo({},r),{event_id:n})),n},e.prototype.captureMessage=function(e,t,n){var r=this._lastEventId=Fo(),o=n;if(!n){var i=void 0;try{throw new Error(e)}catch(e){i=e}o={originalException:e,syntheticException:i}}return this._invokeClient("captureMessage",e,t,fo(fo({},o),{event_id:r})),r},e.prototype.captureEvent=function(e,t){var n=this._lastEventId=Fo();return this._invokeClient("captureEvent",e,fo(fo({},t),{event_id:n})),n},e.prototype.lastEventId=function(){return this._lastEventId},e.prototype.addBreadcrumb=function(e,t){var n=this.getStackTop(),r=n.scope,o=n.client;if(r&&o){var i=o.getOptions&&o.getOptions()||{},s=i.beforeBreadcrumb,a=void 0===s?null:s,c=i.maxBreadcrumbs,l=void 0===c?100:c;if(!(l<=0)){var u=ji(),d=fo({timestamp:u},e),p=a?Wo((function(){return a(d,t)})):d;null!==p&&r.addBreadcrumb(p,Math.min(l,100))}}},e.prototype.setUser=function(e){var t=this.getScope();t&&t.setUser(e)},e.prototype.setTags=function(e){var t=this.getScope();t&&t.setTags(e)},e.prototype.setExtras=function(e){var t=this.getScope();t&&t.setExtras(e)},e.prototype.setTag=function(e,t){var n=this.getScope();n&&n.setTag(e,t)},e.prototype.setExtra=function(e,t){var n=this.getScope();n&&n.setExtra(e,t)},e.prototype.setContext=function(e,t){var n=this.getScope();n&&n.setContext(e,t)},e.prototype.configureScope=function(e){var t=this.getStackTop(),n=t.scope,r=t.client;n&&r&&e(n)},e.prototype.run=function(e){var t=Fi(this);try{e(this)}finally{Fi(t)}},e.prototype.getIntegration=function(e){var t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(t){return Ko.warn("Cannot retrieve integration "+e.id+" from the current Hub"),null}},e.prototype.startSpan=function(e){return this._callExtensionMethod("startSpan",e)},e.prototype.startTransaction=function(e,t){return this._callExtensionMethod("startTransaction",e,t)},e.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},e.prototype.captureSession=function(e){if(void 0===e&&(e=!1),e)return this.endSession();this._sendSessionUpdate()},e.prototype.endSession=function(){var e,t,n,r,o;null===(n=null===(t=null===(e=this.getStackTop())||void 0===e?void 0:e.scope)||void 0===t?void 0:t.getSession())||void 0===n||n.close(),this._sendSessionUpdate(),null===(o=null===(r=this.getStackTop())||void 0===r?void 0:r.scope)||void 0===o||o.setSession()},e.prototype.startSession=function(e){var t=this.getStackTop(),n=t.scope,r=t.client,o=r&&r.getOptions()||{},i=o.release,s=o.environment,a=new Ui(fo(fo({release:i,environment:s},n&&{user:n.getUser()}),e));if(n){var c=n.getSession&&n.getSession();c&&c.status===co.Ok&&c.update({status:co.Exited}),this.endSession(),n.setSession(a)}return a},e.prototype._sendSessionUpdate=function(){var e=this.getStackTop(),t=e.scope,n=e.client;if(t){var r=t.getSession&&t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}},e.prototype._invokeClient=function(e){for(var t,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];var o=this.getStackTop(),i=o.scope,s=o.client;s&&s[e]&&(t=s)[e].apply(t,go(n,[i]))},e.prototype._callExtensionMethod=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Ai(),o=r.__SENTRY__;if(o&&o.extensions&&"function"==typeof o.extensions[e])return o.extensions[e].apply(this,t);Ko.warn("Extension method "+e+" couldn't be found, doing nothing.")},e}();function Ai(){var e=Ao();return e.__SENTRY__=e.__SENTRY__||{extensions:{},hub:void 0},e}function Fi(e){var t=Ai(),n=Wi(t);return Xi(t,e),n}function Bi(){var e=Ai();return Hi(e)&&!Wi(e).isOlderThan(3)||Xi(e,new Mi),Do()?function(e){var t,n,r;try{var o=null===(r=null===(n=null===(t=Ai().__SENTRY__)||void 0===t?void 0:t.extensions)||void 0===n?void 0:n.domain)||void 0===r?void 0:r.active;if(!o)return Wi(e);if(!Hi(o)||Wi(o).isOlderThan(3)){var i=Wi(e).getStackTop();Xi(o,new Mi(i.client,Ni.clone(i.scope)))}return Wi(o)}catch(t){return Wi(e)}}(e):Wi(e)}function Hi(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function Wi(e){return e&&e.__SENTRY__&&e.__SENTRY__.hub||(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=new Mi),e.__SENTRY__.hub}function Xi(e,t){return!!e&&(e.__SENTRY__=e.__SENTRY__||{},e.__SENTRY__.hub=t,!0)}function Yi(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=Bi();if(r&&r[e])return r[e].apply(r,go(t));throw new Error("No hub defined or "+e+" was not found on the hub, please open a bug report.")}function Gi(e,t){var n;try{throw new Error("Sentry syntheticException")}catch(e){n=e}return Yi("captureException",e,{captureContext:t,originalException:e,syntheticException:n})}function Ji(e){Yi("withScope",e)}var Vi=function(){function e(e,t){void 0===t&&(t={}),this.dsn=e,this._dsnObject=new Lo(e),this.metadata=t}return e.prototype.getDsn=function(){return this._dsnObject},e.prototype.getBaseApiEndpoint=function(){var e=this._dsnObject,t=e.protocol?e.protocol+":":"",n=e.port?":"+e.port:"";return t+"//"+e.host+n+(e.path?"/"+e.path:"")+"/api/"},e.prototype.getStoreEndpoint=function(){return this._getIngestEndpoint("store")},e.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return this.getStoreEndpoint()+"?"+this._encodedAuth()},e.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return this._getEnvelopeEndpoint()+"?"+this._encodedAuth()},e.prototype.getStoreEndpointPath=function(){var e=this._dsnObject;return(e.path?"/"+e.path:"")+"/api/"+e.projectId+"/store/"},e.prototype.getRequestHeaders=function(e,t){var n=this._dsnObject,r=["Sentry sentry_version=7"];return r.push("sentry_client="+e+"/"+t),r.push("sentry_key="+n.publicKey),n.pass&&r.push("sentry_secret="+n.pass),{"Content-Type":"application/json","X-Sentry-Auth":r.join(", ")}},e.prototype.getReportDialogEndpoint=function(e){void 0===e&&(e={});var t=this._dsnObject,n=this.getBaseApiEndpoint()+"embed/error-page/",r=[];for(var o in r.push("dsn="+t.toString()),e)if("dsn"!==o)if("user"===o){if(!e.user)continue;e.user.name&&r.push("name="+encodeURIComponent(e.user.name)),e.user.email&&r.push("email="+encodeURIComponent(e.user.email))}else r.push(encodeURIComponent(o)+"="+encodeURIComponent(e[o]));return r.length?n+"?"+r.join("&"):n},e.prototype._getEnvelopeEndpoint=function(){return this._getIngestEndpoint("envelope")},e.prototype._getIngestEndpoint=function(e){return""+this.getBaseApiEndpoint()+this._dsnObject.projectId+"/"+e+"/"},e.prototype._encodedAuth=function(){var e,t={sentry_key:this._dsnObject.publicKey,sentry_version:"7"};return e=t,Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},e}(),Ki=[];function Qi(e){var t={};return function(e){var t=e.defaultIntegrations&&go(e.defaultIntegrations)||[],n=e.integrations,r=[];if(Array.isArray(n)){var o=n.map((function(e){return e.name})),i=[];t.forEach((function(e){-1===o.indexOf(e.name)&&-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))})),n.forEach((function(e){-1===i.indexOf(e.name)&&(r.push(e),i.push(e.name))}))}else"function"==typeof n?(r=n(t),r=Array.isArray(r)?r:[r]):r=go(t);var s=r.map((function(e){return e.name})),a="Debug";return-1!==s.indexOf(a)&&r.push.apply(r,go(r.splice(s.indexOf(a),1))),r}(e).forEach((function(e){t[e.name]=e,function(e){-1===Ki.indexOf(e.name)&&(e.setupOnce(qi,Bi),Ki.push(e.name),Ko.log("Integration installed: "+e.name))}(e)})),t}var Zi=function(){function e(e,t){this._integrations={},this._processing=0,this._backend=new e(t),this._options=t,t.dsn&&(this._dsn=new Lo(t.dsn))}return e.prototype.captureException=function(e,t,n){var r=this,o=t&&t.event_id;return this._process(this._getBackend().eventFromException(e,t).then((function(e){return r._captureEvent(e,t,n)})).then((function(e){o=e}))),o},e.prototype.captureMessage=function(e,t,n,r){var o=this,i=n&&n.event_id,s=wo(e)?this._getBackend().eventFromMessage(String(e),t,n):this._getBackend().eventFromException(e,n);return this._process(s.then((function(e){return o._captureEvent(e,n,r)})).then((function(e){i=e}))),i},e.prototype.captureEvent=function(e,t,n){var r=t&&t.event_id;return this._process(this._captureEvent(e,t,n).then((function(e){r=e}))),r},e.prototype.captureSession=function(e){e.release?(this._sendSession(e),e.update({init:!1})):Ko.warn("Discarded session because of missing release")},e.prototype.getDsn=function(){return this._dsn},e.prototype.getOptions=function(){return this._options},e.prototype.flush=function(e){var t=this;return this._isClientProcessing(e).then((function(n){return t._getBackend().getTransport().close(e).then((function(e){return n&&e}))}))},e.prototype.close=function(e){var t=this;return this.flush(e).then((function(e){return t.getOptions().enabled=!1,e}))},e.prototype.setupIntegrations=function(){this._isEnabled()&&(this._integrations=Qi(this._options))},e.prototype.getIntegration=function(e){try{return this._integrations[e.id]||null}catch(t){return Ko.warn("Cannot retrieve integration "+e.id+" from the current Client"),null}},e.prototype._updateSessionFromEvent=function(e,t){var n,r,o,i=!1,s=!1,a=t.exception&&t.exception.values;if(a){s=!0;try{for(var c=ho(a),l=c.next();!l.done;l=c.next()){var u=l.value.mechanism;if(u&&!1===u.handled){i=!0;break}}}catch(e){n={error:e}}finally{try{l&&!l.done&&(r=c.return)&&r.call(c)}finally{if(n)throw n.error}}}var d=t.user;if(!e.userAgent){var p=t.request?t.request.headers:{};for(var f in p)if("user-agent"===f.toLowerCase()){o=p[f];break}}e.update(fo(fo({},i&&{status:co.Crashed}),{user:d,userAgent:o,errors:e.errors+Number(s||i)})),this.captureSession(e)},e.prototype._sendSession=function(e){this._getBackend().sendSession(e)},e.prototype._isClientProcessing=function(e){var t=this;return new Ci((function(n){var r=0,o=setInterval((function(){0==t._processing?(clearInterval(o),n(!0)):(r+=1,e&&r>=e&&(clearInterval(o),n(!1)))}),1)}))},e.prototype._getBackend=function(){return this._backend},e.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},e.prototype._prepareEvent=function(e,t,n){var r=this,o=this.getOptions().normalizeDepth,i=void 0===o?3:o,s=fo(fo({},e),{event_id:e.event_id||(n&&n.event_id?n.event_id:Fo()),timestamp:e.timestamp||ji()});this._applyClientOptions(s),this._applyIntegrationsMetadata(s);var a=t;n&&n.captureContext&&(a=Ni.clone(a).update(n.captureContext));var c=Ci.resolve(s);return a&&(c=a.applyToEvent(s,n)),c.then((function(e){return"number"==typeof i&&i>0?r._normalizeEvent(e,i):e}))},e.prototype._normalizeEvent=function(e,t){if(!e)return null;var n=fo(fo(fo(fo(fo({},e),e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map((function(e){return fo(fo({},e),e.data&&{data:ai(e.data,t)})}))}),e.user&&{user:ai(e.user,t)}),e.contexts&&{contexts:ai(e.contexts,t)}),e.extra&&{extra:ai(e.extra,t)});return e.contexts&&e.contexts.trace&&(n.contexts.trace=e.contexts.trace),n},e.prototype._applyClientOptions=function(e){var t=this.getOptions(),n=t.environment,r=t.release,o=t.dist,i=t.maxValueLength,s=void 0===i?250:i;"environment"in e||(e.environment="environment"in t?n:"production"),void 0===e.release&&void 0!==r&&(e.release=r),void 0===e.dist&&void 0!==o&&(e.dist=o),e.message&&(e.message=Po(e.message,s));var a=e.exception&&e.exception.values&&e.exception.values[0];a&&a.value&&(a.value=Po(a.value,s));var c=e.request;c&&c.url&&(c.url=Po(c.url,s))},e.prototype._applyIntegrationsMetadata=function(e){var t=e.sdk,n=Object.keys(this._integrations);t&&n.length>0&&(t.integrations=n)},e.prototype._sendEvent=function(e){this._getBackend().sendEvent(e)},e.prototype._captureEvent=function(e,t,n){return this._processEvent(e,t,n).then((function(e){return e.event_id}),(function(e){Ko.error(e)}))},e.prototype._processEvent=function(e,t,n){var r=this,o=this.getOptions(),i=o.beforeSend,s=o.sampleRate;if(!this._isEnabled())return Ci.reject(new zo("SDK not enabled, will not send event."));var a="transaction"===e.type;return!a&&"number"==typeof s&&Math.random()>s?Ci.reject(new zo("Discarding event because it's not included in the random sample (sampling rate = "+s+")")):this._prepareEvent(e,n,t).then((function(e){if(null===e)throw new zo("An event processor returned null, will not send event.");if(t&&t.data&&!0===t.data.__sentry__||a||!i)return e;var n=i(e,t);if(void 0===n)throw new zo("`beforeSend` method has to return `null` or a valid event.");return Eo(n)?n.then((function(e){return e}),(function(e){throw new zo("beforeSend rejected with "+e)})):n})).then((function(e){if(null===e)throw new zo("`beforeSend` returned `null`, will not send event.");var t=n&&n.getSession&&n.getSession();return!a&&t&&r._updateSessionFromEvent(t,e),r._sendEvent(e),e})).then(null,(function(e){if(e instanceof zo)throw e;throw r.captureException(e,{data:{__sentry__:!0},originalException:e}),new zo("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+e)}))},e.prototype._process=function(e){var t=this;this._processing+=1,e.then((function(e){return t._processing-=1,e}),(function(e){return t._processing-=1,e}))},e}(),es=function(){function e(){}return e.prototype.sendEvent=function(e){return Ci.resolve({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:uo.Skipped})},e.prototype.close=function(e){return Ci.resolve(!0)},e}(),ts=function(){function e(e){this._options=e,this._options.dsn||Ko.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return e.prototype.eventFromException=function(e,t){throw new zo("Backend has to implement `eventFromException` method")},e.prototype.eventFromMessage=function(e,t,n){throw new zo("Backend has to implement `eventFromMessage` method")},e.prototype.sendEvent=function(e){this._transport.sendEvent(e).then(null,(function(e){Ko.error("Error while sending event: "+e)}))},e.prototype.sendSession=function(e){this._transport.sendSession?this._transport.sendSession(e).then(null,(function(e){Ko.error("Error while sending session: "+e)})):Ko.warn("Dropping session because custom transport doesn't implement sendSession")},e.prototype.getTransport=function(){return this._transport},e.prototype._setupTransport=function(){return new es},e}();function ns(e){if(e.metadata&&e.metadata.sdk){var t=e.metadata.sdk;return{name:t.name,version:t.version}}}function rs(e,t){return t?(e.sdk=e.sdk||{name:t.name,version:t.version},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=go(e.sdk.integrations||[],t.integrations||[]),e.sdk.packages=go(e.sdk.packages||[],t.packages||[]),e):e}function os(e,t){var n=ns(t);return{body:JSON.stringify(fo({sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:"session"})+"\n"+JSON.stringify(e),type:"session",url:t.getEnvelopeEndpointWithUrlEncodedAuth()}}function is(e,t){var n=ns(t),r=e.type||"event",o="transaction"===r,i=e.debug_meta||{},s=i.transactionSampling,a=mo(i,["transactionSampling"]),c=s||{},l=c.method,u=c.rate;0===Object.keys(a).length?delete e.debug_meta:e.debug_meta=a;var d={body:JSON.stringify(n?rs(e,t.metadata.sdk):e),type:r,url:o?t.getEnvelopeEndpointWithUrlEncodedAuth():t.getStoreEndpointWithUrlEncodedAuth()};if(o){var p=JSON.stringify(fo({event_id:e.event_id,sent_at:(new Date).toISOString()},n&&{sdk:n}))+"\n"+JSON.stringify({type:e.type,sample_rates:[{id:l,rate:u}]})+"\n"+d.body;d.body=p}return d}var ss,as="6.2.0",cs=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){ss=Function.prototype.toString,Function.prototype.toString=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this.__sentry_original__||this;return ss.apply(n,e)}},e.id="FunctionToString",e}(),ls=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],us=function(){function e(t){void 0===t&&(t={}),this._options=t,this.name=e.id}return e.prototype.setupOnce=function(){qi((function(t){var n=Bi();if(!n)return t;var r=n.getIntegration(e);if(r){var o=n.getClient(),i=o?o.getOptions():{},s=r._mergeOptions(i);if(r._shouldDropEvent(t,s))return null}return t}))},e.prototype._shouldDropEvent=function(e,t){return this._isSentryError(e,t)?(Ko.warn("Event dropped due to being internal Sentry Error.\nEvent: "+Ho(e)),!0):this._isIgnoredError(e,t)?(Ko.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+Ho(e)),!0):this._isDeniedUrl(e,t)?(Ko.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+Ho(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0):!this._isAllowedUrl(e,t)&&(Ko.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+Ho(e)+".\nUrl: "+this._getEventFilterUrl(e)),!0)},e.prototype._isSentryError=function(e,t){if(!t.ignoreInternal)return!1;try{return e&&e.exception&&e.exception.values&&e.exception.values[0]&&"SentryError"===e.exception.values[0].type||!1}catch(e){return!1}},e.prototype._isIgnoredError=function(e,t){return!(!t.ignoreErrors||!t.ignoreErrors.length)&&this._getPossibleEventMessages(e).some((function(e){return t.ignoreErrors.some((function(t){return Uo(e,t)}))}))},e.prototype._isDeniedUrl=function(e,t){if(!t.denyUrls||!t.denyUrls.length)return!1;var n=this._getEventFilterUrl(e);return!!n&&t.denyUrls.some((function(e){return Uo(n,e)}))},e.prototype._isAllowedUrl=function(e,t){if(!t.allowUrls||!t.allowUrls.length)return!0;var n=this._getEventFilterUrl(e);return!n||t.allowUrls.some((function(e){return Uo(n,e)}))},e.prototype._mergeOptions=function(e){return void 0===e&&(e={}),{allowUrls:go(this._options.whitelistUrls||[],this._options.allowUrls||[],e.whitelistUrls||[],e.allowUrls||[]),denyUrls:go(this._options.blacklistUrls||[],this._options.denyUrls||[],e.blacklistUrls||[],e.denyUrls||[]),ignoreErrors:go(this._options.ignoreErrors||[],e.ignoreErrors||[],ls),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},e.prototype._getPossibleEventMessages=function(e){if(e.message)return[e.message];if(e.exception)try{var t=e.exception.values&&e.exception.values[0]||{},n=t.type,r=void 0===n?"":n,o=t.value,i=void 0===o?"":o;return[""+i,r+": "+i]}catch(t){return Ko.error("Cannot extract message for event "+Ho(e)),[]}return[]},e.prototype._getEventFilterUrl=function(e){try{if(e.stacktrace){var t=e.stacktrace.frames;return t&&t[t.length-1].filename||null}if(e.exception){var n=e.exception.values&&e.exception.values[0].stacktrace&&e.exception.values[0].stacktrace.frames;return n&&n[n.length-1].filename||null}return null}catch(t){return Ko.error("Cannot extract url for event "+Ho(e)),null}},e.id="InboundFilters",e}(),ds="?",ps=/^\s*at (?:(.*?) ?\()?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,fs=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,ms=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,hs=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,vs=/\((\S*)(?::(\d+))(?::(\d+))\)/,gs=/Minified React error #\d+;/i;function ys(e){var t=null,n=0;e&&("number"==typeof e.framesToPop?n=e.framesToPop:gs.test(e.message)&&(n=1));try{if(t=function(e){if(!e||!e.stacktrace)return null;for(var t,n=e.stacktrace,r=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,o=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\((.*)\))? in (.*):\s*$/i,i=n.split("\n"),s=[],a=0;a<i.length;a+=2){var c=null;(t=r.exec(i[a]))?c={url:t[2],func:t[3],args:[],line:+t[1],column:null}:(t=o.exec(i[a]))&&(c={url:t[6],func:t[3]||t[4],args:t[5]?t[5].split(","):[],line:+t[1],column:+t[2]}),c&&(!c.func&&c.line&&(c.func=ds),s.push(c))}if(!s.length)return null;return{message:bs(e),name:e.name,stack:s}}(e))return _s(t,n)}catch(e){}try{if(t=function(e){if(!e||!e.stack)return null;for(var t,n,r,o=[],i=e.stack.split("\n"),s=0;s<i.length;++s){if(n=ps.exec(i[s])){var a=n[2]&&0===n[2].indexOf("native");n[2]&&0===n[2].indexOf("eval")&&(t=vs.exec(n[2]))&&(n[2]=t[1],n[3]=t[2],n[4]=t[3]),r={url:n[2]&&0===n[2].indexOf("address at ")?n[2].substr("address at ".length):n[2],func:n[1]||ds,args:a?[n[2]]:[],line:n[3]?+n[3]:null,column:n[4]?+n[4]:null}}else if(n=ms.exec(i[s]))r={url:n[2],func:n[1]||ds,args:[],line:+n[3],column:n[4]?+n[4]:null};else{if(!(n=fs.exec(i[s])))continue;n[3]&&n[3].indexOf(" > eval")>-1&&(t=hs.exec(n[3]))?(n[1]=n[1]||"eval",n[3]=t[1],n[4]=t[2],n[5]=""):0!==s||n[5]||void 0===e.columnNumber||(o[0].column=e.columnNumber+1),r={url:n[3],func:n[1]||ds,args:n[2]?n[2].split(","):[],line:n[4]?+n[4]:null,column:n[5]?+n[5]:null}}!r.func&&r.line&&(r.func=ds),o.push(r)}if(!o.length)return null;return{message:bs(e),name:e.name,stack:o}}(e))return _s(t,n)}catch(e){}return{message:bs(e),name:e&&e.name,stack:[],failed:!0}}function _s(e,t){try{return fo(fo({},e),{stack:e.stack.slice(t)})}catch(t){return e}}function bs(e){var t=e&&e.message;return t?t.error&&"string"==typeof t.error.message?t.error.message:t:"No error message"}function $s(e){var t=xs(e.stack),n={type:e.name,value:e.message};return t&&t.length&&(n.stacktrace={frames:t}),void 0===n.type&&""===n.value&&(n.value="Unrecoverable error caught"),n}function ws(e){return{exception:{values:[$s(e)]}}}function xs(e){if(!e||!e.length)return[];var t=e,n=t[0].func||"",r=t[t.length-1].func||"";return-1===n.indexOf("captureMessage")&&-1===n.indexOf("captureException")||(t=t.slice(1)),-1!==r.indexOf("sentryWrapped")&&(t=t.slice(0,-1)),t.slice(0,50).map((function(e){return{colno:null===e.column?void 0:e.column,filename:e.url||t[0].url,function:e.func||"?",in_app:!0,lineno:null===e.line?void 0:e.line}})).reverse()}function ks(e,t,n){var r,o;if(void 0===n&&(n={}),_o(e)&&e.error)return r=ws(ys(e=e.error));if(bo(e)||(o=e,"[object DOMException]"===Object.prototype.toString.call(o))){var i=e,s=i.name||(bo(i)?"DOMError":"DOMException"),a=i.message?s+": "+i.message:s;return Xo(r=Ss(a,t,n),a),"code"in i&&(r.tags=fo(fo({},r.tags),{"DOMException.code":""+i.code})),r}return yo(e)?r=ws(ys(e)):xo(e)||ko(e)?(Yo(r=function(e,t,n){var r={exception:{values:[{type:ko(e)?e.constructor.name:n?"UnhandledRejection":"Error",value:"Non-Error "+(n?"promise rejection":"exception")+" captured with keys: "+ci(e)}]},extra:{__serialized__:oi(e)}};if(t){var o=xs(ys(t).stack);r.stacktrace={frames:o}}return r}(e,t,n.rejection),{synthetic:!0}),r):(Xo(r=Ss(e,t,n),""+e,void 0),Yo(r,{synthetic:!0}),r)}function Ss(e,t,n){void 0===n&&(n={});var r={message:e};if(n.attachStacktrace&&t){var o=xs(ys(t).stack);r.stacktrace={frames:o}}return r}var Es=function(){function e(e){this.options=e,this._buffer=new Oi(30),this._rateLimits={},this._api=new Vi(e.dsn,e._metadata),this.url=this._api.getStoreEndpointWithUrlEncodedAuth()}return e.prototype.sendEvent=function(e){throw new zo("Transport Class has to implement `sendEvent` method")},e.prototype.close=function(e){return this._buffer.drain(e)},e.prototype._handleResponse=function(e){var t=e.requestType,n=e.response,r=e.headers,o=e.resolve,i=e.reject,s=uo.fromHttpCode(n.status);this._handleRateLimit(r)&&Ko.warn("Too many requests, backing off until: "+this._disabledUntil(t)),s!==uo.Success?i(n):o({status:s})},e.prototype._disabledUntil=function(e){return this._rateLimits[e]||this._rateLimits.all},e.prototype._isRateLimited=function(e){return this._disabledUntil(e)>new Date(Date.now())},e.prototype._handleRateLimit=function(e){var t,n,r,o,i=Date.now(),s=e["x-sentry-rate-limits"],a=e["retry-after"];if(s){try{for(var c=ho(s.trim().split(",")),l=c.next();!l.done;l=c.next()){var u=l.value.split(":",2),d=parseInt(u[0],10),p=1e3*(isNaN(d)?60:d);try{for(var f=(r=void 0,ho(u[1].split(";"))),m=f.next();!m.done;m=f.next()){var h=m.value;this._rateLimits[h||"all"]=new Date(i+p)}}catch(e){r={error:e}}finally{try{m&&!m.done&&(o=f.return)&&o.call(f)}finally{if(r)throw r.error}}}}catch(e){t={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(t)throw t.error}}return!0}return!!a&&(this._rateLimits.all=new Date(i+function(e,t){if(!t)return 6e4;var n=parseInt(""+t,10);if(!isNaN(n))return 1e3*n;var r=Date.parse(""+t);return isNaN(r)?6e4:r-e}(i,a)),!0)},e}(),Ts=Ao(),Cs=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ao(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(is(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(os(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;if(this._isRateLimited(e.type))return Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429});var r={body:e.body,method:"POST",referrerPolicy:pi()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(r,this.options.fetchParameters),void 0!==this.options.headers&&(r.headers=this.options.headers),this._buffer.add(new Ci((function(t,o){Ts.fetch(e.url,r).then((function(r){var i={"x-sentry-rate-limits":r.headers.get("X-Sentry-Rate-Limits"),"retry-after":r.headers.get("Retry-After")};n._handleResponse({requestType:e.type,response:r,headers:i,resolve:t,reject:o})})).catch(o)})))},t}(Es),Os=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ao(t,e),t.prototype.sendEvent=function(e){return this._sendRequest(is(e,this._api),e)},t.prototype.sendSession=function(e){return this._sendRequest(os(e,this._api),e)},t.prototype._sendRequest=function(e,t){var n=this;return this._isRateLimited(e.type)?Promise.reject({event:t,type:e.type,reason:"Transport locked till "+this._disabledUntil(e.type)+" due to too many requests.",status:429}):this._buffer.add(new Ci((function(t,r){var o=new XMLHttpRequest;for(var i in o.onreadystatechange=function(){if(4===o.readyState){var i={"x-sentry-rate-limits":o.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":o.getResponseHeader("Retry-After")};n._handleResponse({requestType:e.type,response:o,headers:i,resolve:t,reject:r})}},o.open("POST",e.url),n.options.headers)n.options.headers.hasOwnProperty(i)&&o.setRequestHeader(i,n.options.headers[i]);o.send(e.body)})))},t}(Es),Is=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return ao(t,e),t.prototype.eventFromException=function(e,t){return function(e,t,n){var r=ks(t,n&&n.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return Yo(r,{handled:!0,type:"generic"}),r.level=lo.Error,n&&n.event_id&&(r.event_id=n.event_id),Ci.resolve(r)}(this._options,e,t)},t.prototype.eventFromMessage=function(e,t,n){return void 0===t&&(t=lo.Info),function(e,t,n,r){void 0===n&&(n=lo.Info);var o=Ss(t,r&&r.syntheticException||void 0,{attachStacktrace:e.attachStacktrace});return o.level=n,r&&r.event_id&&(o.event_id=r.event_id),Ci.resolve(o)}(this._options,e,t,n)},t.prototype._setupTransport=function(){if(!this._options.dsn)return e.prototype._setupTransport.call(this);var t=fo(fo({},this._options.transportOptions),{dsn:this._options.dsn,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(t):ui()?new Cs(t):new Os(t)},t}(ts),zs=0;function Rs(){return zs>0}function js(){zs+=1,setTimeout((function(){zs-=1}))}function Ls(e,t,n){if(void 0===t&&(t={}),"function"!=typeof e)return e;try{if(e.__sentry__)return e;if(e.__sentry_wrapped__)return e.__sentry_wrapped__}catch(t){return e}var r=function(){var r=Array.prototype.slice.call(arguments);try{n&&"function"==typeof n&&n.apply(this,arguments);var o=r.map((function(e){return Ls(e,t)}));return e.handleEvent?e.handleEvent.apply(this,o):e.apply(this,o)}catch(e){throw js(),Ji((function(n){n.addEventProcessor((function(e){var n=fo({},e);return t.mechanism&&(Xo(n,void 0,void 0),Yo(n,t.mechanism)),n.extra=fo(fo({},n.extra),{arguments:r}),n})),Gi(e)})),e}};try{for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(r[o]=e[o])}catch(e){}e.prototype=e.prototype||{},r.prototype=e.prototype,Object.defineProperty(e,"__sentry_wrapped__",{enumerable:!1,value:r}),Object.defineProperties(r,{__sentry__:{enumerable:!1,value:!0},__sentry_original__:{enumerable:!1,value:e}});try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get:function(){return e.name}})}catch(e){}return r}function Ds(e){if(void 0===e&&(e={}),e.eventId)if(e.dsn){var t=document.createElement("script");t.async=!0,t.src=new Vi(e.dsn).getReportDialogEndpoint(e),e.onLoad&&(t.onload=e.onLoad),(document.head||document.body).appendChild(t)}else Ko.error("Missing dsn option in showReportDialog call");else Ko.error("Missing eventId option in showReportDialog call")}var Ns,Ps=function(){function e(t){this.name=e.id,this._onErrorHandlerInstalled=!1,this._onUnhandledRejectionHandlerInstalled=!1,this._options=fo({onerror:!0,onunhandledrejection:!0},t)}return e.prototype.setupOnce=function(){Error.stackTraceLimit=50,this._options.onerror&&(Ko.log("Global Handler attached: onerror"),this._installGlobalOnErrorHandler()),this._options.onunhandledrejection&&(Ko.log("Global Handler attached: onunhandledrejection"),this._installGlobalOnUnhandledRejectionHandler())},e.prototype._installGlobalOnErrorHandler=function(){var t=this;this._onErrorHandlerInstalled||(yi({callback:function(n){var r=n.error,o=Bi(),i=o.getIntegration(e),s=r&&!0===r.__sentry_own_request__;if(i&&!Rs()&&!s){var a=o.getClient(),c=wo(r)?t._eventFromIncompleteOnError(n.msg,n.url,n.line,n.column):t._enhanceEventWithInitialFrame(ks(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!1}),n.url,n.line,n.column);Yo(c,{handled:!1,type:"onerror"}),o.captureEvent(c,{originalException:r})}},type:"error"}),this._onErrorHandlerInstalled=!0)},e.prototype._installGlobalOnUnhandledRejectionHandler=function(){var t=this;this._onUnhandledRejectionHandlerInstalled||(yi({callback:function(n){var r=n;try{"reason"in n?r=n.reason:"detail"in n&&"reason"in n.detail&&(r=n.detail.reason)}catch(e){}var o=Bi(),i=o.getIntegration(e),s=r&&!0===r.__sentry_own_request__;if(!i||Rs()||s)return!0;var a=o.getClient(),c=wo(r)?t._eventFromRejectionWithPrimitive(r):ks(r,void 0,{attachStacktrace:a&&a.getOptions().attachStacktrace,rejection:!0});c.level=lo.Error,Yo(c,{handled:!1,type:"onunhandledrejection"}),o.captureEvent(c,{originalException:r})},type:"unhandledrejection"}),this._onUnhandledRejectionHandlerInstalled=!0)},e.prototype._eventFromIncompleteOnError=function(e,t,n,r){var o,i=_o(e)?e.message:e;if($o(i)){var s=i.match(/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i);s&&(o=s[1],i=s[2])}var a={exception:{values:[{type:o||"Error",value:i}]}};return this._enhanceEventWithInitialFrame(a,t,n,r)},e.prototype._eventFromRejectionWithPrimitive=function(e){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(e)}]}}},e.prototype._enhanceEventWithInitialFrame=function(e,t,n,r){e.exception=e.exception||{},e.exception.values=e.exception.values||[],e.exception.values[0]=e.exception.values[0]||{},e.exception.values[0].stacktrace=e.exception.values[0].stacktrace||{},e.exception.values[0].stacktrace.frames=e.exception.values[0].stacktrace.frames||[];var o=isNaN(parseInt(r,10))?void 0:r,i=isNaN(parseInt(n,10))?void 0:n,s=$o(t)&&t.length>0?t:function(){try{return document.location.href}catch(e){return""}}();return 0===e.exception.values[0].stacktrace.frames.length&&e.exception.values[0].stacktrace.frames.push({colno:o,filename:s,function:"?",in_app:!0,lineno:i}),e},e.id="GlobalHandlers",e}(),qs=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],Us=function(){function e(t){this.name=e.id,this._options=fo({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},t)}return e.prototype.setupOnce=function(){var e=Ao();(this._options.setTimeout&&ti(e,"setTimeout",this._wrapTimeFunction.bind(this)),this._options.setInterval&&ti(e,"setInterval",this._wrapTimeFunction.bind(this)),this._options.requestAnimationFrame&&ti(e,"requestAnimationFrame",this._wrapRAF.bind(this)),this._options.XMLHttpRequest&&"XMLHttpRequest"in e&&ti(XMLHttpRequest.prototype,"send",this._wrapXHR.bind(this)),this._options.eventTarget)&&(Array.isArray(this._options.eventTarget)?this._options.eventTarget:qs).forEach(this._wrapEventTarget.bind(this))},e.prototype._wrapTimeFunction=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0];return t[0]=Ls(r,{mechanism:{data:{function:ei(e)},handled:!0,type:"instrument"}}),e.apply(this,t)}},e.prototype._wrapRAF=function(e){return function(t){return e.call(this,Ls(t,{mechanism:{data:{function:"requestAnimationFrame",handler:ei(e)},handled:!0,type:"instrument"}}))}},e.prototype._wrapEventTarget=function(e){var t=Ao(),n=t[e]&&t[e].prototype;n&&n.hasOwnProperty&&n.hasOwnProperty("addEventListener")&&(ti(n,"addEventListener",(function(t){return function(n,r,o){try{"function"==typeof r.handleEvent&&(r.handleEvent=Ls(r.handleEvent.bind(r),{mechanism:{data:{function:"handleEvent",handler:ei(r),target:e},handled:!0,type:"instrument"}}))}catch(e){}return t.call(this,n,Ls(r,{mechanism:{data:{function:"addEventListener",handler:ei(r),target:e},handled:!0,type:"instrument"}}),o)}})),ti(n,"removeEventListener",(function(e){return function(t,n,r){var o,i=n;try{var s=null===(o=i)||void 0===o?void 0:o.__sentry_wrapped__;s&&e.call(this,t,s,r)}catch(e){}return e.call(this,t,i,r)}})))},e.prototype._wrapXHR=function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=this,o=["onload","onerror","onprogress","onreadystatechange"];return o.forEach((function(e){e in r&&"function"==typeof r[e]&&ti(r,e,(function(t){var n={mechanism:{data:{function:e,handler:ei(t)},handled:!0,type:"instrument"}};return t.__sentry_original__&&(n.mechanism.data.handler=ei(t.__sentry_original__)),Ls(t,n)}))})),e.apply(this,t)}},e.id="TryCatch",e}(),Ms=function(){function e(t){this.name=e.id,this._options=fo({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},t)}return e.prototype.addSentryBreadcrumb=function(e){this._options.sentry&&Bi().addBreadcrumb({category:"sentry."+("transaction"===e.type?"transaction":"event"),event_id:e.event_id,level:e.level,message:Ho(e)},{event:e})},e.prototype.setupOnce=function(){var e=this;this._options.console&&yi({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._consoleBreadcrumb.apply(e,go(t))},type:"console"}),this._options.dom&&yi({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._domBreadcrumb.apply(e,go(t))},type:"dom"}),this._options.xhr&&yi({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._xhrBreadcrumb.apply(e,go(t))},type:"xhr"}),this._options.fetch&&yi({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._fetchBreadcrumb.apply(e,go(t))},type:"fetch"}),this._options.history&&yi({callback:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e._historyBreadcrumb.apply(e,go(t))},type:"history"})},e.prototype._consoleBreadcrumb=function(e){var t={category:"console",data:{arguments:e.args,logger:"console"},level:lo.fromString(e.level),message:qo(e.args," ")};if("assert"===e.level){if(!1!==e.args[0])return;t.message="Assertion failed: "+(qo(e.args.slice(1)," ")||"console.assert"),t.data.arguments=e.args.slice(1)}Bi().addBreadcrumb(t,{input:e.args,level:e.level})},e.prototype._domBreadcrumb=function(e){var t;try{t=e.event.target?Co(e.event.target):Co(e.event)}catch(e){t="<unknown>"}0!==t.length&&Bi().addBreadcrumb({category:"ui."+e.name,message:t},{event:e.event,name:e.name,global:e.global})},e.prototype._xhrBreadcrumb=function(e){if(e.endTimestamp){if(e.xhr.__sentry_own_request__)return;var t=e.xhr.__sentry_xhr__||{},n=t.method,r=t.url,o=t.status_code,i=t.body;Bi().addBreadcrumb({category:"xhr",data:{method:n,url:r,status_code:o},type:"http"},{xhr:e.xhr,input:i})}else;},e.prototype._fetchBreadcrumb=function(e){e.endTimestamp&&(e.fetchData.url.match(/sentry_key/)&&"POST"===e.fetchData.method||(e.error?Bi().addBreadcrumb({category:"fetch",data:e.fetchData,level:lo.Error,type:"http"},{data:e.error,input:e.args}):Bi().addBreadcrumb({category:"fetch",data:fo(fo({},e.fetchData),{status_code:e.response.status}),type:"http"},{input:e.args,response:e.response})))},e.prototype._historyBreadcrumb=function(e){var t=Ao(),n=e.from,r=e.to,o=Bo(t.location.href),i=Bo(n),s=Bo(r);i.path||(i=o),o.protocol===s.protocol&&o.host===s.host&&(r=s.relative),o.protocol===i.protocol&&o.host===i.host&&(n=i.relative),Bi().addBreadcrumb({category:"navigation",data:{from:n,to:r}})},e.id="Breadcrumbs",e}(),As=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._key=t.key||"cause",this._limit=t.limit||5}return e.prototype.setupOnce=function(){qi((function(t,n){var r=Bi().getIntegration(e);return r?r._handler(t,n):t}))},e.prototype._handler=function(e,t){if(!(e.exception&&e.exception.values&&t&&To(t.originalException,Error)))return e;var n=this._walkErrorTree(t.originalException,this._key);return e.exception.values=go(n,e.exception.values),e},e.prototype._walkErrorTree=function(e,t,n){if(void 0===n&&(n=[]),!To(e[t],Error)||n.length+1>=this._limit)return n;var r=$s(ys(e[t]));return this._walkErrorTree(e[t],t,go([r],n))},e.id="LinkedErrors",e}(),Fs=Ao(),Bs=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(){qi((function(t){var n,r,o;if(Bi().getIntegration(e)){if(!Fs.navigator&&!Fs.location&&!Fs.document)return t;var i=(null===(n=t.request)||void 0===n?void 0:n.url)||(null===(r=Fs.location)||void 0===r?void 0:r.href),s=(Fs.document||{}).referrer,a=(Fs.navigator||{}).userAgent,c=fo(fo(fo({},null===(o=t.request)||void 0===o?void 0:o.headers),s&&{Referer:s}),a&&{"User-Agent":a}),l=fo(fo({},i&&{url:i}),{headers:c});return fo(fo({},t),{request:l})}return t}))},e.id="UserAgent",e}(),Hs=function(e){function t(t){return void 0===t&&(t={}),e.call(this,Is,t)||this}return ao(t,e),t.prototype.showReportDialog=function(e){void 0===e&&(e={}),Ao().document&&(this._isEnabled()?Ds(fo(fo({},e),{dsn:e.dsn||this.getDsn()})):Ko.error("Trying to call showReportDialog with Sentry Client disabled"))},t.prototype._prepareEvent=function(t,n,r){return t.platform=t.platform||"javascript",e.prototype._prepareEvent.call(this,t,n,r)},t.prototype._sendEvent=function(t){var n=this.getIntegration(Ms);n&&n.addSentryBreadcrumb(t),e.prototype._sendEvent.call(this,t)},t}(Zi),Ws=[new us,new cs,new Us,new Ms,new Ps,new As,new Bs];!function(e){e.Ok="ok",e.DeadlineExceeded="deadline_exceeded",e.Unauthenticated="unauthenticated",e.PermissionDenied="permission_denied",e.NotFound="not_found",e.ResourceExhausted="resource_exhausted",e.InvalidArgument="invalid_argument",e.Unimplemented="unimplemented",e.Unavailable="unavailable",e.InternalError="internal_error",e.UnknownError="unknown_error",e.Cancelled="cancelled",e.AlreadyExists="already_exists",e.FailedPrecondition="failed_precondition",e.Aborted="aborted",e.OutOfRange="out_of_range",e.DataLoss="data_loss"}(Ns||(Ns={})),function(e){e.fromHttpCode=function(t){if(t<400)return e.Ok;if(t>=400&&t<500)switch(t){case 401:return e.Unauthenticated;case 403:return e.PermissionDenied;case 404:return e.NotFound;case 409:return e.AlreadyExists;case 413:return e.FailedPrecondition;case 429:return e.ResourceExhausted;default:return e.InvalidArgument}if(t>=500&&t<600)switch(t){case 501:return e.Unimplemented;case 503:return e.Unavailable;case 504:return e.DeadlineExceeded;default:return e.InternalError}return e.UnknownError}}(Ns||(Ns={}));var Xs=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function Ys(e){return"tracesSampleRate"in e||"tracesSampler"in e}function Gs(e){var t,n;return void 0===e&&(e=Bi()),null===(n=null===(t=e)||void 0===t?void 0:t.getScope())||void 0===n?void 0:n.getTransaction()}function Js(e){return e/1e3}function Vs(){var e=Gs();e&&(Ko.log("[Tracing] Transaction: "+Ns.InternalError+" -> Global error occured"),e.setStatus(Ns.InternalError))}var Ks=function(){function e(e){void 0===e&&(e=1e3),this.spans=[],this._maxlen=e}return e.prototype.add=function(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)},e}(),Qs=function(e){function t(t,n){var r=e.call(this,t)||this;return r._metadata={},r._measurements={},r._hub=Bi(),To(n,Mi)&&(r._hub=n),r.name=t.name||"",r._trimEnd=t.trimEnd,r.transaction=r,r}return ao(t,e),t.prototype.setName=function(e){this.name=e},t.prototype.initSpanRecorder=function(e){void 0===e&&(e=1e3),this.spanRecorder||(this.spanRecorder=new Ks(e)),this.spanRecorder.add(this)},t.prototype.setMeasurements=function(e){this._measurements=fo({},e)},t.prototype.setMetadata=function(e){this._metadata=fo(fo({},this._metadata),e)},t.prototype.finish=function(t){var n=this;if(void 0===this.endTimestamp){if(this.name||(Ko.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),e.prototype.finish.call(this,t),!0===this.sampled){var r=this.spanRecorder?this.spanRecorder.spans.filter((function(e){return e!==n&&e.endTimestamp})):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((function(e,t){return e.endTimestamp&&t.endTimestamp?e.endTimestamp>t.endTimestamp?e:t:e})).endTimestamp);var o={contexts:{trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",debug_meta:this._metadata};return Object.keys(this._measurements).length>0&&(Ko.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),o.measurements=this._measurements),this._hub.captureEvent(o)}Ko.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled.")}},t.prototype.toContext=function(){var t=e.prototype.toContext.call(this);return li(fo(fo({},t),{name:this.name,trimEnd:this._trimEnd}))},t.prototype.updateWithContext=function(t){var n;return e.prototype.updateWithContext.call(this,t),this.name=null!=(n=t.name)?n:"",this._trimEnd=t.trimEnd,this},t}(function(){function e(e){if(this.traceId=Fo(),this.spanId=Fo().substring(16),this.startTimestamp=Li(),this.tags={},this.data={},!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp)}return e.prototype.child=function(e){return this.startChild(e)},e.prototype.startChild=function(t){var n=new e(fo(fo({},t),{parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId}));return n.spanRecorder=this.spanRecorder,n.spanRecorder&&n.spanRecorder.add(n),n.transaction=this.transaction,n},e.prototype.setTag=function(e,t){var n;return this.tags=fo(fo({},this.tags),((n={})[e]=t,n)),this},e.prototype.setData=function(e,t){var n;return this.data=fo(fo({},this.data),((n={})[e]=t,n)),this},e.prototype.setStatus=function(e){return this.status=e,this},e.prototype.setHttpStatus=function(e){this.setTag("http.status_code",String(e));var t=Ns.fromHttpCode(e);return t!==Ns.UnknownError&&this.setStatus(t),this},e.prototype.isSuccess=function(){return this.status===Ns.Ok},e.prototype.finish=function(e){this.endTimestamp="number"==typeof e?e:Li()},e.prototype.toTraceparent=function(){var e="";return void 0!==this.sampled&&(e=this.sampled?"-1":"-0"),this.traceId+"-"+this.spanId+e},e.prototype.toContext=function(){return li({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})},e.prototype.updateWithContext=function(e){var t,n,r,o,i;return this.data=null!=(t=e.data)?t:{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=null!=(n=e.spanId)?n:this.spanId,this.startTimestamp=null!=(r=e.startTimestamp)?r:this.startTimestamp,this.status=e.status,this.tags=null!=(o=e.tags)?o:{},this.traceId=null!=(i=e.traceId)?i:this.traceId,this},e.prototype.getTraceContext=function(){return li({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})},e.prototype.toJSON=function(){return li({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})},e}()),Zs=function(e){function t(t,n,r,o){void 0===r&&(r="");var i=e.call(this,o)||this;return i._pushActivity=t,i._popActivity=n,i.transactionSpanId=r,i}return ao(t,e),t.prototype.add=function(t){var n=this;t.spanId!==this.transactionSpanId&&(t.finish=function(e){t.endTimestamp="number"==typeof e?e:Li(),n._popActivity(t.spanId)},void 0===t.endTimestamp&&this._pushActivity(t.spanId)),e.prototype.add.call(this,t)},t}(Ks),ea=function(e){function t(t,n,r,o){void 0===r&&(r=1e3),void 0===o&&(o=!1);var i=e.call(this,t,n)||this;return i._idleHub=n,i._idleTimeout=r,i._onScope=o,i.activities={},i._heartbeatTimer=0,i._heartbeatCounter=0,i._finished=!1,i._beforeFinishCallbacks=[],n&&o&&(ta(n),Ko.log("Setting idle transaction on scope. Span ID: "+i.spanId),n.configureScope((function(e){return e.setSpan(i)}))),i._initTimeout=setTimeout((function(){i._finished||i.finish()}),i._idleTimeout),i}return ao(t,e),t.prototype.finish=function(t){var n,r,o=this;if(void 0===t&&(t=Li()),this._finished=!0,this.activities={},this.spanRecorder){Ko.log("[Tracing] finishing IdleTransaction",new Date(1e3*t).toISOString(),this.op);try{for(var i=ho(this._beforeFinishCallbacks),s=i.next();!s.done;s=i.next()){(0,s.value)(this,t)}}catch(e){n={error:e}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}this.spanRecorder.spans=this.spanRecorder.spans.filter((function(e){if(e.spanId===o.spanId)return!0;e.endTimestamp||(e.endTimestamp=t,e.setStatus(Ns.Cancelled),Ko.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(e,void 0,2)));var n=e.startTimestamp<t;return n||Ko.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(e,void 0,2)),n})),Ko.log("[Tracing] flushing IdleTransaction")}else Ko.log("[Tracing] No active IdleTransaction");return this._onScope&&ta(this._idleHub),e.prototype.finish.call(this,t)},t.prototype.registerBeforeFinishCallback=function(e){this._beforeFinishCallbacks.push(e)},t.prototype.initSpanRecorder=function(e){var t=this;if(!this.spanRecorder){this.spanRecorder=new Zs((function(e){t._finished||t._pushActivity(e)}),(function(e){t._finished||t._popActivity(e)}),this.spanId,e),Ko.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)},t.prototype._pushActivity=function(e){this._initTimeout&&(clearTimeout(this._initTimeout),this._initTimeout=void 0),Ko.log("[Tracing] pushActivity: "+e),this.activities[e]=!0,Ko.log("[Tracing] new activities count",Object.keys(this.activities).length)},t.prototype._popActivity=function(e){var t=this;if(this.activities[e]&&(Ko.log("[Tracing] popActivity "+e),delete this.activities[e],Ko.log("[Tracing] new activities count",Object.keys(this.activities).length)),0===Object.keys(this.activities).length){var n=this._idleTimeout,r=Li()+n/1e3;setTimeout((function(){t._finished||t.finish(r)}),n)}},t.prototype._beat=function(){if(clearTimeout(this._heartbeatTimer),!this._finished){var e=Object.keys(this.activities),t=e.length?e.reduce((function(e,t){return e+t})):"";t===this._prevHeartbeatString?this._heartbeatCounter+=1:this._heartbeatCounter=1,this._prevHeartbeatString=t,this._heartbeatCounter>=3?(Ko.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus(Ns.DeadlineExceeded),this.setTag("heartbeat","failed"),this.finish()):this._pingHeartbeat()}},t.prototype._pingHeartbeat=function(){var e=this;Ko.log("pinging Heartbeat -> current counter: "+this._heartbeatCounter),this._heartbeatTimer=setTimeout((function(){e._beat()}),5e3)},t}(Qs);function ta(e){if(e){var t=e.getScope();if(t)t.getTransaction()&&t.setSpan(void 0)}}function na(){var e=this.getScope();if(e){var t=e.getSpan();if(t)return{"sentry-trace":t.toTraceparent()}}return{}}function ra(e,t,n){return Ys(t)?void 0!==e.sampled?(e.setMetadata({transactionSampling:{method:po.Explicit}}),e):("function"==typeof t.tracesSampler?(r=t.tracesSampler(n),e.setMetadata({transactionSampling:{method:po.Sampler,rate:Number(r)}})):void 0!==n.parentSampled?(r=n.parentSampled,e.setMetadata({transactionSampling:{method:po.Inheritance}})):(r=t.tracesSampleRate,e.setMetadata({transactionSampling:{method:po.Rate,rate:Number(r)}})),function(e){if(isNaN(e)||"number"!=typeof e&&"boolean"!=typeof e)return Ko.warn("[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got "+JSON.stringify(e)+" of type "+JSON.stringify(typeof e)+"."),!1;if(e<0||e>1)return Ko.warn("[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got "+e+"."),!1;return!0}(r)?r?(e.sampled=Math.random()<r,e.sampled?(Ko.log("[Tracing] starting "+e.op+" transaction - "+e.name),e):(Ko.log("[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = "+Number(r)+")"),e)):(Ko.log("[Tracing] Discarding transaction because "+("function"==typeof t.tracesSampler?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0")),e.sampled=!1,e):(Ko.warn("[Tracing] Discarding transaction because of invalid sample rate."),e.sampled=!1,e)):(e.sampled=!1,e);var r}function oa(e,t){var n,r,o=(null===(n=this.getClient())||void 0===n?void 0:n.getOptions())||{},i=new Qs(e,this);return(i=ra(i,o,fo({parentSampled:e.parentSampled,transactionContext:e},t))).sampled&&i.initSpanRecorder(null===(r=o._experiments)||void 0===r?void 0:r.maxSpans),i}var ia=Ao();var sa,aa,ca=function(e,t,n,r){var o;return function(){n&&t.isFinal&&n.disconnect(),t.value>=0&&(r||t.isFinal||"hidden"===document.visibilityState)&&(t.delta=t.value-(o||0),(t.delta||t.isFinal||void 0===o)&&(e(t),o=t.value))}},la=function(e,t){return void 0===t&&(t=-1),{name:e,value:t,delta:0,entries:[],id:Date.now()+"-"+(Math.floor(8999999999999*Math.random())+1e12),isFinal:!1}},ua=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},da=!1,pa=!1,fa=function(e){da=!e.persisted},ma=function(e,t){void 0===t&&(t=!1),pa||(addEventListener("pagehide",fa),addEventListener("beforeunload",(function(){})),pa=!0),addEventListener("visibilitychange",(function(t){var n=t.timeStamp;"hidden"===document.visibilityState&&e({timeStamp:n,isUnloading:da})}),{capture:!0,once:t})},ha=function(){return void 0===sa&&(sa="hidden"===document.visibilityState?0:1/0,ma((function(e){var t=e.timeStamp;return sa=t}),!0)),{get timeStamp(){return sa}}},va=function(e,t){void 0===t&&(t=!1);var n,r=la("LCP"),o=ha(),i=function(e){var t=e.startTime;t<o.timeStamp?(r.value=t,r.entries.push(e)):r.isFinal=!0,n()},s=ua("largest-contentful-paint",i);if(s){n=ca(e,r,s,t);var a=function(){r.isFinal||(s.takeRecords().map(i),r.isFinal=!0,n())};(aa||(aa=new Promise((function(e){return["scroll","keydown","pointerdown"].map((function(t){addEventListener(t,e,{once:!0,passive:!0,capture:!0})}))}))),aa).then(a),ma(a,!0)}},ga=Ao(),ya=function(e){var t,n=la("TTFB");t=function(){try{var t=ga.performance.getEntriesByType("navigation")[0]||function(){var e=ga.performance.timing,t={entryType:"navigation",startTime:0};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();n.value=n.delta=t.responseStart,n.entries=[t],e(n)}catch(e){}},"complete"===document.readyState?setTimeout(t,0):addEventListener("pageshow",t)},_a=Ao(),ba=function(){function e(){this._measurements={},this._performanceCursor=0,_a&&_a.performance&&(_a.performance.mark&&_a.performance.mark("sentry-tracing-init"),this._trackCLS(),this._trackLCP(),this._trackFID(),this._trackTTFB())}return e.prototype.addPerformanceEntries=function(e){var t=this;if(_a&&_a.performance&&_a.performance.getEntries&&Di){Ko.log("[Tracing] Adding & adjusting spans using Performance API");var n,r,o,i=Js(Di);if(_a.document)for(var s=0;s<document.scripts.length;s++)if("true"===document.scripts[s].dataset.entry){n=document.scripts[s].src;break}if(_a.performance.getEntries().slice(this._performanceCursor).forEach((function(s){var a=Js(s.startTime),c=Js(s.duration);if(!("navigation"===e.op&&i+a<e.startTimestamp))switch(s.entryType){case"navigation":!function(e,t,n){$a(e,t,"unloadEvent",n),$a(e,t,"redirect",n),$a(e,t,"domContentLoadedEvent",n),$a(e,t,"loadEvent",n),$a(e,t,"connect",n),$a(e,t,"secureConnection",n,"connectEnd"),$a(e,t,"fetch",n,"domainLookupStart"),$a(e,t,"domainLookup",n),function(e,t,n){wa(e,{op:"browser",description:"request",startTimestamp:n+Js(t.requestStart),endTimestamp:n+Js(t.responseEnd)}),wa(e,{op:"browser",description:"response",startTimestamp:n+Js(t.responseStart),endTimestamp:n+Js(t.responseEnd)})}(e,t,n)}(e,s,i);break;case"mark":case"paint":case"measure":var l=function(e,t,n,r,o){var i=o+n,s=i+r;return wa(e,{description:t.name,endTimestamp:s,op:t.entryType,startTimestamp:i}),i}(e,s,a,c,i);void 0===o&&"sentry-tracing-init"===s.name&&(o=l);var u=ha(),d=s.startTime<u.timeStamp;"first-paint"===s.name&&d&&(Ko.log("[Measurements] Adding FP"),t._measurements.fp={value:s.startTime},t._measurements["mark.fp"]={value:l}),"first-contentful-paint"===s.name&&d&&(Ko.log("[Measurements] Adding FCP"),t._measurements.fcp={value:s.startTime},t._measurements["mark.fcp"]={value:l});break;case"resource":var p=s.name.replace(window.location.origin,""),f=function(e,t,n,r,o,i){if("xmlhttprequest"===t.initiatorType||"fetch"===t.initiatorType)return;var s={};"transferSize"in t&&(s["Transfer Size"]=t.transferSize);"encodedBodySize"in t&&(s["Encoded Body Size"]=t.encodedBodySize);"decodedBodySize"in t&&(s["Decoded Body Size"]=t.decodedBodySize);var a=i+r,c=a+o;return wa(e,{description:n,endTimestamp:c,op:t.initiatorType?"resource."+t.initiatorType:"resource",startTimestamp:a,data:s}),c}(e,s,p,a,c,i);void 0===r&&(n||"").indexOf(p)>-1&&(r=f)}})),void 0!==r&&void 0!==o&&wa(e,{description:"evaluation",endTimestamp:o,op:"script",startTimestamp:r}),this._performanceCursor=Math.max(performance.getEntries().length-1,0),this._trackNavigator(e),"pageload"===e.op){var a=Js(Di);["fcp","fp","lcp","ttfb"].forEach((function(n){if(t._measurements[n]&&!(a>=e.startTimestamp)){var r=t._measurements[n].value,o=a+Js(r),i=Math.abs(1e3*(o-e.startTimestamp)),s=i-r;Ko.log("[Measurements] Normalized "+n+" from "+r+" to "+i+" ("+s+")"),t._measurements[n].value=i}})),this._measurements["mark.fid"]&&this._measurements.fid&&wa(e,{description:"first input delay",endTimestamp:this._measurements["mark.fid"].value+Js(this._measurements.fid.value),op:"web.vitals",startTimestamp:this._measurements["mark.fid"].value}),e.setMeasurements(this._measurements)}}},e.prototype._trackCLS=function(){var e=this;!function(e,t){void 0===t&&(t=!1);var n,r=la("CLS",0),o=function(e){e.hadRecentInput||(r.value+=e.value,r.entries.push(e),n())},i=ua("layout-shift",o);i&&(n=ca(e,r,i,t),ma((function(e){var t=e.isUnloading;i.takeRecords().map(o),t&&(r.isFinal=!0),n()})))}((function(t){t.entries.pop()&&(Ko.log("[Measurements] Adding CLS"),e._measurements.cls={value:t.value})}))},e.prototype._trackNavigator=function(e){var t=_a.navigator;if(t){var n=t.connection;n&&(n.effectiveType&&e.setTag("effectiveConnectionType",n.effectiveType),n.type&&e.setTag("connectionType",n.type),xa(n.rtt)&&(this._measurements["connection.rtt"]={value:n.rtt}),xa(n.downlink)&&(this._measurements["connection.downlink"]={value:n.downlink})),xa(t.deviceMemory)&&e.setTag("deviceMemory",String(t.deviceMemory)),xa(t.hardwareConcurrency)&&e.setTag("hardwareConcurrency",String(t.hardwareConcurrency))}},e.prototype._trackLCP=function(){var e=this;va((function(t){var n=t.entries.pop();if(n){var r=Js(performance.timeOrigin),o=Js(n.startTime);Ko.log("[Measurements] Adding LCP"),e._measurements.lcp={value:t.value},e._measurements["mark.lcp"]={value:r+o}}}))},e.prototype._trackFID=function(){var e,t,n,r,o,i,s=this;e=function(e){var t=e.entries.pop();if(t){var n=Js(performance.timeOrigin),r=Js(t.startTime);Ko.log("[Measurements] Adding FID"),s._measurements.fid={value:e.value},s._measurements["mark.fid"]={value:n+r}}},t=la("FID"),n=ha(),o=ua("first-input",r=function(e){e.startTime<n.timeStamp&&(t.value=e.processingStart-e.startTime,t.entries.push(e),t.isFinal=!0,i())}),i=ca(e,t,o),o?ma((function(){o.takeRecords().map(r),o.disconnect()}),!0):window.perfMetrics&&window.perfMetrics.onFirstInputDelay&&window.perfMetrics.onFirstInputDelay((function(e,r){r.timeStamp<n.timeStamp&&(t.value=e,t.isFinal=!0,t.entries=[{entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+e}],i())}))},e.prototype._trackTTFB=function(){var e=this;ya((function(t){var n,r=t.entries.pop();if(r){Ko.log("[Measurements] Adding TTFB"),e._measurements.ttfb={value:t.value};var o=t.value-(n=t.entries[0],null!=n?n:r).requestStart;e._measurements["ttfb.requestTime"]={value:o}}}))},e}();function $a(e,t,n,r,o){var i=o?t[o]:t[n+"End"],s=t[n+"Start"];s&&i&&wa(e,{op:"browser",description:n,startTimestamp:r+Js(s),endTimestamp:r+Js(i)})}function wa(e,t){var n=t.startTimestamp,r=mo(t,["startTimestamp"]);return n&&e.startTimestamp>n&&(e.startTimestamp=n),e.startChild(fo({startTimestamp:n},r))}function xa(e){return"number"==typeof e&&isFinite(e)}var ka={traceFetch:!0,traceXHR:!0,tracingOrigins:["localhost",/^\//]};function Sa(e){var t=fo(fo({},ka),e),n=t.traceFetch,r=t.traceXHR,o=t.tracingOrigins,i=t.shouldCreateSpanForRequest,s={},a=function(e){if(s[e])return s[e];var t=o;return s[e]=t.some((function(t){return Uo(e,t)}))&&!Uo(e,"sentry_key"),s[e]},c=a;"function"==typeof i&&(c=function(e){return a(e)&&i(e)});var l={};n&&yi({callback:function(e){!function(e,t,n){var r,o=null===(r=Bi().getClient())||void 0===r?void 0:r.getOptions();if(!(o&&Ys(o)&&e.fetchData&&t(e.fetchData.url)))return;if(e.endTimestamp&&e.fetchData.__span){if(a=n[e.fetchData.__span]){var i=e.response;i&&a.setHttpStatus(i.status),a.finish(),delete n[e.fetchData.__span]}return}var s=Gs();if(s){var a=s.startChild({data:fo(fo({},e.fetchData),{type:"fetch"}),description:e.fetchData.method+" "+e.fetchData.url,op:"http"});e.fetchData.__span=a.spanId,n[a.spanId]=a;var c=e.args[0]=e.args[0],l=e.args[1]=e.args[1]||{},u=l.headers;To(c,Request)&&(u=c.headers),u?"function"==typeof u.append?u.append("sentry-trace",a.toTraceparent()):u=Array.isArray(u)?go(u,[["sentry-trace",a.toTraceparent()]]):fo(fo({},u),{"sentry-trace":a.toTraceparent()}):u={"sentry-trace":a.toTraceparent()},l.headers=u}}(e,c,l)},type:"fetch"}),r&&yi({callback:function(e){!function(e,t,n){var r,o=null===(r=Bi().getClient())||void 0===r?void 0:r.getOptions();if(!o||!Ys(o)||!(e.xhr&&e.xhr.__sentry_xhr__&&t(e.xhr.__sentry_xhr__.url))||e.xhr.__sentry_own_request__)return;var i=e.xhr.__sentry_xhr__;if(e.endTimestamp&&e.xhr.__sentry_xhr_span_id__){return void((a=n[e.xhr.__sentry_xhr_span_id__])&&(a.setHttpStatus(i.status_code),a.finish(),delete n[e.xhr.__sentry_xhr_span_id__]))}var s=Gs();if(s){var a=s.startChild({data:fo(fo({},i.data),{type:"xhr",method:i.method,url:i.url}),description:i.method+" "+i.url,op:"http"});if(e.xhr.__sentry_xhr_span_id__=a.spanId,n[e.xhr.__sentry_xhr_span_id__]=a,e.xhr.setRequestHeader)try{e.xhr.setRequestHeader("sentry-trace",a.toTraceparent())}catch(e){}}}(e,c,l)},type:"xhr"})}var Ea=Ao();var Ta=fo({idleTimeout:1e3,markBackgroundTransactions:!0,maxTransactionDuration:600,routingInstrumentation:function(e,t,n){if(void 0===t&&(t=!0),void 0===n&&(n=!0),Ea&&Ea.location){var r,o=Ea.location.href;t&&(r=e({name:Ea.location.pathname,op:"pageload"})),n&&yi({callback:function(t){var n=t.to,i=t.from;void 0===i&&o&&-1!==o.indexOf(n)?o=void 0:i!==n&&(o=void 0,r&&(Ko.log("[Tracing] Finishing current transaction with op: "+r.op),r.finish()),r=e({name:Ea.location.pathname,op:"navigation"}))},type:"history"})}else Ko.warn("Could not initialize routing instrumentation due to invalid location")},startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0},ka),Ca=function(){function e(t){this.name=e.id,this._metrics=new ba,this._emitOptionsWarning=!1;var n=ka.tracingOrigins;t&&t.tracingOrigins&&Array.isArray(t.tracingOrigins)&&0!==t.tracingOrigins.length?n=t.tracingOrigins:this._emitOptionsWarning=!0,this.options=fo(fo(fo({},Ta),t),{tracingOrigins:n})}return e.prototype.setupOnce=function(e,t){var n=this;this._getCurrentHub=t,this._emitOptionsWarning&&(Ko.warn("[Tracing] You need to define `tracingOrigins` in the options. Set an array of urls or patterns to trace."),Ko.warn("[Tracing] We added a reasonable default for you: "+ka.tracingOrigins));var r=this.options,o=r.routingInstrumentation,i=r.startTransactionOnLocationChange,s=r.startTransactionOnPageLoad,a=r.markBackgroundTransactions,c=r.traceFetch,l=r.traceXHR,u=r.tracingOrigins,d=r.shouldCreateSpanForRequest;o((function(e){return n._createRouteTransaction(e)}),s,i),a&&(ia&&ia.document?ia.document.addEventListener("visibilitychange",(function(){var e=Gs();ia.document.hidden&&e&&(Ko.log("[Tracing] Transaction: "+Ns.Cancelled+" -> since tab moved to the background, op: "+e.op),e.status||e.setStatus(Ns.Cancelled),e.setTag("visibilitychange","document.hidden"),e.finish())})):Ko.warn("[Tracing] Could not set up background tab detection due to lack of global document")),Sa({traceFetch:c,traceXHR:l,tracingOrigins:u,shouldCreateSpanForRequest:d})},e.prototype._createRouteTransaction=function(e){var t=this;if(this._getCurrentHub){var n=this.options,r=n.beforeNavigate,o=n.idleTimeout,i=n.maxTransactionDuration,s="pageload"===e.op?function(){var e=(t="sentry-trace",n=document.querySelector("meta[name="+t+"]"),n?n.getAttribute("content"):null);var t,n;if(e)return function(e){var t=e.match(Xs);if(t){var n=void 0;return"1"===t[3]?n=!0:"0"===t[3]&&(n=!1),{traceId:t[1],parentSampled:n,parentSpanId:t[2]}}}(e);return}():void 0,a=fo(fo(fo({},e),s),{trimEnd:!0}),c="function"==typeof r?r(a):a,l=void 0===c?fo(fo({},a),{sampled:!1}):c;!1===l.sampled&&Ko.log("[Tracing] Will not send "+l.op+" transaction because of beforeNavigate."),Ko.log("[Tracing] Starting "+l.op+" transaction on scope");var u=function(e,t,n,r,o){var i,s,a=(null===(i=e.getClient())||void 0===i?void 0:i.getOptions())||{},c=new ea(t,e,n,r);return(c=ra(c,a,fo({parentSampled:t.parentSampled,transactionContext:t},o))).sampled&&c.initSpanRecorder(null===(s=a._experiments)||void 0===s?void 0:s.maxSpans),c}(this._getCurrentHub(),l,o,!0,{location:Ao().location});return u.registerBeforeFinishCallback((function(e,n){t._metrics.addPerformanceEntries(e),function(e,t,n){var r=n-t.startTimestamp;n&&(r>e||r<0)&&(t.setStatus(Ns.DeadlineExceeded),t.setTag("maxTransactionDurationExceeded","true"))}(1e3*i,e,n)})),u}Ko.warn("[Tracing] Did not create "+e.op+" transaction because _getCurrentHub is invalid.")},e.id="BrowserTracing",e}();var Oa=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._router=t.router||t.app,this._methods=(Array.isArray(t.methods)?t.methods:[]).concat("use")}return e.prototype.setupOnce=function(){this._router?function(e,t){void 0===t&&(t=[]);t.forEach((function(t){return function(e,t){var n=e[t];return e[t]=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return n.call.apply(n,go([this],za(e,t)))},e}(e,t)}))}(this._router,this._methods):Ko.error("ExpressIntegration is missing an Express instance")},e.id="Express",e}();function Ia(e,t){var n=e.length;switch(n){case 2:return function(n,r){var o=r.__sentry_transaction;if(o){var i=o.startChild({description:e.name,op:"middleware."+t});r.once("finish",(function(){i.finish()}))}return e.call(this,n,r)};case 3:return function(n,r,o){var i,s=null===(i=r.__sentry_transaction)||void 0===i?void 0:i.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=s)||void 0===e||e.finish(),o.call.apply(o,go([this],t))}))};case 4:return function(n,r,o,i){var s,a=null===(s=o.__sentry_transaction)||void 0===s?void 0:s.startChild({description:e.name,op:"middleware."+t});e.call(this,n,r,o,(function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];null===(e=a)||void 0===e||e.finish(),i.call.apply(i,go([this],t))}))};default:throw new Error("Express middleware takes 2-4 arguments. Got: "+n)}}function za(e,t){return e.map((function(e){return"function"==typeof e?Ia(e,t):Array.isArray(e)?e.map((function(e){return"function"==typeof e?Ia(e,t):e})):e}))}var Ra,ja=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,t){var n;try{n=No(module,"pg").Client}catch(e){return void Ko.error("Postgres Integration was unable to require `pg` package.")}ti(n.prototype,"query",(function(e){return function(n,r,o){var i,s,a=null===(s=null===(i=t().getScope())||void 0===i?void 0:i.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof n?n:n.text,op:"db"});return"function"==typeof o?e.call(this,n,r,(function(e,t){var n;null===(n=a)||void 0===n||n.finish(),o(e,t)})):"function"==typeof r?e.call(this,n,(function(e,t){var n;null===(n=a)||void 0===n||n.finish(),r(e,t)})):e.call(this,n,r).then((function(e){var t;return null===(t=a)||void 0===t||t.finish(),e}))}}))},e.id="Postgres",e}(),La=function(){function e(){this.name=e.id}return e.prototype.setupOnce=function(e,t){var n;try{n=No(module,"mysql/lib/Connection.js")}catch(e){return void Ko.error("Mysql Integration was unable to require `mysql` package.")}ti(n.prototype,"query",(function(e){return function(n,r,o){var i,s,a=null===(s=null===(i=t().getScope())||void 0===i?void 0:i.getSpan())||void 0===s?void 0:s.startChild({description:"string"==typeof n?n:n.sql,op:"db"});return"function"==typeof o?e.call(this,n,r,(function(e,t,n){var r;null===(r=a)||void 0===r||r.finish(),o(e,t,n)})):"function"==typeof r?e.call(this,n,(function(e,t,n){var o;null===(o=a)||void 0===o||o.finish(),r(e,t,n)})):e.call(this,n,r,o)}}))},e.id="Mysql",e}(),Da=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],Na={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]},Pa=function(){function e(t){void 0===t&&(t={}),this.name=e.id,this._operations=Array.isArray(t.operations)?t.operations:Da,this._describeOperations=!("describeOperations"in t)||t.describeOperations,this._useMongoose=!!t.useMongoose}return e.prototype.setupOnce=function(e,t){var n,r=this._useMongoose?"mongoose":"mongodb";try{n=No(module,r).Collection}catch(e){return void Ko.error("Mongo Integration was unable to require `"+r+"` package.")}this._instrumentOperations(n,this._operations,t)},e.prototype._instrumentOperations=function(e,t,n){var r=this;t.forEach((function(t){return r._patchOperation(e,t,n)}))},e.prototype._patchOperation=function(e,t,n){if(t in e.prototype){var r=this._getSpanContextFromOperationArguments.bind(this);ti(e.prototype,t,(function(e){return function(){for(var o,i,s,a,c=[],l=0;l<arguments.length;l++)c[l]=arguments[l];var u=c[c.length-1],d=n().getScope(),p=null===(o=d)||void 0===o?void 0:o.getSpan();if("function"!=typeof u||"mapReduce"===t&&2===c.length){var f=null===(i=p)||void 0===i?void 0:i.startChild(r(this,t,c)),m=e.call.apply(e,go([this],c));return Eo(m)?m.then((function(e){var t;return null===(t=f)||void 0===t||t.finish(),e})):(null===(s=f)||void 0===s||s.finish(),m)}var h=null===(a=p)||void 0===a?void 0:a.startChild(r(this,t,c.slice(0,-1)));return e.call.apply(e,go([this],c.slice(0,-1),[function(e,t){var n;null===(n=h)||void 0===n||n.finish(),u(e,t)}]))}}))}},e.prototype._getSpanContextFromOperationArguments=function(e,t,n){var r={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},o={op:"db",description:t,data:r},i=Na[t],s=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!i||!s)return o;try{if("mapReduce"===t){var a=vo(n,2),c=a[0],l=a[1];r[i[0]]="string"==typeof c?c:c.name||"<anonymous>",r[i[1]]="string"==typeof l?l:l.name||"<anonymous>"}else for(var u=0;u<i.length;u++)r[i[u]]=JSON.stringify(n[u])}catch(e){}return o},e.id="Mongo",e}(),qa=fo(fo({},Object.freeze({__proto__:null,Express:Oa,Postgres:ja,Mysql:La,Mongo:Pa})),{BrowserTracing:Ca});if((Ra=Ai()).__SENTRY__&&(Ra.__SENTRY__.extensions=Ra.__SENTRY__.extensions||{},Ra.__SENTRY__.extensions.startTransaction||(Ra.__SENTRY__.extensions.startTransaction=oa),Ra.__SENTRY__.extensions.traceHeaders||(Ra.__SENTRY__.extensions.traceHeaders=na)),yi({callback:Vs,type:"error"}),yi({callback:Vs,type:"unhandledrejection"}),"undefined"!=typeof navigator&&"ReactNative"===navigator.product&&"undefined"==typeof crypto)throw new Error("React Native does not have a built-in secure random generator. If you donâ€™t need unpredictable IDs use `nanoid/non-secure`. For secure IDs, import `react-native-get-random-values` before Nano ID. If you use Expo, install `expo-random` and use `nanoid/async`.");if("undefined"!=typeof msCrypto&&"undefined"==typeof crypto)throw new Error("Import file with `if (!window.crypto) window.crypto = window.msCrypto` before importing Nano ID to fix IE 11 support");if("undefined"==typeof crypto)throw new Error("Your browser does not have secure random generator. If you donâ€™t need unpredictable IDs, you can use nanoid/non-secure.");let Ua=e=>crypto.getRandomValues(new Uint8Array(e));!function(e){if(void 0===e&&(e={}),void 0===e.defaultIntegrations&&(e.defaultIntegrations=Ws),void 0===e.release){var t=Ao();t.SENTRY_RELEASE&&t.SENTRY_RELEASE.id&&(e.release=t.SENTRY_RELEASE.id)}void 0===e.autoSessionTracking&&(e.autoSessionTracking=!0),e._metadata=e._metadata||{},e._metadata.sdk={name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:as}],version:as},function(e,t){!0===t.debug&&Ko.enable();var n=Bi(),r=new e(t);n.bindClient(r)}(Hs,e),e.autoSessionTracking&&function(){if(void 0===Ao().document)return void Ko.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");var e=Bi();e.startSession(),e.captureSession(),yi({callback:function(){e.startSession(),e.captureSession()},type:"history"})}()}({dsn:"https://0ed5871989214c1ea8393862f38c626f@o530304.ingest.sentry.io/5649635",integrations:[new qa.BrowserTracing],tracesSampleRate:1});const Ma=((e,t)=>((e,t,n)=>{let r=(2<<Math.log(e.length-1)/Math.LN2)-1,o=-~(1.6*r*t/e.length);return()=>{let i="";for(;;){let s=n(o),a=o;for(;a--;)if(i+=e[s[a]&r]||"",i.length===t)return i}}})(e,t,Ua))("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",10);function Aa(t){let n,r,o,i,s,a,c,l,u,d,p;return{c(){n=S("div"),r=S("div"),r.textContent="Make Customized Design",o=C(),i=S("hr"),s=C(),a=S("div"),a.textContent="Unify give you the possibility to contact our designers to Make your\r\n        future customized Design for your merch",c=C(),l=S("div"),u=T("Contact us at "),d=S("a"),p=T("contact@unify.tn"),j(r,"class","title svelte-16uyal2"),j(a,"class","paragraph svelte-16uyal2"),j(d,"href","mailto: contact@unify.tn"),N(d,"color",t[0],1),j(l,"class","paragraph svelte-16uyal2"),j(n,"class","container svelte-16uyal2")},m(e,t){w(e,n,t),$(n,r),$(n,o),$(n,i),$(n,s),$(n,a),$(n,c),$(n,l),$(l,u),$(l,d),$(d,p)},p(e,[t]){1&t&&N(d,"color",e[0],1)},i:e,o:e,d(e){e&&x(n)}}}function Fa(e,t,n){let r;return l(e,nt,(e=>n(0,r=e))),[r]}!function(){let e=localStorage.getItem("cart")||"{}";try{e=JSON.parse(e)}catch{e={cartID:Ma(),items:{}}}console.log(e),null==e.cartID&&(e.cartID=Ma(),localStorage.setItem("cart",JSON.stringify(e))),null==e.items&&(e.items=[]),console.log(e);const{subscribe:t,set:n,update:r}=Ie(e)}();class Ba extends Ce{constructor(e){super(),Te(this,e,Fa,Aa,a,{})}}function Ha(t){let n,r,o,i,s,a,c;return{c(){n=S("header"),r=S("a"),o=S("img"),s=T(" Edit Donation Page"),o.src!==(i="/imgs/misc/nav/donation.png")&&j(o,"src","/imgs/misc/nav/donation.png"),j(o,"alt",""),j(o,"class","svelte-1utf3vu"),j(r,"href","/merch/create"),j(r,"class","u-button svelte-1utf3vu"),N(r,"background",t[0]),j(n,"class","svelte-1utf3vu")},m(e,t){w(e,n,t),$(n,r),$(r,o),$(r,s),a||(c=h(tt.call(null,r)),a=!0)},p(e,[t]){1&t&&N(r,"background",e[0])},i:e,o:e,d(e){e&&x(n),a=!1,c()}}}function Wa(e,t,n){let r;return l(e,nt,(e=>n(0,r=e))),[r]}class Xa extends Ce{constructor(e){super(),Te(this,e,Wa,Ha,a,{})}}function Ya(e,t,n){const r=e.slice();return r[4]=t[n],r}function Ga(t){let n,r=t[1],o=[];for(let e=0;e<r.length;e+=1)o[e]=Ka(Ya(t,r,e));let i=null;return r.length||(i=Va()),{c(){for(let e=0;e<o.length;e+=1)o[e].c();n=O(),i&&i.c()},m(e,t){for(let n=0;n<o.length;n+=1)o[n].m(e,t);w(e,n,t),i&&i.m(e,t)},p(e,t){if(6&t){let s;for(r=e[1],s=0;s<r.length;s+=1){const i=Ya(e,r,s);o[s]?o[s].p(i,t):(o[s]=Ka(i),o[s].c(),o[s].m(n.parentNode,n))}for(;s<o.length;s+=1)o[s].d(1);o.length=r.length,r.length?i&&(i.d(1),i=null):i||(i=Va(),i.c(),i.m(n.parentNode,n))}},i:e,o:e,d(e){k(o,e),e&&x(n),i&&i.d(e)}}}function Ja(t){let n,r,o;return r=new It({props:{width:"75px",height:"75px"}}),{c(){n=S("div"),xe(r.$$.fragment),j(n,"class","u-center-area svelte-15mbtuf")},m(e,t){w(e,n,t),ke(r,n,null),o=!0},p:e,i(e){o||(he(r.$$.fragment,e),o=!0)},o(e){ve(r.$$.fragment,e),o=!1},d(e){e&&x(n),Se(r)}}}function Va(e){let t;return{c(){t=S("div"),t.textContent="No orders\r\n\r\n                    ",j(t,"class","u-center-area svelte-15mbtuf")},m(e,n){w(e,t,n)},d(e){e&&x(t)}}}function Ka(t){let n,r,o,i,s,a,c,l,u,d,p,f,m,h,v,g,y,_,b,k,E,O,I,z=t[4].donationID+"",R=t[4].name+"",L=t[4].amount+"",D=t[4].currency+"",N=t[4].pmtMethod+"",P=t[2](t[4].timestamp)+"",q=t[4].message+"";return{c(){n=S("div"),r=S("div"),o=S("div"),i=T("#"),s=T(z),a=C(),c=S("div"),l=T(R),u=C(),d=S("div"),p=T(L),f=C(),m=T(D),h=C(),v=S("div"),g=T(N),y=C(),_=S("div"),b=T(P),k=C(),E=S("div"),O=T(q),I=C(),j(o,"class","id svelte-15mbtuf"),j(c,"class","name-area svelte-15mbtuf"),j(d,"class","quantity svelte-15mbtuf"),j(v,"class","total_price svelte-15mbtuf"),j(_,"class","date svelte-15mbtuf"),j(E,"class","status svelte-15mbtuf"),j(r,"class","left_part svelte-15mbtuf"),j(n,"class","single_product svelte-15mbtuf")},m(e,t){w(e,n,t),$(n,r),$(r,o),$(o,i),$(o,s),$(r,a),$(r,c),$(c,l),$(r,u),$(r,d),$(d,p),$(d,f),$(d,m),$(r,h),$(r,v),$(v,g),$(r,y),$(r,_),$(_,b),$(r,k),$(r,E),$(E,O),$(n,I)},p:e,d(e){e&&x(n)}}}function Qa(e){let t,n,r,o,i,s,a,c,l,u,d,p,f,m,h,v;const g=[Ja,Ga],y=[];function _(e,t){return e[0]?0:1}return p=_(e),f=y[p]=g[p](e),{c(){t=S("div"),n=S("div"),n.textContent="My Orders",r=C(),o=S("hr"),i=C(),s=S("div"),a=S("div"),a.innerHTML='<div class="id_title svelte-15mbtuf">ID</div> \n            <div class="name-area_title svelte-15mbtuf">Donator</div> \n            <div class="Quantity_title svelte-15mbtuf">Amount</div> \n            <div class="Price_title svelte-15mbtuf">Payment Method</div> \n            <div class="Date_title svelte-15mbtuf">Date</div> \n            <div class="Status_title svelte-15mbtuf">Message</div>',c=C(),l=S("hr"),u=C(),d=S("div"),f.c(),m=C(),h=S("hr"),j(n,"class","big_title svelte-15mbtuf"),j(o,"class","hr_to_remove svelte-15mbtuf"),j(a,"class","titles svelte-15mbtuf"),j(l,"class","hr_to_remove svelte-15mbtuf"),j(h,"class","svelte-15mbtuf"),j(d,"class","u_products svelte-15mbtuf"),j(s,"class","product_container svelte-15mbtuf"),j(t,"class","profile_container svelte-15mbtuf")},m(e,f){w(e,t,f),$(t,n),$(t,r),$(t,o),$(t,i),$(t,s),$(s,a),$(s,c),$(s,l),$(s,u),$(s,d),y[p].m(d,null),$(d,m),$(d,h),v=!0},p(e,[t]){let n=p;p=_(e),p===n?y[p].p(e,t):(fe(),ve(y[n],1,1,(()=>{y[n]=null})),me(),f=y[p],f?f.p(e,t):(f=y[p]=g[p](e),f.c()),he(f,1),f.m(d,m))},i(e){v||(he(f),v=!0)},o(e){ve(f),v=!1},d(e){e&&x(t),y[p].d()}}}function Za(e,t,n){let{first:r=!0}=t;return e.$$set=e=>{"first"in e&&n(0,r=e.first)},[r,[{donationID:"ZHSGSV",name:"hmed",amount:"15",pmtMethod:"paypal",currency:"EUR",timestamp:"1614694072",message:"Hello ahmed I love you so much Hello ahmed I love you so much Hello ahmed I love you so much Hello ahmed I love you so much Hello ahmed I love you so much Hello ahmed I love you so much Hello ahmed I love you so muchHello ahmed I love you so much sdf"}],e=>{const t=new Date(1e3*e),n=t.getFullYear(),r=t.getMonth()+1;return t.getDate()+1+"/"+r+"/"+n}]}class ec extends Ce{constructor(e){super(),Te(this,e,Za,Qa,a,{first:0})}}function tc(e,t,n){const r=e.slice();return r[12]=t[n][0],r[13]=t[n][1],r}function nc(t){let n;return{c(){n=S("p"),n.textContent="XXXX"},m(e,t){w(e,n,t)},p:e,d(e){e&&x(n)}}}function rc(e){let t,n,r=e[16]+"";return{c(){t=S("p"),n=T(r)},m(e,r){w(e,t,r),$(t,n)},p(e,t){1&t&&r!==(r=e[16]+"")&&L(n,r)},d(e){e&&x(t)}}}function oc(t){let n;return{c(){n=T("loading...")},m(e,t){w(e,n,t)},p:e,d(e){e&&x(n)}}}function ic(e){let t,n,r,o,i,s,a,c,l,u,d,p,f,m=e[13].desc+"",h={ctx:e,current:null,token:null,hasCatch:!0,pending:oc,then:rc,catch:nc,value:16,error:17};return _e(l=e[13].value,h),{c(){t=S("div"),n=S("div"),r=S("img"),s=C(),a=S("div"),c=S("div"),h.block.c(),u=C(),d=S("div"),p=T(m),f=C(),r.src!==(o=e[13].img)&&j(r,"src",o),j(r,"alt",i=e[12]),j(r,"class","svelte-1maxzpm"),j(n,"class","u-image svelte-1maxzpm"),j(c,"class","u-number svelte-1maxzpm"),j(d,"class","u-description svelte-1maxzpm"),j(a,"class","u-content svelte-1maxzpm"),j(t,"class","kpi-card svelte-1maxzpm")},m(e,o){w(e,t,o),$(t,n),$(n,r),$(t,s),$(t,a),$(a,c),h.block.m(c,h.anchor=null),h.mount=()=>c,h.anchor=null,$(a,u),$(a,d),$(d,p),$(t,f)},p(t,n){if(e=t,1&n&&r.src!==(o=e[13].img)&&j(r,"src",o),1&n&&i!==(i=e[12])&&j(r,"alt",i),h.ctx=e,1&n&&l!==(l=e[13].value)&&_e(l,h));else{const t=e.slice();t[16]=t[17]=h.resolved,h.block.p(t,n)}1&n&&m!==(m=e[13].desc+"")&&L(p,m)},d(e){e&&x(t),h.block.d(),h.token=null,h=null}}}function sc(e){let t,n,r,o,i,s,a,c,l,u,d,p,f,m,h,v,g,y,_,b;n=new Xa({});let E=Object.entries(e[0]),T=[];for(let t=0;t<E.length;t+=1)T[t]=ic(tc(e,E,t));return _=new ec({props:{first:e[1]}}),{c(){t=S("div"),xe(n.$$.fragment),r=C(),o=S("section"),i=S("div"),s=S("div"),s.textContent="Donations Overview",a=C(),c=S("div"),l=S("i"),u=C(),d=S("select"),p=S("option"),p.textContent="Active",f=S("option"),f.textContent="Past week",m=S("option"),m.textContent="Past Month",h=S("option"),h.textContent="Past Year",v=C(),g=S("div");for(let e=0;e<T.length;e+=1)T[e].c();y=C(),xe(_.$$.fragment),j(s,"class","kpi-header-title svelte-1maxzpm"),j(l,"class","far fa-calendar-alt"),p.__value="Active",p.value=p.__value,f.__value="Past week",f.value=f.__value,m.__value="Past Month",m.value=m.__value,h.__value="Past Year",h.value=h.__value,N(d,"background-color",e[2]),j(d,"class","svelte-1maxzpm"),j(c,"class","analytics-filter svelte-1maxzpm"),j(i,"class","kpi-header svelte-1maxzpm"),j(g,"class","kpi-cards svelte-1maxzpm"),j(o,"class","kpi-section svelte-1maxzpm"),j(t,"class","u-view svelte-1maxzpm")},m(e,x){w(e,t,x),ke(n,t,null),$(t,r),$(t,o),$(o,i),$(i,s),$(i,a),$(i,c),$(c,l),$(c,u),$(c,d),$(d,p),$(d,f),$(d,m),$(d,h),$(o,v),$(o,g);for(let e=0;e<T.length;e+=1)T[e].m(g,null);$(t,y),ke(_,t,null),b=!0},p(e,[t]){if((!b||4&t)&&N(d,"background-color",e[2]),1&t){let n;for(E=Object.entries(e[0]),n=0;n<E.length;n+=1){const r=tc(e,E,n);T[n]?T[n].p(r,t):(T[n]=ic(r),T[n].c(),T[n].m(g,null))}for(;n<T.length;n+=1)T[n].d(1);T.length=E.length}const n={};2&t&&(n.first=e[1]),_.$set(n)},i(e){b||(he(n.$$.fragment,e),he(_.$$.fragment,e),b=!0)},o(e){ve(n.$$.fragment,e),ve(_.$$.fragment,e),b=!1},d(e){e&&x(t),Se(n),k(T,e),Se(_)}}}function ac(e,t,n){let r,o;l(e,gt,(e=>n(10,r=e))),l(e,nt,(e=>n(2,o=e))),document.title="Unify Creator - Overview";let i,s,a={orders:{img:"/imgs/misc/receipt.png",value:"Loading...",desc:"Number of orders"},profit:{img:"/imgs/misc/profit.png",value:"Loading...",desc:"Profit"},pay:{img:"imgs/misc/pay.png",value:0,desc:"Money to be paid out"}},c=[],u=!0,d=()=>{};var p,f;X((async()=>{"denied"!==Notification.permission&&"granted"!=Notification.permission&&Notification.requestPermission(),document.addEventListener(f,h,!1);let e=(await ht.doc("/creators/"+r.claims.username+"/merch/all").get()).data();d=ht.doc("creators/"+r.claims.username+"/orders/all").onSnapshot((t=>{n(1,u=!1);let o=t.data();if(null==o)return c=[],n(0,a.profit.value=0,a),void n(0,a.orders.value=0,a);let l=o.orders;c=Object.entries(l).map((([t,n])=>{n.cartID=t,n.timestamp=n.timestamp.seconds;for(let[t,o]of Object.entries(n.items)){let t=e[o.id],n=t.imgs[o.color][t.featuredFace],i="creators/"+r.claims.username+"/merch/"+o.id+"/"+t.featuredFace+"-"+o.color;o.img=lt(n,i),o.name=t.name,null==o.status&&(o.status="In Progress")}return n})),c.sort(((e,t)=>t.timestamp-e.timestamp)),c=c;let d={orders:{secured:0,escrow:0},profit:{secured:0,escrow:0}};for(let e of c)for(let[t,n]of Object.entries(e.items))[void 0,"In Progress","Printig","In Delivery"].some((e=>n.status==e))?(d.profit.escrow+=n.profit*n.quantity,d.orders.escrow+=1):"Delivered"==n.status&&(d.profit.secured+=n.profit*n.quantity);if(n(0,a.orders.value=String(d.orders.secured)+" ("+d.orders.escrow+")",a),n(0,a.profit.value=String(d.profit.secured)+" ("+d.profit.escrow+")",a),n(0,a),document[p]){if(!u){let e=c.filter((e=>!m.some((t=>t.cartID==e.cartID))));document.title="("+String(e.length)+") Orders",new Notification("Unify",{body:"("+String(e.length)+") Orders",icon:"./imgs/icon.png"}),setTimeout((()=>{i&&clearInterval(i),i=setInterval((()=>{document.title="("+String(e.length)+") Orders"}),2e3)}),1e3),s&&clearInterval(s),s=setInterval((()=>{document.title="Unify Creator - Overview"}),2e3)}}else m=c;console.log(c),n(1,u=!1)}))})),void 0!==document.hidden?(p="hidden",f="visibilitychange"):void 0!==document.msHidden?(p="msHidden",f="msvisibilitychange"):void 0!==document.webkitHidden&&(p="webkitHidden",f="webkitvisibilitychange");let m=[];const h=()=>{document[p]?m=c:(document.title.includes("Orders")&&(document.title="Unify Creator - Overview"),clearInterval(i),clearInterval(s))};return Y((()=>{d(),document.removeEventListener(f,h)})),[a,u,o]}class cc extends Ce{constructor(e){super(),Te(this,e,ac,sc,a,{})}}function lc(e){let t,n;return{c(){t=S("div"),n=T(e[0]),j(t,"class","error-container svelte-1v6pbts")},m(e,r){w(e,t,r),$(t,n)},p(e,t){1&t&&L(n,e[0])},d(e){e&&x(t)}}}function uc(e){let t;return{c(){t=S("div"),t.textContent="Email Sent",j(t,"class","success-container svelte-1v6pbts")},m(e,n){w(e,t,n)},d(e){e&&x(t)}}}function dc(t){let n,r,o,s,a,c,l,u,d,p,f,m,v,g,y,_,b,k,E,T,O,R,L=t[0]&&lc(t),D=t[2]&&uc();return{c(){n=S("div"),r=S("a"),r.innerHTML='<img src="/imgs/logo.png" alt="logo" class="svelte-1v6pbts"/>Unify',o=C(),s=S("div"),s.textContent="Write your email",a=C(),L&&L.c(),c=C(),D&&D.c(),l=C(),u=S("div"),d=S("div"),p=S("i"),f=C(),m=S("input"),v=C(),g=S("div"),y=S("div"),_=S("button"),_.textContent="Send",b=C(),k=S("div"),E=C(),T=S("div"),j(r,"href","/"),j(r,"class","u_logo svelte-1v6pbts"),j(s,"class","title svelte-1v6pbts"),j(p,"class","far fa-envelope svelte-1v6pbts"),j(m,"type","email"),j(m,"class","verification svelte-1v6pbts"),j(m,"placeholder","Email"),j(d,"class","input"),j(u,"class","inputContainer svelte-1v6pbts"),j(_,"class","send_btn svelte-1v6pbts"),j(y,"class","send"),j(g,"class","verification_btns svelte-1v6pbts"),j(k,"class","circle_top svelte-1v6pbts"),j(T,"class","circle_bottom svelte-1v6pbts"),j(n,"class","left_side svelte-1v6pbts")},m(e,i){w(e,n,i),$(n,r),$(n,o),$(n,s),$(n,a),L&&L.m(n,null),$(n,c),D&&D.m(n,null),$(n,l),$(n,u),$(u,d),$(d,p),$(d,f),$(d,m),t[4](m),$(n,v),$(n,g),$(g,y),$(y,_),$(n,b),$(n,k),$(n,E),$(n,T),O||(R=[h(tt.call(null,r)),I(d,"submit",z(t[3])),I(_,"click",t[3])],O=!0)},p(e,[t]){e[0]?L?L.p(e,t):(L=lc(e),L.c(),L.m(n,c)):L&&(L.d(1),L=null),e[2]?D||(D=uc(),D.c(),D.m(n,l)):D&&(D.d(1),D=null)},i:e,o:e,d(e){e&&x(n),L&&L.d(),D&&D.d(),t[4](null),O=!1,i(R)}}}function pc(e,t,n){let r,o,i=!1;X((()=>{document.title="Unify Creator - Password Reset"}));return[r,o,i,async()=>{n(2,i=!1),await vt.sendPasswordResetEmail(o.value).then((()=>{n(2,i=!0)})).catch((e=>{n(0,r=e.message),n(2,i=!1)}))},function(e){Q[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class fc extends Ce{constructor(e){super(),Te(this,e,pc,dc,a,{})}}const mc=e=>{e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((e,t,n,r)=>t+t+n+n+r+r));const t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]:null};function hc(e,t,n){const r=e.slice();return r[11]=t[n],r}function vc(e){let t,n,r,o,s,a,c,l,u,d,p,f,m,v,g,y,_,b,E,O,z,R,L,D,q,U,M,A=e[4]&&gc(e);function F(e,t){return e[2].docData&&e[2].docData.name?_c:yc}let B=F(e),H=B(e),W=e[1],X=[];for(let t=0;t<W.length;t+=1)X[t]=bc(hc(e,W,t));return{c(){t=S("nav"),A&&A.c(),n=C(),r=S("div"),o=S("a"),s=S("div"),a=S("div"),c=S("img"),u=C(),d=S("div"),H.c(),p=C(),f=S("div"),m=S("img"),g=C(),y=S("div"),y.textContent="UNIFY",_=C(),b=S("div");for(let e=0;e<X.length;e+=1)X[e].c();E=C(),O=S("div"),z=S("img"),L=C(),D=S("div"),q=T("Logout"),c.src!==(l=e[7](e[2]))&&j(c,"src",l),j(c,"alt","user"),j(c,"class","svelte-1hyn4q2"),j(a,"class","u-profile-pic svelte-1hyn4q2"),P(a,"no-margin",e[3]),j(d,"class","u-name svelte-1hyn4q2"),P(d,"hidden",e[3]),j(s,"class","u-info svelte-1hyn4q2"),P(s,"justify-center",e[3]),j(o,"href","/profile"),j(o,"class","svelte-1hyn4q2"),j(r,"class","user-card svelte-1hyn4q2"),P(r,"justify-center",e[3]),P(r,"no-padding",e[3]),j(m,"class","unify-logo svelte-1hyn4q2"),m.src!==(v="/logo.png")&&j(m,"src","/logo.png"),j(m,"alt","unify-logo"),j(y,"class","unify-text svelte-1hyn4q2"),P(y,"hidden",e[3]),j(f,"class","u-unify svelte-1hyn4q2"),P(f,"justify-center",e[3]),j(b,"class","navs svelte-1hyn4q2"),j(z,"class","logout-icon svelte-1hyn4q2"),z.src!==(R="/imgs/misc/nav/logout.png")&&j(z,"src","/imgs/misc/nav/logout.png"),j(z,"alt","logout"),j(D,"class","logout-text svelte-1hyn4q2"),N(D,"background",e[5]),P(D,"hidden",e[3]),N(O,"background",e[5]),j(O,"class","signout svelte-1hyn4q2"),P(O,"justify-center",e[3]),j(t,"class","svelte-1hyn4q2"),P(t,"collapse",e[3]),P(t,"noCollapse",!e[3])},m(i,l){w(i,t,l),A&&A.m(t,null),$(t,n),$(t,r),$(r,o),$(o,s),$(s,a),$(a,c),$(s,u),$(s,d),H.m(d,null),$(t,p),$(t,f),$(f,m),$(f,g),$(f,y),$(t,_),$(t,b);for(let e=0;e<X.length;e+=1)X[e].m(b,null);$(t,E),$(t,O),$(O,z),$(O,L),$(O,D),$(D,q),U||(M=[h(tt.call(null,o)),I(O,"click",e[8])],U=!0)},p(e,o){if(e[4]?A?A.p(e,o):(A=gc(e),A.c(),A.m(t,n)):A&&(A.d(1),A=null),4&o&&c.src!==(l=e[7](e[2]))&&j(c,"src",l),8&o&&P(a,"no-margin",e[3]),B===(B=F(e))&&H?H.p(e,o):(H.d(1),H=B(e),H&&(H.c(),H.m(d,null))),8&o&&P(d,"hidden",e[3]),8&o&&P(s,"justify-center",e[3]),8&o&&P(r,"justify-center",e[3]),8&o&&P(r,"no-padding",e[3]),8&o&&P(y,"hidden",e[3]),8&o&&P(f,"justify-center",e[3]),43&o){let t;for(W=e[1],t=0;t<W.length;t+=1){const n=hc(e,W,t);X[t]?X[t].p(n,o):(X[t]=bc(n),X[t].c(),X[t].m(b,null))}for(;t<X.length;t+=1)X[t].d(1);X.length=W.length}32&o&&N(D,"background",e[5]),8&o&&P(D,"hidden",e[3]),32&o&&N(O,"background",e[5]),8&o&&P(O,"justify-center",e[3]),8&o&&P(t,"collapse",e[3]),8&o&&P(t,"noCollapse",!e[3])},d(e){e&&x(t),A&&A.d(),H.d(),k(X,e),U=!1,i(M)}}}function gc(e){let t,n,r,o,i;return{c(){t=S("div"),n=S("img"),n.src!==(r="/imgs/misc/nav/caret.png")&&j(n,"src","/imgs/misc/nav/caret.png"),j(n,"alt","caret"),j(n,"class","svelte-1hyn4q2"),P(n,"reverse",e[3]),j(t,"class","resize-button svelte-1hyn4q2"),P(t,"reverse",e[3])},m(r,s){w(r,t,s),$(t,n),o||(i=I(t,"click",e[6]),o=!0)},p(e,r){8&r&&P(n,"reverse",e[3]),8&r&&P(t,"reverse",e[3])},d(e){e&&x(t),o=!1,i()}}}function yc(t){let n;return{c(){n=T("Update Name")},m(e,t){w(e,n,t)},p:e,d(e){e&&x(n)}}}function _c(e){let t,n=e[2].docData.name+"";return{c(){t=T(n)},m(e,n){w(e,t,n)},p(e,r){4&r&&n!==(n=e[2].docData.name+"")&&L(t,n)},d(e){e&&x(t)}}}function bc(e){let t,n,r,o,i,s,a,c,l,u,d=e[11].name+"";return{c(){t=S("a"),n=S("img"),o=C(),i=S("div"),s=T(d),a=C(),j(n,"class","nav-item-img svelte-1hyn4q2"),n.src!==(r=e[11].img)&&j(n,"src",r),j(n,"alt","item img"),P(n,"no-margin",e[3]),j(i,"class","nav-item-name svelte-1hyn4q2"),P(i,"hidden",e[3]),j(t,"href",c=e[11].path),N(t,"color",e[5]),N(t,"background-color",e[0]==e[11].routerLink?"rgba("+mc(e[5])+",0.4)":""),j(t,"class","u-nav-item svelte-1hyn4q2"),P(t,"justify-center",e[3]),P(t,"active",e[0]==e[11].routerLink)},m(e,r){w(e,t,r),$(t,n),$(t,o),$(t,i),$(i,s),$(t,a),l||(u=h(tt.call(null,t)),l=!0)},p(e,o){2&o&&n.src!==(r=e[11].img)&&j(n,"src",r),8&o&&P(n,"no-margin",e[3]),2&o&&d!==(d=e[11].name+"")&&L(s,d),8&o&&P(i,"hidden",e[3]),2&o&&c!==(c=e[11].path)&&j(t,"href",c),32&o&&N(t,"color",e[5]),35&o&&N(t,"background-color",e[0]==e[11].routerLink?"rgba("+mc(e[5])+",0.4)":""),8&o&&P(t,"justify-center",e[3]),3&o&&P(t,"active",e[0]==e[11].routerLink)},d(e){e&&x(t),l=!1,u()}}}function $c(t){let n,r=!["/login","/register","/forgotpassword","/phoneverification"].includes(t[0]),o=r&&vc(t);return{c(){o&&o.c(),n=O()},m(e,t){o&&o.m(e,t),w(e,n,t)},p(e,[t]){1&t&&(r=!["/login","/register","/forgotpassword","/phoneverification"].includes(e[0])),r?o?o.p(e,t):(o=vc(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:e,o:e,d(e){o&&o.d(e),e&&x(n)}}}function wc(e,t,n){let r,o,i,s;l(e,gt,(e=>n(2,r=e))),l(e,rt,(e=>n(3,o=e))),l(e,ot,(e=>n(4,i=e))),l(e,nt,(e=>n(5,s=e)));let{activeURI:a}=t;console.log(r);const c=[{name:"Merch Overview",routerLink:"/",path:"/",img:"/imgs/misc/nav/dashboard.png"},{name:"Donation Overview",routerLink:"/donation",path:"/donation",img:"/imgs/misc/nav/donation.png"},{name:"Profile",routerLink:"/profile",path:"/profile",img:"/imgs/misc/nav/profile.png"},{name:"Store",routerLink:"/merch",path:"/merch/all",img:"/imgs/misc/nav/store.png"},{name:"Design",routerLink:"/design",path:"/design",img:"/imgs/misc/nav/design.png"}],u=[{name:"Overview",routerLink:"/",path:"/",img:"/imgs/misc/nav/dashboard.png"},{name:"Profile",routerLink:"/profile",path:"/profile",img:"/imgs/misc/nav/profile.png"},{name:"Design",routerLink:"/design",path:"/design",img:"/imgs/misc/nav/design.png"}];let d=window.innerWidth<1180?u:c;window.onresize=()=>{n(1,d=window.innerWidth<1180?u:c)};return e.$$set=e=>{"activeURI"in e&&n(0,a=e.activeURI)},[a,d,r,o,i,s,()=>{console.log(o),m(rt,o=!o,o)},()=>r.docData&&r.docData.logo&&r.docData.logo.length>0?lt(r.docData.logo,"creators/"+r.claims.username+"/logo"):"/imgs/misc/nav/user.png",()=>{firebase.auth().signOut()}]}class xc extends Ce{constructor(e){super(),Te(this,e,wc,$c,a,{activeURI:0})}}function kc(e){const t=e-1;return t*t*t+1}function Sc(e,{delay:n=0,duration:r=400,easing:o=t}={}){const i=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:o,css:e=>"opacity: "+e*i}}function Ec(e,{delay:t=0,duration:n=400,easing:r=kc,x:o=0,y:i=0,opacity:s=0}={}){const a=getComputedStyle(e),c=+a.opacity,l="none"===a.transform?"":a.transform,u=c*(1-s);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${l} translate(${(1-e)*o}px, ${(1-e)*i}px);\n\t\t\topacity: ${c-u*t}`}}function Tc(e,t,n){const r=e.slice();return r[6]=t[n],r}function Cc(e,t){let n,r,o,i,s,a,c,l,u,d,p,f,m,h,v,g,y,_=t[6].data.title+"",b=t[6].data.content+"";function k(){return t[2](t[6])}return{key:e,first:null,c(){n=S("div"),r=S("div"),i=C(),s=S("div"),a=S("div"),c=T(_),l=C(),u=S("div"),d=T(b),p=C(),f=S("div"),f.textContent="Dismiss",m=C(),j(r,"class","u-t-band svelte-1vkqyid"),j(r,"style",o="background: "+t[6].data.accentColor+";"),j(a,"class","u-t-title svelte-1vkqyid"),j(u,"class","u-t-text svelte-1vkqyid"),j(s,"class","u-t-content svelte-1vkqyid"),j(f,"class","u-t-action svelte-1vkqyid"),j(n,"class","u-toast shadow-6 svelte-1vkqyid"),this.first=n},m(e,t){w(e,n,t),$(n,r),$(n,i),$(n,s),$(s,a),$(a,c),$(s,l),$(s,u),$(u,d),$(n,p),$(n,f),$(n,m),v=!0,g||(y=I(f,"click",k),g=!0)},p(e,n){t=e,(!v||1&n&&o!==(o="background: "+t[6].data.accentColor+";"))&&j(r,"style",o),(!v||1&n)&&_!==(_=t[6].data.title+"")&&L(c,_),(!v||1&n)&&b!==(b=t[6].data.content+"")&&L(d,b)},i(e){v||(re((()=>{h||(h=ye(n,Ec,{x:200,duration:300},!0)),h.run(1)})),v=!0)},o(e){h||(h=ye(n,Ec,{x:200,duration:300},!1)),h.run(0),v=!1},d(e){e&&x(n),e&&h&&h.end(),g=!1,y()}}}function Oc(e){let t,n,r=[],o=new Map,i=e[0];const s=e=>e[6].num;for(let t=0;t<i.length;t+=1){let n=Tc(e,i,t),a=s(n);o.set(a,r[t]=Cc(a,n))}return{c(){t=S("div");for(let e=0;e<r.length;e+=1)r[e].c();j(t,"class","u-notifications svelte-1vkqyid")},m(e,o){w(e,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,[n]){3&n&&(i=e[0],fe(),r=function(e,t,n,r,o,i,s,a,c,l,u,d){let p=e.length,f=i.length,m=p;const h={};for(;m--;)h[e[m].key]=m;const v=[],g=new Map,y=new Map;for(m=f;m--;){const e=d(o,i,m),a=n(e);let c=s.get(a);c?r&&c.p(e,t):(c=l(a,e),c.c()),g.set(a,v[m]=c),a in h&&y.set(a,Math.abs(m-h[a]))}const _=new Set,b=new Set;function $(e){he(e,1),e.m(a,u),s.set(e.key,e),u=e.first,f--}for(;p&&f;){const t=v[f-1],n=e[p-1],r=t.key,o=n.key;t===n?(u=t.first,p--,f--):g.has(o)?!s.has(r)||_.has(r)?$(t):b.has(o)?p--:y.get(r)>y.get(o)?(b.add(r),$(t)):(_.add(o),p--):(c(n,s),p--)}for(;p--;){const t=e[p];g.has(t.key)||c(t,s)}for(;f;)$(v[f-1]);return v}(r,n,s,1,e,i,o,t,be,Cc,null,Tc),me())},i(e){if(!n){for(let e=0;e<i.length;e+=1)he(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)ve(r[e]);n=!1},d(e){e&&x(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Ic(e,t,n){let r=[],o=0;const i={alert:"#f5b353",error:"#e26d8e",success:"#4aba73"};dt.subscribe((e=>{if(0==e)return;o++,i[e.accentColor]&&(e.accentColor=i[e.accentColor]);let t={num:o,data:e},a=setTimeout((()=>{s(t)}),6e3);t.timer=a,n(0,r=[t,...r])}));let s=e=>{clearTimeout(e.timer),n(0,r=r.filter((t=>t.num!=e.num)))};return[r,s,e=>{s(e)}]}class zc extends Ce{constructor(e){super(),Te(this,e,Ic,Oc,a,{})}}function Rc(e,t,n){const r=e.slice();return r[7]=t[n],r}function jc(e){let t,n,r,o,i,s,a,c,l,u,d,p,f,m=e[1].title+"",h=e[1].desc+"",v=e[1].buttons,g=[];for(let t=0;t<v.length;t+=1)g[t]=Lc(Rc(e,v,t));return{c(){t=S("div"),n=S("div"),r=S("div"),o=T(m),i=C(),s=S("p"),a=T(h),c=C(),l=S("div");for(let e=0;e<g.length;e+=1)g[e].c();j(r,"class","u-title svelte-hrgm1i"),j(s,"class","u-desc svelte-hrgm1i"),j(l,"class","u-buttons svelte-hrgm1i"),j(n,"class","u-box svelte-hrgm1i"),j(t,"class","u-overlay svelte-hrgm1i")},m(u,m){w(u,t,m),$(t,n),$(n,r),$(r,o),$(n,i),$(n,s),$(s,a),$(n,c),$(n,l);for(let e=0;e<g.length;e+=1)g[e].m(l,null);e[3](t),d=!0,p||(f=I(n,"click",R(z(e[2]))),p=!0)},p(e,t){if((!d||2&t)&&m!==(m=e[1].title+"")&&L(o,m),(!d||2&t)&&h!==(h=e[1].desc+"")&&L(a,h),2&t){let n;for(v=e[1].buttons,n=0;n<v.length;n+=1){const r=Rc(e,v,n);g[n]?g[n].p(r,t):(g[n]=Lc(r),g[n].c(),g[n].m(l,null))}for(;n<g.length;n+=1)g[n].d(1);g.length=v.length}},i(e){d||(re((()=>{u||(u=ye(t,Sc,{duration:150},!0)),u.run(1)})),d=!0)},o(e){u||(u=ye(t,Sc,{duration:150},!1)),u.run(0),d=!1},d(n){n&&x(t),k(g,n),e[3](null),n&&u&&u.end(),p=!1,f()}}}function Lc(e){let t,n,r,o,i,s=e[7].name+"";return{c(){t=S("div"),n=T(s),r=C(),j(t,"data-res",o=e[7].value),j(t,"class","u-over-button svelte-hrgm1i"),j(t,"style",i="background-color:"+e[7].color)},m(e,o){w(e,t,o),$(t,n),$(t,r)},p(e,r){2&r&&s!==(s=e[7].name+"")&&L(n,s),2&r&&o!==(o=e[7].value)&&j(t,"data-res",o),2&r&&i!==(i="background-color:"+e[7].color)&&j(t,"style",i)},d(e){e&&x(t)}}}function Dc(e){let t,n,r=e[1]&&jc(e);return{c(){r&&r.c(),t=O()},m(e,o){r&&r.m(e,o),w(e,t,o),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&he(r,1)):(r=jc(e),r.c(),he(r,1),r.m(t.parentNode,t)):r&&(fe(),ve(r,1,1,(()=>{r=null})),me())},i(e){n||(he(r),n=!0)},o(e){ve(r),n=!1},d(e){r&&r.d(e),e&&x(t)}}}function Nc(e,t,n){let r,o,i=[],s={ok:"#46b978",danger:"#d23149"};return pt.set((async e=>{let t=new Promise((async(t,a)=>{await Promise.all(i);for(let t of e.buttons)s[t.color]&&(t.color=s[t.color]);n(1,o=e),setTimeout((()=>{r.addEventListener("click",(r=>{r.target===r.currentTarget&&(r.stopPropagation(),console.log("from overlay"),t(e.buttons[e.buttons.length-1].value),n(1,o=void 0))}),{once:!0,capture:!0});for(let e of[...document.querySelectorAll(".u-overlay .u-buttons")])e.addEventListener("click",(e=>{e.stopPropagation(),console.log("ending button"),t(e.target.dataset.res),n(1,o=void 0)}),{once:!0,capture:!0})}),130)}));return i.push(t),t})),[r,o,function(t){V(e,t)},function(e){Q[e?"unshift":"push"]((()=>{r=e,n(0,r)}))}]}class Pc extends Ce{constructor(e){super(),Te(this,e,Nc,Dc,a,{})}}function qc(e){let t,n,r,o,i,s,a;return{c(){t=S("div"),n=S("span"),r=C(),o=S("img"),j(o,"class","u-close svelte-1k1qbp2"),o.src!==(i="/imgs/misc/close-white-bold.png")&&j(o,"src","/imgs/misc/close-white-bold.png"),j(o,"alt","close"),j(t,"class","u-notification-banner svelte-1k1qbp2")},m(i,c){w(i,t,c),$(t,n),n.innerHTML=e[1],$(t,r),$(t,o),s||(a=I(o,"click",e[2]),s=!0)},p(e,t){2&t&&(n.innerHTML=e[1])},d(e){e&&x(t),s=!1,a()}}}function Uc(t){let n,r=!t[0]&&qc(t);return{c(){r&&r.c(),n=O()},m(e,t){r&&r.m(e,t),w(e,n,t)},p(e,[t]){e[0]?r&&(r.d(1),r=null):r?r.p(e,t):(r=qc(e),r.c(),r.m(n.parentNode,n))},i:e,o:e,d(e){r&&r.d(e),e&&x(n)}}}function Mc(e,t,n){let{text:r=""}=t,{closed:o=!1}=t;return e.$$set=e=>{"text"in e&&n(1,r=e.text),"closed"in e&&n(0,o=e.closed)},[o,r,()=>{n(0,o=!0)}]}class Ac extends Ce{constructor(e){super(),Te(this,e,Mc,Uc,a,{text:1,closed:0})}}function Fc(e){let t,n,r;function o(t){e[5](t)}let i={text:e[3]};return void 0!==e[4]&&(i.closed=e[4]),t=new Ac({props:i}),Q.push((()=>we(t,"closed",o))),{c(){xe(t.$$.fragment)},m(e,n){ke(t,e,n),r=!0},p(e,r){const o={};8&r&&(o.text=e[3]),!n&&16&r&&(n=!0,o.closed=e[4],oe((()=>n=!1))),t.$set(o)},i(e){r||(he(t.$$.fragment,e),r=!0)},o(e){ve(t.$$.fragment,e),r=!1},d(e){Se(t,e)}}}function Bc(e){let t,n;return t=new Gt({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Hc(e){let t,n;return t=new cn({props:{$$slots:{default:[Bc]},$$scope:{ctx:e}}}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Wc(e){let t,n;return t=new Lr({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Xc(e){let t,n;return t=new cn({props:{$$slots:{default:[Wc]},$$scope:{ctx:e}}}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Yc(e){let t,n;return t=new hr({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Gc(e){let t,n;return t=new cn({props:{$$slots:{default:[Yc]},$$scope:{ctx:e}}}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Jc(e){let t,n;return t=new Ba({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Vc(e){let t,n;return t=new cn({props:{$$slots:{default:[Jc]},$$scope:{ctx:e}}}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Kc(e){let t,n;return t=new cc({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Qc(e){let t,n;return t=new cn({props:{$$slots:{default:[Kc]},$$scope:{ctx:e}}}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},p(e,n){const r={};128&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function Zc(e){let t,n;return t=new Pr({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function el(e){let t,n;return t=new Wr({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function tl(e){let t,n;return t=new nn({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function nl(e){let t,n;return t=new io({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function rl(e){let t,n;return t=new fc({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function ol(e){let t,n;return t=new kt({}),{c(){xe(t.$$.fragment)},m(e,r){ke(t,e,r),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){ve(t.$$.fragment,e),n=!1},d(e){Se(t,e)}}}function il(e){let t,n,r,o,i,s,a,c,l,u,d,p,f,m,h,v,g,y,_,b,$,k;return t=new et({props:{path:"/",$$slots:{default:[Hc]},$$scope:{ctx:e}}}),r=new et({props:{path:"/profile",$$slots:{default:[Xc]},$$scope:{ctx:e}}}),i=new et({props:{path:"/merch/*",$$slots:{default:[Gc]},$$scope:{ctx:e}}}),a=new et({props:{path:"/design",$$slots:{default:[Vc]},$$scope:{ctx:e}}}),l=new et({props:{path:"/donation",$$slots:{default:[Qc]},$$scope:{ctx:e}}}),d=new et({props:{path:"/test",$$slots:{default:[Zc]},$$scope:{ctx:e}}}),f=new et({props:{path:"/register",$$slots:{default:[el]},$$scope:{ctx:e}}}),h=new et({props:{path:"/login",$$slots:{default:[tl]},$$scope:{ctx:e}}}),g=new et({props:{path:"/phoneverification",$$slots:{default:[nl]},$$scope:{ctx:e}}}),_=new et({props:{path:"/forgotpassword",$$slots:{default:[rl]},$$scope:{ctx:e}}}),$=new et({props:{path:"*",$$slots:{default:[ol]},$$scope:{ctx:e}}}),{c(){xe(t.$$.fragment),n=C(),xe(r.$$.fragment),o=C(),xe(i.$$.fragment),s=C(),xe(a.$$.fragment),c=C(),xe(l.$$.fragment),u=C(),xe(d.$$.fragment),p=C(),xe(f.$$.fragment),m=C(),xe(h.$$.fragment),v=C(),xe(g.$$.fragment),y=C(),xe(_.$$.fragment),b=C(),xe($.$$.fragment)},m(e,x){ke(t,e,x),w(e,n,x),ke(r,e,x),w(e,o,x),ke(i,e,x),w(e,s,x),ke(a,e,x),w(e,c,x),ke(l,e,x),w(e,u,x),ke(d,e,x),w(e,p,x),ke(f,e,x),w(e,m,x),ke(h,e,x),w(e,v,x),ke(g,e,x),w(e,y,x),ke(_,e,x),w(e,b,x),ke($,e,x),k=!0},p(e,n){const o={};128&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};128&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s);const c={};128&n&&(c.$$scope={dirty:n,ctx:e}),i.$set(c);const u={};128&n&&(u.$$scope={dirty:n,ctx:e}),a.$set(u);const p={};128&n&&(p.$$scope={dirty:n,ctx:e}),l.$set(p);const m={};128&n&&(m.$$scope={dirty:n,ctx:e}),d.$set(m);const v={};128&n&&(v.$$scope={dirty:n,ctx:e}),f.$set(v);const y={};128&n&&(y.$$scope={dirty:n,ctx:e}),h.$set(y);const b={};128&n&&(b.$$scope={dirty:n,ctx:e}),g.$set(b);const w={};128&n&&(w.$$scope={dirty:n,ctx:e}),_.$set(w);const x={};128&n&&(x.$$scope={dirty:n,ctx:e}),$.$set(x)},i(e){k||(he(t.$$.fragment,e),he(r.$$.fragment,e),he(i.$$.fragment,e),he(a.$$.fragment,e),he(l.$$.fragment,e),he(d.$$.fragment,e),he(f.$$.fragment,e),he(h.$$.fragment,e),he(g.$$.fragment,e),he(_.$$.fragment,e),he($.$$.fragment,e),k=!0)},o(e){ve(t.$$.fragment,e),ve(r.$$.fragment,e),ve(i.$$.fragment,e),ve(a.$$.fragment,e),ve(l.$$.fragment,e),ve(d.$$.fragment,e),ve(f.$$.fragment,e),ve(h.$$.fragment,e),ve(g.$$.fragment,e),ve(_.$$.fragment,e),ve($.$$.fragment,e),k=!1},d(e){Se(t,e),e&&x(n),Se(r,e),e&&x(o),Se(i,e),e&&x(s),Se(a,e),e&&x(c),Se(l,e),e&&x(u),Se(d,e),e&&x(p),Se(f,e),e&&x(m),Se(h,e),e&&x(v),Se(g,e),e&&x(y),Se(_,e),e&&x(b),Se($,e)}}}function sl(e){let t,n,r,o,i,s,a,c,l,u,d,p;t=new zc({}),r=new Pc({}),s=new xc({props:{activeURI:e[2]}});let f=e[3]&&Fc(e);function m(t){e[6](t)}let h={url:e[0],$$slots:{default:[il]},$$scope:{ctx:e}};return void 0!==e[1]&&(h.activeRoute=e[1]),u=new Xe({props:h}),Q.push((()=>we(u,"activeRoute",m))),{c(){xe(t.$$.fragment),n=C(),xe(r.$$.fragment),o=C(),i=S("div"),xe(s.$$.fragment),a=C(),c=S("div"),f&&f.c(),l=C(),xe(u.$$.fragment),j(c,"class","u-view-container svelte-qtdd40"),j(i,"class","app-container svelte-qtdd40")},m(e,d){ke(t,e,d),w(e,n,d),ke(r,e,d),w(e,o,d),w(e,i,d),ke(s,i,null),$(i,a),$(i,c),f&&f.m(c,null),$(c,l),ke(u,c,null),p=!0},p(e,[t]){const n={};4&t&&(n.activeURI=e[2]),s.$set(n),e[3]?f?(f.p(e,t),8&t&&he(f,1)):(f=Fc(e),f.c(),he(f,1),f.m(c,l)):f&&(fe(),ve(f,1,1,(()=>{f=null})),me());const r={};1&t&&(r.url=e[0]),128&t&&(r.$$scope={dirty:t,ctx:e}),!d&&2&t&&(d=!0,r.activeRoute=e[1],oe((()=>d=!1))),u.$set(r)},i(e){p||(he(t.$$.fragment,e),he(r.$$.fragment,e),he(s.$$.fragment,e),he(f),he(u.$$.fragment,e),p=!0)},o(e){ve(t.$$.fragment,e),ve(r.$$.fragment,e),ve(s.$$.fragment,e),ve(f),ve(u.$$.fragment,e),p=!1},d(e){Se(t,e),e&&x(n),Se(r,e),e&&x(o),e&&x(i),Se(s),f&&f.d(),Se(u)}}}function al(e,t,n){let r,o,{url:i=""}=t,s="",a=!1;return X((()=>{gt.subscribe((e=>{0==e||"init"==e||(console.log(e.docData?.storeEnabled),console.log(a),0==e.docData?.storeEnabled&&!1===a&&(console.log("inside"),n(3,s='This store is currently disabled, if this is your first time using our service this will be resolved shortly. Otherwise <a class="underlined" href="mailto:contact@unify.tn">contact us</a> for more information.')))})),r.subscribe((e=>{n(2,o=e.uri),console.log(o)})),setTimeout((()=>{let e=document.getElementById("logo-loader");e.parentNode.removeChild(e)}),1e3)})),e.$$set=e=>{"url"in e&&n(0,i=e.url)},[i,r,o,s,a,function(e){a=e,n(4,a)},function(e){r=e,n(1,r)}]}return new class extends Ce{constructor(e){super(),Te(this,e,al,sl,a,{url:0})}}({target:document.body,props:{name:"world"}})}();
